<div class="tab">
	<div class="contactenos">
		<button class="active" (click)="toogleHidden()">
			{{this.title_a}}
		</button>
	</div>
	<div class="trabaje">
		<button (click)="toogleHidden()">
			{{this.title_b}}
		</button>
	</div>
</div>
<br /><br />
<div class="container" [hidden]="hidden">
	<div class="row">
		<p [innerHTML]="descrip_form" class="descrip-form"></p>
		<form id="formulario_contacto" #userForm="ngForm" (ngSubmit)="onSubmit(userForm.value)" class="col-md-12"
			name="formulario_contacto">
			<app-message [dataMessage]="dataMessage"></app-message>
			<div class="col-md-12 form-group">
				<!-- elementoForm: array de campos que conforman el formulario-->
				<div *ngFor="let item of elementoForm">
					<!-- *ngIf="item[0]": validacion para mostrar los elementos del formulario que pertenecen a layout-->
					<div *ngIf="item[0]">
						<div class="col-md-6 item" *ngFor="let elementLayout of item">
							<!-- Campos textfiel o tel. No incluye los select: pais, servicios de interes y productos de interes-->
							<div
								*ngIf="(elementLayout['#type'] == 'textfield' || elementLayout['#type'] == 'tel') && elementLayout['#webform_key'] != 'pais' && elementLayout['#webform_key'] != 'servicios_de_interes' && elementLayout['#webform_key'] != 'productos_de_interes'">
								<label for="{{elementLayout['#webform_key']}}">{{elementLayout["#title"]}}
									<span *ngIf="elementLayout['#required'] ==  true">*</span></label>
								<input type="{{elementLayout['#type']}}" class="form-control" id="{{'contact_us__' + elementLayout['#webform_key']}}"
									placeholder="{{elementLayout['#placeholder']}}" name="{{elementLayout['#webform_key']}}"
									(click)="mostrarDatos($event)" (mouseleave)="ocultarDatos($event)"
									required="{{elementLayout['#required'] ==  true}}" (mouseover)="mostrarDatos($event)"
									maxlength="{{elementLayout['#maxlength']}}" #textfield="ngModel" ngModel>
								<div *ngIf="textfield.invalid && textfield.touched" class="alert alert-danger"
									role="alert">
									Campo obligatorio o invalido
								</div>
							</div>
							<!-- Campos email-->
							<div *ngIf="elementLayout['#type'] == 'email'">
								<label for="{{elementLayout['#webform_key']}}">{{elementLayout["#title"]}}<span *ngIf="elementLayout['#required'] ==  true">*</span></label>
								<input type="{{elementLayout['#type']}}" class="form-control" id="{{'contact_us__' +elementLayout['#webform_key']}}"
									placeholder="{{elementLayout['#placeholder']}}" name="{{elementLayout['#webform_key']}}"
									maxlength="{{elementLayout['#maxlength']}}" #email="ngModel"
									required="{{elementLayout['#required'] ==  true}}" (click)="mostrarDatos($event)"
									(mouseleave)="ocultarDatos($event)" (mouseover)="mostrarDatos($event)"
									pattern="[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?" ngModel>
								<div *ngIf="email.invalid && email.touched" class="alert alert-danger" role="alert">
									Campo obligatorio o invalido
								</div>
							</div>
							<!-- Campos textarea-->
							<div *ngIf="elementLayout['#type'] == 'textarea'">
								<label for="{{elementLayout['#webform_key']}}">{{elementLayout["#title"]}}<span *ngIf="elementLayout['#required'] ==  true">*</span></label>
								<textarea class="form-control" id="{{'contact_us__' +elementLayout['#webform_key']}}"
									placeholder="{{elementLayout['#placeholder']}}" name="{{elementLayout['#webform_key']}}"
									(click)="mostrarDatos($event)" (mouseleave)="ocultarDatos($event)"
									(mouseover)="mostrarDatos($event)" required="{{elementLayout['#required'] ==  true}}"
									maxlength="{{elementLayout['#maxlength']}}"
									#textarea="ngModel" ngModel></textarea>
								<div *ngIf="textarea.invalid && textarea.touched" class="alert alert-danger"
									role="alert">
									Campo obligatorio o invalido
								</div>
							</div>
							<!-- Campo select pais, se debe mantener el nombre para que funcione el componente-->
							<div *ngIf="elementLayout['#webform_key'] == 'pais'">
								<label for="{{elementLayout['#webform_key']}}">{{elementLayout['#title']}}<span *ngIf="elementLayout['#required'] ==  true">*</span></label>
								<ng-select #paisTB class="select-autocomplete" id="{{'contact_us__' +elementLayout['#webform_key']}}" name="pais"
									placeholder="{{elementLayout['#placeholder']}}" [allowClear]="true" [items]="listPais"
									[disabled]="disabled" (data)="refreshValuePais($event)"
									(selected)="selectedPais($event)" (removed)="removedPais($event)"
									(typed)="typedPais($event)">
								</ng-select>
								<input type="text" class="form-control ocultar" id="{{elementLayout['#webform_key']}}"
									name="{{elementLayout['#webform_key']}}" [ngModel]="pais">
							</div>
							<!-- Campo select servicios de interes, se debe mantener el nombre para que funcione el componente-->
							<div *ngIf="elementLayout['#webform_key'] == 'servicios_de_interes'">
								<label for="{{elementLayout['#webform_key']}}">{{elementLayout['#title']}}<span *ngIf="elementLayout['#required'] ==  true">*</span></label>
								<ng-select #serviceTB class="select-autocomplete" id="{{'contact_us__' +elementLayout['#webform_key']}}"
									name="servicios_de_interes" placeholder="{{elementLayout['#placeholder']}}"
									[allowClear]="true" [items]="listService" [disabled]="disabled"
									(data)="refreshValueService($event)" (selected)="selectedService($event)"
									(removed)="removedService($event)" (typed)="typedService($event)">
								</ng-select>
								<input type="text" class="form-control ocultar" id="{{elementLayout['#webform_key']}}"
									name="{{elementLayout['#webform_key']}}" [ngModel]="service">
							</div>
							<!-- Campo select productos de interes, se debe mantener el nombre para que funcione el componente-->
							<div *ngIf="elementLayout['#webform_key'] == 'productos_de_interes'">
								<label for="{{elementLayout['#webform_key']}}">{{elementLayout['#title']}}<span *ngIf="elementLayout['#required'] ==  true">*</span></label>
								<ng-select #productTB class="select-autocomplete" id="{{'contact_us__' + elementLayout['#webform_key']}}"
									name="productos_de_interes" placeholder="{{elementLayout['#placeholder']}}"
									[allowClear]="true" [items]="listProduct" [disabled]="disabled"
									(data)="refreshValueProduct($event)" (selected)="selectedProduct($event)"
									(removed)="removedProduct($event)" (typed)="typedProduct($event)">
								</ng-select>
								<input type="text" class="form-control ocultar" id="{{elementLayout['#webform_key']}}"
									name="{{elementLayout['#webform_key']}}" [ngModel]="product">
							</div>
						</div>
					</div>
					<!-- *ngIf="!item[0]": validacion para mostrar los elementos del formulario que no pertenecen a layout-->
					<div *ngIf="!item[0]">
						<!-- Campos textfiel o tel. No incluye los select: pais, servicios de interes y productos de interes-->
						<div *ngIf="item['#type'] == 'textfield' || item['#type'] == 'tel' && item['#webform_key'] != 'pais' && item['#webform_key'] != 'servicios_de_interes' && item['#webform_key'] != 'productos_de_interes'" class="text">
							<label for="{{item['#webform_key']}}">{{item["#title"]}}<span *ngIf="item['#required'] ==  true">*</span></label>
							<input type="{{item['#type']}}" class="form-control" id="{{'contact_us__' +item['#webform_key']}}"
								placeholder="{{item['#placeholder']}}" name="{{item['#webform_key']}}"
								(click)="mostrarDatos($event)" (mouseleave)="ocultarDatos($event)"
								required="{{item['#required'] ==  true}}" (mouseover)="mostrarDatos($event)"
								maxlength="{{item['#maxlength']}}"
								#textfield="ngModel" ngModel>
							<div *ngIf="textfield.invalid && textfield.touched" class="alert alert-danger" role="alert">
								Campo obligatorio o invalido
							</div>
						</div>
						<!-- Campos email-->
						<div *ngIf="item['#type'] == 'email'" class="text">
							<label for="{{item['#webform_key']}}">{{item["#title"]}}<span *ngIf="item['#required'] ==  true">*</span></label>
							<input type="{{item['#type']}}" class="form-control" id="{{'contact_us__' +item['#webform_key']}}"
								placeholder="{{item['#placeholder']}}" name="{{item['#webform_key']}}"
								maxlength="{{item['#maxlength']}}" #email="ngModel"
								required="{{item['#required'] ==  true}}" (click)="mostrarDatos($event)"
								(mouseleave)="ocultarDatos($event)" (mouseover)="mostrarDatos($event)"
								pattern="[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?" ngModel>
							<div *ngIf="email.invalid && email.touched" class="alert alert-danger" role="alert">
								Campo obligatorio o invalido
							</div>
						</div>
						<!-- Campos textarea-->
						<div *ngIf="item['#type'] == 'textarea'" class="textarea" class="text">
							<label for="{{item['#webform_key']}}">{{item["#title"]}}<span *ngIf="item['#required'] ==  true">*</span></label>
							<textarea class="form-control" id="{{'contact_us__' + item['#webform_key']}}"
								placeholder="{{item['#placeholder']}}" name="{{item['#webform_key']}}"
								(click)="mostrarDatos($event)" (mouseleave)="ocultarDatos($event)"
								(mouseover)="mostrarDatos($event)" required="{{item['#required'] ==  true}}"
								maxlength="{{item['#maxlength']}}"
								#textarea="ngModel" ngModel></textarea>
							<div *ngIf="textarea.invalid && textarea.touched" class="alert alert-danger" role="alert">
								Campo obligatorio o invalido
							</div>
						</div>
						<!-- Campo terminos y condiciones-->
						<div class="form-group" class="terminos_grupo"
							*ngIf="item['#type'] == 'webform_terms_of_service'">
							<input type="checkbox" [checked]="checked" id="{{'contact_us__' +item['#webform_key']}}"
								name="{{item['#webform_key']}}" value="false" 
								required="{{item['#required'] ==  true}}"
								ngModel>
							<label ng-reflect-ng-class="" for="{{'contact_us__' +item['#webform_key']}}">He leído y acepto los<a
									href="/politics">
									términos y condiciones
								</a>
								<ng-template #tipQuestion>
									<div [innerHTML]='listQuestion'></div>
								</ng-template>
								<div class="popover-question" [ngbPopover]="tipQuestion" popoverClass="question"
									[popoverTitle]="tituloQuestion">
									<i class="fas fa-exclamation-circle"></i>
								</div>
							</label>
						</div>
					</div>
				</div>
			</div>
			<re-captcha ngModel #captcha="ngModel" name="captcha" class="captcha" (resolved)="resolved($event)"
				siteKey="6LfycJsUAAAAANcZLFFQErxM92v-rNzuZTX6I3Ob" ngDefaultControl></re-captcha>
			<ng-template #tipContent>{{hover_buttom}}</ng-template>
			<button type="submit" class="btn btn-primary" [ngbTooltip]="tipContent"
				[ngClass]="userForm.invalid?'disabled':''" [disabled]="userForm.invalid">
				ENVIAR
			</button>
			<div class="obligatorios col-md-12"> <span>*</span>Datos Obligatorios</div>
		</form>		
	</div>
</div>
<app-workus [hidden]="!hidden"></app-workus>
