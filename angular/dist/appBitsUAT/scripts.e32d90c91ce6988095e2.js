function TL_Error(t,e){this.name="TL.Error",this.message=t||"error",this.message_key=this.message,this.detail=e||"";var i=new Error;i.hasOwnProperty("stack")&&(this.stack=i.stack)}!function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Chart=t()}(function(){return function t(e,i,n){function a(r,s){if(!i[r]){if(!e[r]){var l="function"==typeof require&&require;if(!s&&l)return l(r,!0);if(o)return o(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var d=i[r]={exports:{}};e[r][0].call(d.exports,function(t){return a(e[r][1][t]||t)},d,d.exports,t,e,i,n)}return i[r].exports}for(var o="function"==typeof require&&require,r=0;r<n.length;r++)a(n[r]);return a}({1:[function(t,e,i){},{}],2:[function(t,e,i){var n=t(6);function a(t){if(t){var e=[0,0,0],i=1,a=t.match(/^#([a-fA-F0-9]{3})$/);if(a){a=a[1];for(var o=0;o<e.length;o++)e[o]=parseInt(a[o]+a[o],16)}else if(a=t.match(/^#([a-fA-F0-9]{6})$/))for(a=a[1],o=0;o<e.length;o++)e[o]=parseInt(a.slice(2*o,2*o+2),16);else if(a=t.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)){for(o=0;o<e.length;o++)e[o]=parseInt(a[o+1]);i=parseFloat(a[4])}else if(a=t.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)){for(o=0;o<e.length;o++)e[o]=Math.round(2.55*parseFloat(a[o+1]));i=parseFloat(a[4])}else if(a=t.match(/(\w+)/)){if("transparent"==a[1])return[0,0,0,0];if(!(e=n[a[1]]))return}for(o=0;o<e.length;o++)e[o]=d(e[o],0,255);return i=i||0==i?d(i,0,1):1,e[3]=i,e}}function o(t){if(t){var e=t.match(/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(e){var i=parseFloat(e[4]);return[d(parseInt(e[1]),0,360),d(parseFloat(e[2]),0,100),d(parseFloat(e[3]),0,100),d(isNaN(i)?1:i,0,1)]}}}function r(t){if(t){var e=t.match(/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(e){var i=parseFloat(e[4]);return[d(parseInt(e[1]),0,360),d(parseFloat(e[2]),0,100),d(parseFloat(e[3]),0,100),d(isNaN(i)?1:i,0,1)]}}}function s(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"rgba("+t[0]+", "+t[1]+", "+t[2]+", "+e+")"}function l(t,e){return"rgba("+Math.round(t[0]/255*100)+"%, "+Math.round(t[1]/255*100)+"%, "+Math.round(t[2]/255*100)+"%, "+(e||t[3]||1)+")"}function c(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+e+")"}function d(t,e,i){return Math.min(Math.max(e,t),i)}function h(t){var e=t.toString(16).toUpperCase();return e.length<2?"0"+e:e}e.exports={getRgba:a,getHsla:o,getRgb:function(t){var e=a(t);return e&&e.slice(0,3)},getHsl:function(t){var e=o(t);return e&&e.slice(0,3)},getHwb:r,getAlpha:function(t){var e=a(t);return e?e[3]:(e=o(t))?e[3]:(e=r(t))?e[3]:void 0},hexString:function(t){return"#"+h(t[0])+h(t[1])+h(t[2])},rgbString:function(t,e){return e<1||t[3]&&t[3]<1?s(t,e):"rgb("+t[0]+", "+t[1]+", "+t[2]+")"},rgbaString:s,percentString:function(t,e){return e<1||t[3]&&t[3]<1?l(t,e):"rgb("+Math.round(t[0]/255*100)+"%, "+Math.round(t[1]/255*100)+"%, "+Math.round(t[2]/255*100)+"%)"},percentaString:l,hslString:function(t,e){return e<1||t[3]&&t[3]<1?c(t,e):"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)"},hslaString:c,hwbString:function(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+(void 0!==e&&1!==e?", "+e:"")+")"},keyword:function(t){return u[t.slice(0,3)]}};var u={};for(var f in n)u[n[f]]=f},{6:6}],3:[function(t,e,i){var n=t(5),a=t(2),o=function(t){if(t instanceof o)return t;if(!(this instanceof o))return new o(t);var e;if(this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},"string"==typeof t)if(e=a.getRgba(t))this.setValues("rgb",e);else if(e=a.getHsla(t))this.setValues("hsl",e);else{if(!(e=a.getHwb(t)))throw new Error('Unable to parse color from string "'+t+'"');this.setValues("hwb",e)}else if("object"==typeof t)if(void 0!==(e=t).r||void 0!==e.red)this.setValues("rgb",e);else if(void 0!==e.l||void 0!==e.lightness)this.setValues("hsl",e);else if(void 0!==e.v||void 0!==e.value)this.setValues("hsv",e);else if(void 0!==e.w||void 0!==e.whiteness)this.setValues("hwb",e);else{if(void 0===e.c&&void 0===e.cyan)throw new Error("Unable to parse color from object "+JSON.stringify(t));this.setValues("cmyk",e)}};o.prototype={rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var t=this.values;return 1!==t.alpha?t.hwb.concat([t.alpha]):t.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var t=this.values;return t.rgb.concat([t.alpha])},hslaArray:function(){var t=this.values;return t.hsl.concat([t.alpha])},alpha:function(t){return void 0===t?this.values.alpha:(this.setValues("alpha",t),this)},red:function(t){return this.setChannel("rgb",0,t)},green:function(t){return this.setChannel("rgb",1,t)},blue:function(t){return this.setChannel("rgb",2,t)},hue:function(t){return t&&(t=(t%=360)<0?360+t:t),this.setChannel("hsl",0,t)},saturation:function(t){return this.setChannel("hsl",1,t)},lightness:function(t){return this.setChannel("hsl",2,t)},saturationv:function(t){return this.setChannel("hsv",1,t)},whiteness:function(t){return this.setChannel("hwb",1,t)},blackness:function(t){return this.setChannel("hwb",2,t)},value:function(t){return this.setChannel("hsv",2,t)},cyan:function(t){return this.setChannel("cmyk",0,t)},magenta:function(t){return this.setChannel("cmyk",1,t)},yellow:function(t){return this.setChannel("cmyk",2,t)},black:function(t){return this.setChannel("cmyk",3,t)},hexString:function(){return a.hexString(this.values.rgb)},rgbString:function(){return a.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return a.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return a.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return a.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return a.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return a.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return a.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var t=this.values.rgb;return t[0]<<16|t[1]<<8|t[2]},luminosity:function(){for(var t=this.values.rgb,e=[],i=0;i<t.length;i++){var n=t[i]/255;e[i]=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),i=t.luminosity();return e>i?(e+.05)/(i+.05):(i+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return e>=7.1?"AAA":e>=4.5?"AA":""},dark:function(){var t=this.values.rgb;return(299*t[0]+587*t[1]+114*t[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var t=[],e=0;e<3;e++)t[e]=255-this.values.rgb[e];return this.setValues("rgb",t),this},lighten:function(t){var e=this.values.hsl;return e[2]+=e[2]*t,this.setValues("hsl",e),this},darken:function(t){var e=this.values.hsl;return e[2]-=e[2]*t,this.setValues("hsl",e),this},saturate:function(t){var e=this.values.hsl;return e[1]+=e[1]*t,this.setValues("hsl",e),this},desaturate:function(t){var e=this.values.hsl;return e[1]-=e[1]*t,this.setValues("hsl",e),this},whiten:function(t){var e=this.values.hwb;return e[1]+=e[1]*t,this.setValues("hwb",e),this},blacken:function(t){var e=this.values.hwb;return e[2]+=e[2]*t,this.setValues("hwb",e),this},greyscale:function(){var t=this.values.rgb,e=.3*t[0]+.59*t[1]+.11*t[2];return this.setValues("rgb",[e,e,e]),this},clearer:function(t){var e=this.values.alpha;return this.setValues("alpha",e-e*t),this},opaquer:function(t){var e=this.values.alpha;return this.setValues("alpha",e+e*t),this},rotate:function(t){var e=this.values.hsl,i=(e[0]+t)%360;return e[0]=i<0?360+i:i,this.setValues("hsl",e),this},mix:function(t,e){var i=t,n=void 0===e?.5:e,a=2*n-1,o=this.alpha()-i.alpha(),r=((a*o==-1?a:(a+o)/(1+a*o))+1)/2,s=1-r;return this.rgb(r*this.red()+s*i.red(),r*this.green()+s*i.green(),r*this.blue()+s*i.blue()).alpha(this.alpha()*n+i.alpha()*(1-n))},toJSON:function(){return this.rgb()},clone:function(){var t,e,i=new o,n=this.values,a=i.values;for(var r in n)n.hasOwnProperty(r)&&("[object Array]"===(e={}.toString.call(t=n[r]))?a[r]=t.slice(0):"[object Number]"===e?a[r]=t:console.error("unexpected color value:",t));return i}},o.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},o.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},o.prototype.getValues=function(t){for(var e=this.values,i={},n=0;n<t.length;n++)i[t.charAt(n)]=e[t][n];return 1!==e.alpha&&(i.a=e.alpha),i},o.prototype.setValues=function(t,e){var i,a,o=this.values,r=this.spaces,s=this.maxes,l=1;if("alpha"===t)l=e;else if(e.length)o[t]=e.slice(0,t.length),l=e[t.length];else if(void 0!==e[t.charAt(0)]){for(i=0;i<t.length;i++)o[t][i]=e[t.charAt(i)];l=e.a}else if(void 0!==e[r[t][0]]){var c=r[t];for(i=0;i<t.length;i++)o[t][i]=e[c[i]];l=e.alpha}if(o.alpha=Math.max(0,Math.min(1,void 0===l?o.alpha:l)),"alpha"===t)return!1;for(i=0;i<t.length;i++)a=Math.max(0,Math.min(s[t][i],o[t][i])),o[t][i]=Math.round(a);for(var d in r)d!==t&&(o[d]=n[t][d](o[t]));return!0},o.prototype.setSpace=function(t,e){var i=e[0];return void 0===i?this.getValues(t):("number"==typeof i&&(i=Array.prototype.slice.call(e)),this.setValues(t,i),this)},o.prototype.setChannel=function(t,e,i){var n=this.values[t];return void 0===i?n[e]:i===n[e]?this:(n[e]=i,this.setValues(t,n),this)},"undefined"!=typeof window&&(window.Color=o),e.exports=o},{2:2,5:5}],4:[function(t,e,i){function n(t){var e,i,n=t[0]/255,a=t[1]/255,o=t[2]/255,r=Math.min(n,a,o),s=Math.max(n,a,o),l=s-r;return s==r?e=0:n==s?e=(a-o)/l:a==s?e=2+(o-n)/l:o==s&&(e=4+(n-a)/l),(e=Math.min(60*e,360))<0&&(e+=360),i=(r+s)/2,[e,100*(s==r?0:i<=.5?l/(s+r):l/(2-s-r)),100*i]}function a(t){var e,i,n=t[0],a=t[1],o=t[2],r=Math.min(n,a,o),s=Math.max(n,a,o),l=s-r;return i=0==s?0:l/s*1e3/10,s==r?e=0:n==s?e=(a-o)/l:a==s?e=2+(o-n)/l:o==s&&(e=4+(n-a)/l),(e=Math.min(60*e,360))<0&&(e+=360),[e,i,s/255*1e3/10]}function o(t){var e=t[0],i=t[1],a=t[2];return[n(t)[0],1/255*Math.min(e,Math.min(i,a))*100,100*(a=1-1/255*Math.max(e,Math.max(i,a)))]}function s(t){var e,i=t[0]/255,n=t[1]/255,a=t[2]/255;return[100*((1-i-(e=Math.min(1-i,1-n,1-a)))/(1-e)||0),100*((1-n-e)/(1-e)||0),100*((1-a-e)/(1-e)||0),100*e]}function l(t){return L[JSON.stringify(t)]}function c(t){var e=t[0]/255,i=t[1]/255,n=t[2]/255;return[100*(.4124*(e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92)+.3576*(i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92)+.1805*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)),100*(.2126*e+.7152*i+.0722*n),100*(.0193*e+.1192*i+.9505*n)]}function d(t){var e=c(t),i=e[0],n=e[1],a=e[2];return n/=100,a/=108.883,i=(i/=95.047)>.008856?Math.pow(i,1/3):7.787*i+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(i-n),200*(n-(a=a>.008856?Math.pow(a,1/3):7.787*a+16/116))]}function h(t){var e,i,n,a,o,r=t[0]/360,s=t[1]/100,l=t[2]/100;if(0==s)return[o=255*l,o,o];e=2*l-(i=l<.5?l*(1+s):l+s-l*s),a=[0,0,0];for(var c=0;c<3;c++)(n=r+1/3*-(c-1))<0&&n++,n>1&&n--,a[c]=255*(o=6*n<1?e+6*(i-e)*n:2*n<1?i:3*n<2?e+(i-e)*(2/3-n)*6:e);return a}function u(t){var e=t[0]/60,i=t[1]/100,n=t[2]/100,a=Math.floor(e)%6,o=e-Math.floor(e),r=255*n*(1-i),s=255*n*(1-i*o),l=255*n*(1-i*(1-o));switch(n*=255,a){case 0:return[n,l,r];case 1:return[s,n,r];case 2:return[r,n,l];case 3:return[r,s,n];case 4:return[l,r,n];case 5:return[n,r,s]}}function f(t){var e,i,n,a,o=t[0]/360,s=t[1]/100,l=t[2]/100,c=s+l;switch(c>1&&(s/=c,l/=c),i=1-l,n=6*o-(e=Math.floor(6*o)),0!=(1&e)&&(n=1-n),a=s+n*(i-s),e){default:case 6:case 0:r=i,g=a,b=s;break;case 1:r=a,g=i,b=s;break;case 2:r=s,g=i,b=a;break;case 3:r=s,g=a,b=i;break;case 4:r=a,g=s,b=i;break;case 5:r=i,g=s,b=a}return[255*r,255*g,255*b]}function p(t){var e=t[1]/100,i=t[2]/100,n=t[3]/100;return[255*(1-Math.min(1,t[0]/100*(1-n)+n)),255*(1-Math.min(1,e*(1-n)+n)),255*(1-Math.min(1,i*(1-n)+n))]}function m(t){var e,i,n,a=t[0]/100,o=t[1]/100,r=t[2]/100;return i=-.9689*a+1.8758*o+.0415*r,n=.0557*a+-.204*o+1.057*r,e=(e=3.2406*a+-1.5372*o+-.4986*r)>.0031308?1.055*Math.pow(e,1/2.4)-.055:e*=12.92,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:i*=12.92,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:n*=12.92,[255*(e=Math.min(Math.max(0,e),1)),255*(i=Math.min(Math.max(0,i),1)),255*(n=Math.min(Math.max(0,n),1))]}function _(t){var e=t[0],i=t[1],n=t[2];return i/=100,n/=108.883,e=(e/=95.047)>.008856?Math.pow(e,1/3):7.787*e+16/116,[116*(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116)-16,500*(e-i),200*(i-(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116))]}function v(t){var e,i,n,a,o=t[0],r=t[1],s=t[2];return o<=8?a=(i=100*o/903.3)/100*7.787+16/116:(i=100*Math.pow((o+16)/116,3),a=Math.pow(i/100,1/3)),[e=e/95.047<=.008856?e=95.047*(r/500+a-16/116)/7.787:95.047*Math.pow(r/500+a,3),i,n=n/108.883<=.008859?n=108.883*(a-s/200-16/116)/7.787:108.883*Math.pow(a-s/200,3)]}function y(t){var e,i=t[0],n=t[1],a=t[2];return(e=360*Math.atan2(a,n)/2/Math.PI)<0&&(e+=360),[i,Math.sqrt(n*n+a*a),e]}function x(t){return m(v(t))}function T(t){var e,i=t[1];return e=t[2]/360*2*Math.PI,[t[0],i*Math.cos(e),i*Math.sin(e)]}function w(t){return k[t]}e.exports={rgb2hsl:n,rgb2hsv:a,rgb2hwb:o,rgb2cmyk:s,rgb2keyword:l,rgb2xyz:c,rgb2lab:d,rgb2lch:function(t){return y(d(t))},hsl2rgb:h,hsl2hsv:function(t){var e=t[1]/100,i=t[2]/100;return 0===i?[0,0,0]:[t[0],2*(e*=(i*=2)<=1?i:2-i)/(i+e)*100,(i+e)/2*100]},hsl2hwb:function(t){return o(h(t))},hsl2cmyk:function(t){return s(h(t))},hsl2keyword:function(t){return l(h(t))},hsv2rgb:u,hsv2hsl:function(t){var e,i,n=t[1]/100,a=t[2]/100;return e=n*a,[t[0],100*(e=(e/=(i=(2-n)*a)<=1?i:2-i)||0),100*(i/=2)]},hsv2hwb:function(t){return o(u(t))},hsv2cmyk:function(t){return s(u(t))},hsv2keyword:function(t){return l(u(t))},hwb2rgb:f,hwb2hsl:function(t){return n(f(t))},hwb2hsv:function(t){return a(f(t))},hwb2cmyk:function(t){return s(f(t))},hwb2keyword:function(t){return l(f(t))},cmyk2rgb:p,cmyk2hsl:function(t){return n(p(t))},cmyk2hsv:function(t){return a(p(t))},cmyk2hwb:function(t){return o(p(t))},cmyk2keyword:function(t){return l(p(t))},keyword2rgb:w,keyword2hsl:function(t){return n(w(t))},keyword2hsv:function(t){return a(w(t))},keyword2hwb:function(t){return o(w(t))},keyword2cmyk:function(t){return s(w(t))},keyword2lab:function(t){return d(w(t))},keyword2xyz:function(t){return c(w(t))},xyz2rgb:m,xyz2lab:_,xyz2lch:function(t){return y(_(t))},lab2xyz:v,lab2rgb:x,lab2lch:y,lch2lab:T,lch2xyz:function(t){return v(T(t))},lch2rgb:function(t){return x(T(t))}};var k={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},L={};for(var D in k)L[JSON.stringify(k[D])]=D},{}],5:[function(t,e,i){var n=t(4),a=function(){return new c};for(var o in n){a[o+"Raw"]=function(t){return function(e){return"number"==typeof e&&(e=Array.prototype.slice.call(arguments)),n[t](e)}}(o);var r=/(\w+)2(\w+)/.exec(o),s=r[1],l=r[2];(a[s]=a[s]||{})[l]=a[o]=function(t){return function(e){"number"==typeof e&&(e=Array.prototype.slice.call(arguments));var i=n[t](e);if("string"==typeof i||void 0===i)return i;for(var a=0;a<i.length;a++)i[a]=Math.round(i[a]);return i}}(o)}var c=function(){this.convs={}};c.prototype.routeSpace=function(t,e){var i=e[0];return void 0===i?this.getValues(t):("number"==typeof i&&(i=Array.prototype.slice.call(e)),this.setValues(t,i))},c.prototype.setValues=function(t,e){return this.space=t,this.convs={},this.convs[t]=e,this},c.prototype.getValues=function(t){var e=this.convs[t];if(!e){var i=this.space;e=a[i][t](this.convs[i]),this.convs[t]=e}return e},["rgb","hsl","hsv","cmyk","keyword"].forEach(function(t){c.prototype[t]=function(e){return this.routeSpace(t,arguments)}}),e.exports=a},{4:4}],6:[function(t,e,i){e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},{}],7:[function(t,e,i){var n=t(28)();t(26)(n),t(42)(n),t(22)(n),t(31)(n),t(25)(n),t(21)(n),t(23)(n),t(24)(n),t(29)(n),t(33)(n),t(34)(n),t(32)(n),t(35)(n),t(30)(n),t(27)(n),t(36)(n),t(37)(n),t(38)(n),t(39)(n),t(40)(n),t(45)(n),t(43)(n),t(44)(n),t(46)(n),t(47)(n),t(48)(n),t(15)(n),t(16)(n),t(17)(n),t(18)(n),t(19)(n),t(20)(n),t(8)(n),t(9)(n),t(10)(n),t(11)(n),t(12)(n),t(13)(n),t(14)(n),window.Chart=e.exports=n},{10:10,11:11,12:12,13:13,14:14,15:15,16:16,17:17,18:18,19:19,20:20,21:21,22:22,23:23,24:24,25:25,26:26,27:27,28:28,29:29,30:30,31:31,32:32,33:33,34:34,35:35,36:36,37:37,38:38,39:39,40:40,42:42,43:43,44:44,45:45,46:46,47:47,48:48,8:8,9:9}],8:[function(t,e,i){"use strict";e.exports=function(t){t.Bar=function(e,i){return i.type="bar",new t(e,i)}}},{}],9:[function(t,e,i){"use strict";e.exports=function(t){t.Bubble=function(e,i){return i.type="bubble",new t(e,i)}}},{}],10:[function(t,e,i){"use strict";e.exports=function(t){t.Doughnut=function(e,i){return i.type="doughnut",new t(e,i)}}},{}],11:[function(t,e,i){"use strict";e.exports=function(t){t.Line=function(e,i){return i.type="line",new t(e,i)}}},{}],12:[function(t,e,i){"use strict";e.exports=function(t){t.PolarArea=function(e,i){return i.type="polarArea",new t(e,i)}}},{}],13:[function(t,e,i){"use strict";e.exports=function(t){t.Radar=function(e,i){return i.type="radar",new t(e,i)}}},{}],14:[function(t,e,i){"use strict";e.exports=function(t){t.defaults.scatter={hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-1"}],yAxes:[{type:"linear",position:"left",id:"y-axis-1"}]},tooltips:{callbacks:{title:function(){return""},label:function(t){return"("+t.xLabel+", "+t.yLabel+")"}}}},t.controllers.scatter=t.controllers.line,t.Scatter=function(e,i){return i.type="scatter",new t(e,i)}}},{}],15:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.bar={hover:{mode:"label"},scales:{xAxes:[{type:"category",categoryPercentage:.8,barPercentage:.9,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}},t.controllers.bar=t.DatasetController.extend({dataElementType:t.elements.Rectangle,initialize:function(e,i){t.DatasetController.prototype.initialize.call(this,e,i);var n=this.getMeta(),a=this.getDataset();n.stack=a.stack,n.bar=!0},getStackCount:function(){var t=this,i=t.getMeta(),n=t.getScaleForId(i.yAxisID),a=[];return e.each(t.chart.data.datasets,function(e,i){var o=t.chart.getDatasetMeta(i);o.bar&&t.chart.isDatasetVisible(i)&&(!1===n.options.stacked||!0===n.options.stacked&&-1===a.indexOf(o.stack)||void 0===n.options.stacked&&(void 0===o.stack||-1===a.indexOf(o.stack)))&&a.push(o.stack)},t),a.length},update:function(t){var i=this;e.each(i.getMeta().data,function(e,n){i.updateElement(e,n,t)},i)},updateElement:function(t,i,n){var a=this,o=a.getMeta(),r=a.getScaleForId(o.xAxisID),s=a.getScaleForId(o.yAxisID),l=s.getBasePixel(),c=a.chart.options.elements.rectangle,d=t.custom||{},h=a.getDataset();t._xScale=r,t._yScale=s,t._datasetIndex=a.index,t._index=i;var u=a.getRuler(i);t._model={x:a.calculateBarX(i,a.index,u),y:n?l:a.calculateBarY(i,a.index),label:a.chart.data.labels[i],datasetLabel:h.label,horizontal:!1,base:n?l:a.calculateBarBase(a.index,i),width:a.calculateBarWidth(u),backgroundColor:d.backgroundColor?d.backgroundColor:e.getValueAtIndexOrDefault(h.backgroundColor,i,c.backgroundColor),borderSkipped:d.borderSkipped?d.borderSkipped:c.borderSkipped,borderColor:d.borderColor?d.borderColor:e.getValueAtIndexOrDefault(h.borderColor,i,c.borderColor),borderWidth:d.borderWidth?d.borderWidth:e.getValueAtIndexOrDefault(h.borderWidth,i,c.borderWidth)},t.pivot()},calculateBarBase:function(t,e){var i=this.getMeta(),n=this.getScaleForId(i.yAxisID),a=n.getBaseValue(),o=a;if(!0===n.options.stacked||void 0===n.options.stacked&&void 0!==i.stack){for(var r=this.chart,s=r.data.datasets,l=Number(s[t].data[e]),c=0;c<t;c++){var d=s[c],h=r.getDatasetMeta(c);if(h.bar&&h.yAxisID===n.id&&r.isDatasetVisible(c)&&i.stack===h.stack){var u=Number(d.data[e]);a+=l<0?Math.min(u,o):Math.max(u,o)}}return n.getPixelForValue(a)}return n.getBasePixel()},getRuler:function(){var t=this.getMeta(),e=this.getScaleForId(t.xAxisID),i=this.getStackCount(),n=e.width/e.ticks.length,a=n*e.options.categoryPercentage,o=a/i;return{stackCount:i,tickWidth:n,categoryWidth:a,categorySpacing:(n-n*e.options.categoryPercentage)/2,fullBarWidth:o,barWidth:o*e.options.barPercentage,barSpacing:o-o*e.options.barPercentage}},calculateBarWidth:function(t){var e=this.getMeta(),i=this.getScaleForId(e.xAxisID);return i.options.barThickness?i.options.barThickness:t.barWidth},getStackIndex:function(t){var e,i,n=this.chart.getDatasetMeta(t),a=this.getScaleForId(n.yAxisID),o=[n.stack];for(i=0;i<t;++i)(e=this.chart.getDatasetMeta(i)).bar&&this.chart.isDatasetVisible(i)&&(!1===a.options.stacked||!0===a.options.stacked&&-1===o.indexOf(e.stack)||void 0===a.options.stacked&&(void 0===e.stack||-1===o.indexOf(e.stack)))&&o.push(e.stack);return o.length-1},calculateBarX:function(t,e,i){var n=this,a=n.getMeta(),o=n.getScaleForId(a.xAxisID),r=n.getStackIndex(e),s=o.getPixelForValue(null,t,e,n.chart.isCombo);return(s-=n.chart.isCombo?i.tickWidth/2:0)+i.barWidth/2+i.categorySpacing+i.barWidth*r+i.barSpacing/2+i.barSpacing*r},calculateBarY:function(t,e){var i=this,n=i.getMeta(),a=i.getScaleForId(n.yAxisID),o=Number(i.getDataset().data[t]);if(a.options.stacked||void 0===a.options.stacked&&void 0!==n.stack){for(var r=a.getBaseValue(),s=r,l=r,c=0;c<e;c++){var d=i.chart.data.datasets[c],h=i.chart.getDatasetMeta(c);if(h.bar&&h.yAxisID===a.id&&i.chart.isDatasetVisible(c)&&n.stack===h.stack){var u=Number(d.data[t]);u<0?l+=u||0:s+=u||0}}return a.getPixelForValue(o<0?l+o:s+o)}return a.getPixelForValue(o)},draw:function(e){var i,n,a=this,o=e||1,r=a.getMeta().data,s=a.getDataset();for(t.canvasHelpers.clipArea(a.chart.chart.ctx,a.chart.chartArea),i=0,n=r.length;i<n;++i){var l=s.data[i];null===l||void 0===l||isNaN(l)||r[i].transition(o).draw()}t.canvasHelpers.unclipArea(a.chart.chart.ctx)},setHoverStyle:function(t){var i=this.chart.data.datasets[t._datasetIndex],n=t._index,a=t.custom||{},o=t._model;o.backgroundColor=a.hoverBackgroundColor?a.hoverBackgroundColor:e.getValueAtIndexOrDefault(i.hoverBackgroundColor,n,e.getHoverColor(o.backgroundColor)),o.borderColor=a.hoverBorderColor?a.hoverBorderColor:e.getValueAtIndexOrDefault(i.hoverBorderColor,n,e.getHoverColor(o.borderColor)),o.borderWidth=a.hoverBorderWidth?a.hoverBorderWidth:e.getValueAtIndexOrDefault(i.hoverBorderWidth,n,o.borderWidth)},removeHoverStyle:function(t){var i=this.chart.data.datasets[t._datasetIndex],n=t._index,a=t.custom||{},o=t._model,r=this.chart.options.elements.rectangle;o.backgroundColor=a.backgroundColor?a.backgroundColor:e.getValueAtIndexOrDefault(i.backgroundColor,n,r.backgroundColor),o.borderColor=a.borderColor?a.borderColor:e.getValueAtIndexOrDefault(i.borderColor,n,r.borderColor),o.borderWidth=a.borderWidth?a.borderWidth:e.getValueAtIndexOrDefault(i.borderWidth,n,r.borderWidth)}}),t.defaults.horizontalBar={hover:{mode:"label"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{position:"left",type:"category",categoryPercentage:.8,barPercentage:.9,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{callbacks:{title:function(t,e){var i="";return t.length>0&&(t[0].yLabel?i=t[0].yLabel:e.labels.length>0&&t[0].index<e.labels.length&&(i=e.labels[t[0].index])),i},label:function(t,e){return(e.datasets[t.datasetIndex].label||"")+": "+t.xLabel}}}},t.controllers.horizontalBar=t.controllers.bar.extend({getStackCount:function(){var t=this,i=t.getMeta(),n=t.getScaleForId(i.xAxisID),a=[];return e.each(t.chart.data.datasets,function(e,i){var o=t.chart.getDatasetMeta(i);o.bar&&t.chart.isDatasetVisible(i)&&(!1===n.options.stacked||!0===n.options.stacked&&-1===a.indexOf(o.stack)||void 0===n.options.stacked&&(void 0===o.stack||-1===a.indexOf(o.stack)))&&a.push(o.stack)},t),a.length},updateElement:function(t,i,n){var a=this,o=a.getMeta(),r=a.getScaleForId(o.xAxisID),s=a.getScaleForId(o.yAxisID),l=r.getBasePixel(),c=t.custom||{},d=a.getDataset(),h=a.chart.options.elements.rectangle;t._xScale=r,t._yScale=s,t._datasetIndex=a.index,t._index=i;var u=a.getRuler(i);t._model={x:n?l:a.calculateBarX(i,a.index),y:a.calculateBarY(i,a.index,u),label:a.chart.data.labels[i],datasetLabel:d.label,horizontal:!0,base:n?l:a.calculateBarBase(a.index,i),height:a.calculateBarHeight(u),backgroundColor:c.backgroundColor?c.backgroundColor:e.getValueAtIndexOrDefault(d.backgroundColor,i,h.backgroundColor),borderSkipped:c.borderSkipped?c.borderSkipped:h.borderSkipped,borderColor:c.borderColor?c.borderColor:e.getValueAtIndexOrDefault(d.borderColor,i,h.borderColor),borderWidth:c.borderWidth?c.borderWidth:e.getValueAtIndexOrDefault(d.borderWidth,i,h.borderWidth)},t.pivot()},calculateBarBase:function(t,e){var i=this.getMeta(),n=this.getScaleForId(i.xAxisID),a=n.getBaseValue(),o=a;if(n.options.stacked||void 0===n.options.stacked&&void 0!==i.stack){for(var r=this.chart,s=r.data.datasets,l=Number(s[t].data[e]),c=0;c<t;c++){var d=s[c],h=r.getDatasetMeta(c);if(h.bar&&h.xAxisID===n.id&&r.isDatasetVisible(c)&&i.stack===h.stack){var u=Number(d.data[e]);a+=l<0?Math.min(u,o):Math.max(u,o)}}return n.getPixelForValue(a)}return n.getBasePixel()},getRuler:function(){var t=this.getMeta(),e=this.getScaleForId(t.yAxisID),i=this.getStackCount(),n=e.height/e.ticks.length,a=n*e.options.categoryPercentage,o=a/i;return{stackCount:i,tickHeight:n,categoryHeight:a,categorySpacing:(n-n*e.options.categoryPercentage)/2,fullBarHeight:o,barHeight:o*e.options.barPercentage,barSpacing:o-o*e.options.barPercentage}},calculateBarHeight:function(t){var e=this.getMeta(),i=this.getScaleForId(e.yAxisID);return i.options.barThickness?i.options.barThickness:t.barHeight},getStackIndex:function(t){var e,i,n=this.chart.getDatasetMeta(t),a=this.getScaleForId(n.xAxisID),o=[n.stack];for(i=0;i<t;++i)(e=this.chart.getDatasetMeta(i)).bar&&this.chart.isDatasetVisible(i)&&(!1===a.options.stacked||!0===a.options.stacked&&-1===o.indexOf(e.stack)||void 0===a.options.stacked&&(void 0===e.stack||-1===o.indexOf(e.stack)))&&o.push(e.stack);return o.length-1},calculateBarX:function(t,e){var i=this,n=i.getMeta(),a=i.getScaleForId(n.xAxisID),o=Number(i.getDataset().data[t]);if(a.options.stacked||void 0===a.options.stacked&&void 0!==n.stack){for(var r=a.getBaseValue(),s=r,l=r,c=0;c<e;c++){var d=i.chart.data.datasets[c],h=i.chart.getDatasetMeta(c);if(h.bar&&h.xAxisID===a.id&&i.chart.isDatasetVisible(c)&&n.stack===h.stack){var u=Number(d.data[t]);u<0?l+=u||0:s+=u||0}}return a.getPixelForValue(o<0?l+o:s+o)}return a.getPixelForValue(o)},calculateBarY:function(t,e,i){var n=this,a=n.getMeta(),o=n.getScaleForId(a.yAxisID),r=n.getStackIndex(e),s=o.getPixelForValue(null,t,e,n.chart.isCombo);return(s-=n.chart.isCombo?i.tickHeight/2:0)+i.barHeight/2+i.categorySpacing+i.barHeight*r+i.barSpacing/2+i.barSpacing*r}})}},{}],16:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.bubble={hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(t,e){return(e.datasets[t.datasetIndex].label||"")+": ("+t.xLabel+", "+t.yLabel+", "+e.datasets[t.datasetIndex].data[t.index].r+")"}}}},t.controllers.bubble=t.DatasetController.extend({dataElementType:t.elements.Point,update:function(t){var i=this,n=i.getMeta();e.each(n.data,function(e,n){i.updateElement(e,n,t)})},updateElement:function(i,n,a){var o=this,r=o.getMeta(),s=o.getScaleForId(r.xAxisID),l=o.getScaleForId(r.yAxisID),c=i.custom||{},d=o.getDataset(),h=d.data[n],u=o.chart.options.elements.point,f=o.index;e.extend(i,{_xScale:s,_yScale:l,_datasetIndex:f,_index:n,_model:{x:a?s.getPixelForDecimal(.5):s.getPixelForValue("object"==typeof h?h:NaN,n,f,o.chart.isCombo),y:a?l.getBasePixel():l.getPixelForValue(h,n,f),radius:a?0:c.radius?c.radius:o.getRadius(h),hitRadius:c.hitRadius?c.hitRadius:e.getValueAtIndexOrDefault(d.hitRadius,n,u.hitRadius)}}),t.DatasetController.prototype.removeHoverStyle.call(o,i,u);var p=i._model;p.skip=c.skip?c.skip:isNaN(p.x)||isNaN(p.y),i.pivot()},getRadius:function(t){return t.r||this.chart.options.elements.point.radius},setHoverStyle:function(i){t.DatasetController.prototype.setHoverStyle.call(this,i);var n=this.chart.data.datasets[i._datasetIndex],a=i._index,o=i.custom||{};i._model.radius=o.hoverRadius?o.hoverRadius:e.getValueAtIndexOrDefault(n.hoverRadius,a,this.chart.options.elements.point.hoverRadius)+this.getRadius(n.data[a])},removeHoverStyle:function(e){t.DatasetController.prototype.removeHoverStyle.call(this,e,this.chart.options.elements.point);var i=e.custom||{};e._model.radius=i.radius?i.radius:this.getRadius(this.chart.data.datasets[e._datasetIndex].data[e._index])}})}},{}],17:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers,i=t.defaults;i.doughnut={animation:{animateRotate:!0,animateScale:!1},aspectRatio:1,hover:{mode:"single"},legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');var i=t.data,n=i.datasets,a=i.labels;if(n.length)for(var o=0;o<n[0].data.length;++o)e.push('<li><span style="background-color:'+n[0].backgroundColor[o]+'"></span>'),a[o]&&e.push(a[o]),e.push("</li>");return e.push("</ul>"),e.join("")},legend:{labels:{generateLabels:function(t){var i=t.data;return i.labels.length&&i.datasets.length?i.labels.map(function(n,a){var o=t.getDatasetMeta(0),r=i.datasets[0],s=o.data[a],l=s&&s.custom||{},c=e.getValueAtIndexOrDefault,d=t.options.elements.arc;return{text:n,fillStyle:l.backgroundColor?l.backgroundColor:c(r.backgroundColor,a,d.backgroundColor),strokeStyle:l.borderColor?l.borderColor:c(r.borderColor,a,d.borderColor),lineWidth:l.borderWidth?l.borderWidth:c(r.borderWidth,a,d.borderWidth),hidden:isNaN(r.data[a])||o.data[a].hidden,index:a}}):[]}},onClick:function(t,e){var i,n,a,o=e.index,r=this.chart;for(i=0,n=(r.data.datasets||[]).length;i<n;++i)(a=r.getDatasetMeta(i)).data[o]&&(a.data[o].hidden=!a.data[o].hidden);r.update()}},cutoutPercentage:50,rotation:-.5*Math.PI,circumference:2*Math.PI,tooltips:{callbacks:{title:function(){return""},label:function(t,i){var n=i.labels[t.index],a=": "+i.datasets[t.datasetIndex].data[t.index];return e.isArray(n)?(n=n.slice())[0]+=a:n+=a,n}}}},i.pie=e.clone(i.doughnut),e.extend(i.pie,{cutoutPercentage:0}),t.controllers.doughnut=t.controllers.pie=t.DatasetController.extend({dataElementType:t.elements.Arc,linkScales:e.noop,getRingIndex:function(t){for(var e=0,i=0;i<t;++i)this.chart.isDatasetVisible(i)&&++e;return e},update:function(t){var i=this,n=i.chart,a=n.chartArea,o=n.options,r=o.elements.arc,s=a.right-a.left-r.borderWidth,l=a.bottom-a.top-r.borderWidth,c=Math.min(s,l),d={x:0,y:0},h=i.getMeta(),u=o.cutoutPercentage,f=o.circumference;if(f<2*Math.PI){var p=o.rotation%(2*Math.PI),m=(p+=2*Math.PI*(p>=Math.PI?-1:p<-Math.PI?1:0))+f,g={x:Math.cos(p),y:Math.sin(p)},_={x:Math.cos(m),y:Math.sin(m)},v=p<=0&&0<=m||p<=2*Math.PI&&2*Math.PI<=m,y=p<=.5*Math.PI&&.5*Math.PI<=m||p<=2.5*Math.PI&&2.5*Math.PI<=m,b=p<=-Math.PI&&-Math.PI<=m||p<=Math.PI&&Math.PI<=m,x=p<=.5*-Math.PI&&.5*-Math.PI<=m||p<=1.5*Math.PI&&1.5*Math.PI<=m,T=u/100,w={x:b?-1:Math.min(g.x*(g.x<0?1:T),_.x*(_.x<0?1:T)),y:x?-1:Math.min(g.y*(g.y<0?1:T),_.y*(_.y<0?1:T))},k={x:v?1:Math.max(g.x*(g.x>0?1:T),_.x*(_.x>0?1:T)),y:y?1:Math.max(g.y*(g.y>0?1:T),_.y*(_.y>0?1:T))},L={width:.5*(k.x-w.x),height:.5*(k.y-w.y)};c=Math.min(s/L.width,l/L.height),d={x:-.5*(k.x+w.x),y:-.5*(k.y+w.y)}}n.borderWidth=i.getMaxBorderWidth(h.data),n.outerRadius=Math.max((c-n.borderWidth)/2,0),n.innerRadius=Math.max(u?n.outerRadius/100*u:0,0),n.radiusLength=(n.outerRadius-n.innerRadius)/n.getVisibleDatasetCount(),n.offsetX=d.x*n.outerRadius,n.offsetY=d.y*n.outerRadius,h.total=i.calculateTotal(),i.outerRadius=n.outerRadius-n.radiusLength*i.getRingIndex(i.index),i.innerRadius=Math.max(i.outerRadius-n.radiusLength,0),e.each(h.data,function(e,n){i.updateElement(e,n,t)})},updateElement:function(t,i,n){var a=this,o=a.chart,r=o.chartArea,s=o.options,l=s.animation,c=(r.left+r.right)/2,d=(r.top+r.bottom)/2,h=s.rotation,u=s.rotation,f=a.getDataset(),p=n&&l.animateRotate?0:t.hidden?0:a.calculateCircumference(f.data[i])*(s.circumference/(2*Math.PI));e.extend(t,{_datasetIndex:a.index,_index:i,_model:{x:c+o.offsetX,y:d+o.offsetY,startAngle:h,endAngle:u,circumference:p,outerRadius:n&&l.animateScale?0:a.outerRadius,innerRadius:n&&l.animateScale?0:a.innerRadius,label:(0,e.getValueAtIndexOrDefault)(f.label,i,o.data.labels[i])}});var m=t._model;this.removeHoverStyle(t),n&&l.animateRotate||(m.startAngle=0===i?s.rotation:a.getMeta().data[i-1]._model.endAngle,m.endAngle=m.startAngle+m.circumference),t.pivot()},removeHoverStyle:function(e){t.DatasetController.prototype.removeHoverStyle.call(this,e,this.chart.options.elements.arc)},calculateTotal:function(){var t,i=this.getDataset(),n=this.getMeta(),a=0;return e.each(n.data,function(e,n){t=i.data[n],isNaN(t)||e.hidden||(a+=Math.abs(t))}),a},calculateCircumference:function(t){var e=this.getMeta().total;return e>0&&!isNaN(t)?2*Math.PI*(t/e):0},getMaxBorderWidth:function(t){for(var e,i,n=0,a=this.index,o=t.length,r=0;r<o;r++)e=t[r]._model?t[r]._model.borderWidth:0,n=(i=t[r]._chart?t[r]._chart.config.data.datasets[a].hoverBorderWidth:0)>(n=e>n?e:n)?i:n;return n}})}},{}],18:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers;function i(t,i){return e.getValueOrDefault(t.showLine,i.showLines)}t.defaults.line={showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}},t.controllers.line=t.DatasetController.extend({datasetElementType:t.elements.Line,dataElementType:t.elements.Point,update:function(t){var n,a,o,r=this,s=r.getMeta(),l=s.dataset,c=s.data||[],d=r.chart.options,h=d.elements.line,u=r.getScaleForId(s.yAxisID),f=r.getDataset(),p=i(f,d);for(p&&(o=l.custom||{},void 0!==f.tension&&void 0===f.lineTension&&(f.lineTension=f.tension),l._scale=u,l._datasetIndex=r.index,l._children=c,l._model={spanGaps:f.spanGaps?f.spanGaps:d.spanGaps,tension:o.tension?o.tension:e.getValueOrDefault(f.lineTension,h.tension),backgroundColor:o.backgroundColor?o.backgroundColor:f.backgroundColor||h.backgroundColor,borderWidth:o.borderWidth?o.borderWidth:f.borderWidth||h.borderWidth,borderColor:o.borderColor?o.borderColor:f.borderColor||h.borderColor,borderCapStyle:o.borderCapStyle?o.borderCapStyle:f.borderCapStyle||h.borderCapStyle,borderDash:o.borderDash?o.borderDash:f.borderDash||h.borderDash,borderDashOffset:o.borderDashOffset?o.borderDashOffset:f.borderDashOffset||h.borderDashOffset,borderJoinStyle:o.borderJoinStyle?o.borderJoinStyle:f.borderJoinStyle||h.borderJoinStyle,fill:o.fill?o.fill:void 0!==f.fill?f.fill:h.fill,steppedLine:o.steppedLine?o.steppedLine:e.getValueOrDefault(f.steppedLine,h.stepped),cubicInterpolationMode:o.cubicInterpolationMode?o.cubicInterpolationMode:e.getValueOrDefault(f.cubicInterpolationMode,h.cubicInterpolationMode),scaleTop:u.top,scaleBottom:u.bottom,scaleZero:u.getBasePixel()},l.pivot()),n=0,a=c.length;n<a;++n)r.updateElement(c[n],n,t);for(p&&0!==l._model.tension&&r.updateBezierControlPoints(),n=0,a=c.length;n<a;++n)c[n].pivot()},getPointBackgroundColor:function(t,i){var n=this.chart.options.elements.point.backgroundColor,a=this.getDataset(),o=t.custom||{};return o.backgroundColor?n=o.backgroundColor:a.pointBackgroundColor?n=e.getValueAtIndexOrDefault(a.pointBackgroundColor,i,n):a.backgroundColor&&(n=a.backgroundColor),n},getPointBorderColor:function(t,i){var n=this.chart.options.elements.point.borderColor,a=this.getDataset(),o=t.custom||{};return o.borderColor?n=o.borderColor:a.pointBorderColor?n=e.getValueAtIndexOrDefault(a.pointBorderColor,i,n):a.borderColor&&(n=a.borderColor),n},getPointBorderWidth:function(t,i){var n=this.chart.options.elements.point.borderWidth,a=this.getDataset(),o=t.custom||{};return isNaN(o.borderWidth)?isNaN(a.pointBorderWidth)?isNaN(a.borderWidth)||(n=a.borderWidth):n=e.getValueAtIndexOrDefault(a.pointBorderWidth,i,n):n=o.borderWidth,n},updateElement:function(t,i,n){var a,o,r=this,s=r.getMeta(),l=t.custom||{},c=r.getDataset(),d=r.index,h=c.data[i],u=r.getScaleForId(s.yAxisID),f=r.getScaleForId(s.xAxisID),p=r.chart.options.elements.point,m=1===(r.chart.data.labels||[]).length||1===c.data.length||r.chart.isCombo;void 0!==c.radius&&void 0===c.pointRadius&&(c.pointRadius=c.radius),void 0!==c.hitRadius&&void 0===c.pointHitRadius&&(c.pointHitRadius=c.hitRadius),a=f.getPixelForValue("object"==typeof h?h:NaN,i,d,m),o=n?u.getBasePixel():r.calculatePointY(h,i,d),t._xScale=f,t._yScale=u,t._datasetIndex=d,t._index=i,t._model={x:a,y:o,skip:l.skip||isNaN(a)||isNaN(o),radius:l.radius||e.getValueAtIndexOrDefault(c.pointRadius,i,p.radius),pointStyle:l.pointStyle||e.getValueAtIndexOrDefault(c.pointStyle,i,p.pointStyle),backgroundColor:r.getPointBackgroundColor(t,i),borderColor:r.getPointBorderColor(t,i),borderWidth:r.getPointBorderWidth(t,i),tension:s.dataset._model?s.dataset._model.tension:0,steppedLine:!!s.dataset._model&&s.dataset._model.steppedLine,hitRadius:l.hitRadius||e.getValueAtIndexOrDefault(c.pointHitRadius,i,p.hitRadius)}},calculatePointY:function(t,e,i){var n,a,o,r=this.chart,s=this.getMeta(),l=this.getScaleForId(s.yAxisID),c=0,d=0;if(l.options.stacked){for(n=0;n<i;n++)if(a=r.data.datasets[n],"line"===(o=r.getDatasetMeta(n)).type&&o.yAxisID===l.id&&r.isDatasetVisible(n)){var h=Number(l.getRightValue(a.data[e]));h<0?d+=h||0:c+=h||0}var u=Number(l.getRightValue(t));return l.getPixelForValue(u<0?d+u:c+u)}return l.getPixelForValue(t)},updateBezierControlPoints:function(){var t,i,n,a,o=this.getMeta(),r=this.chart.chartArea,s=o.data||[];function l(t,e,i){return Math.max(Math.min(t,i),e)}if(o.dataset._model.spanGaps&&(s=s.filter(function(t){return!t._model.skip})),"monotone"===o.dataset._model.cubicInterpolationMode)e.splineCurveMonotone(s);else for(t=0,i=s.length;t<i;++t)n=s[t]._model,a=e.splineCurve(e.previousItem(s,t)._model,n,e.nextItem(s,t)._model,o.dataset._model.tension),n.controlPointPreviousX=a.previous.x,n.controlPointPreviousY=a.previous.y,n.controlPointNextX=a.next.x,n.controlPointNextY=a.next.y;if(this.chart.options.elements.line.capBezierPoints)for(t=0,i=s.length;t<i;++t)(n=s[t]._model).controlPointPreviousX=l(n.controlPointPreviousX,r.left,r.right),n.controlPointPreviousY=l(n.controlPointPreviousY,r.top,r.bottom),n.controlPointNextX=l(n.controlPointNextX,r.left,r.right),n.controlPointNextY=l(n.controlPointNextY,r.top,r.bottom)},draw:function(e){var n,a,o=this,r=o.getMeta(),s=r.data||[],l=e||1;for(n=0,a=s.length;n<a;++n)s[n].transition(l);for(t.canvasHelpers.clipArea(o.chart.chart.ctx,o.chart.chartArea),i(o.getDataset(),o.chart.options)&&r.dataset.transition(l).draw(),t.canvasHelpers.unclipArea(o.chart.chart.ctx),n=0,a=s.length;n<a;++n)s[n].draw(o.chart.chartArea)},setHoverStyle:function(t){var i=this.chart.data.datasets[t._datasetIndex],n=t._index,a=t.custom||{},o=t._model;o.radius=a.hoverRadius||e.getValueAtIndexOrDefault(i.pointHoverRadius,n,this.chart.options.elements.point.hoverRadius),o.backgroundColor=a.hoverBackgroundColor||e.getValueAtIndexOrDefault(i.pointHoverBackgroundColor,n,e.getHoverColor(o.backgroundColor)),o.borderColor=a.hoverBorderColor||e.getValueAtIndexOrDefault(i.pointHoverBorderColor,n,e.getHoverColor(o.borderColor)),o.borderWidth=a.hoverBorderWidth||e.getValueAtIndexOrDefault(i.pointHoverBorderWidth,n,o.borderWidth)},removeHoverStyle:function(t){var i=this,n=i.chart.data.datasets[t._datasetIndex],a=t._index,o=t.custom||{},r=t._model;void 0!==n.radius&&void 0===n.pointRadius&&(n.pointRadius=n.radius),r.radius=o.radius||e.getValueAtIndexOrDefault(n.pointRadius,a,i.chart.options.elements.point.radius),r.backgroundColor=i.getPointBackgroundColor(t,a),r.borderColor=i.getPointBorderColor(t,a),r.borderWidth=i.getPointBorderWidth(t,a)}})}},{}],19:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.polarArea={scale:{type:"radialLinear",lineArc:!0,ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,aspectRatio:1,legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');var i=t.data,n=i.datasets,a=i.labels;if(n.length)for(var o=0;o<n[0].data.length;++o)e.push('<li><span style="background-color:'+n[0].backgroundColor[o]+'"></span>'),a[o]&&e.push(a[o]),e.push("</li>");return e.push("</ul>"),e.join("")},legend:{labels:{generateLabels:function(t){var i=t.data;return i.labels.length&&i.datasets.length?i.labels.map(function(n,a){var o=t.getDatasetMeta(0),r=i.datasets[0],s=o.data[a].custom||{},l=e.getValueAtIndexOrDefault,c=t.options.elements.arc;return{text:n,fillStyle:s.backgroundColor?s.backgroundColor:l(r.backgroundColor,a,c.backgroundColor),strokeStyle:s.borderColor?s.borderColor:l(r.borderColor,a,c.borderColor),lineWidth:s.borderWidth?s.borderWidth:l(r.borderWidth,a,c.borderWidth),hidden:isNaN(r.data[a])||o.data[a].hidden,index:a}}):[]}},onClick:function(t,e){var i,n,a,o=e.index,r=this.chart;for(i=0,n=(r.data.datasets||[]).length;i<n;++i)(a=r.getDatasetMeta(i)).data[o].hidden=!a.data[o].hidden;r.update()}},tooltips:{callbacks:{title:function(){return""},label:function(t,e){return e.labels[t.index]+": "+t.yLabel}}}},t.controllers.polarArea=t.DatasetController.extend({dataElementType:t.elements.Arc,linkScales:e.noop,update:function(t){var i=this,n=i.chart,a=n.chartArea,o=i.getMeta(),r=n.options,s=r.elements.arc,l=Math.min(a.right-a.left,a.bottom-a.top);n.outerRadius=Math.max((l-s.borderWidth/2)/2,0),n.innerRadius=Math.max(r.cutoutPercentage?n.outerRadius/100*r.cutoutPercentage:1,0),n.radiusLength=(n.outerRadius-n.innerRadius)/n.getVisibleDatasetCount(),i.outerRadius=n.outerRadius-n.radiusLength*i.index,i.innerRadius=i.outerRadius-n.radiusLength,o.count=i.countVisibleElements(),e.each(o.data,function(e,n){i.updateElement(e,n,t)})},updateElement:function(t,i,n){for(var a=this,o=a.chart,r=a.getDataset(),s=o.options,l=s.animation,c=o.scale,d=e.getValueAtIndexOrDefault,h=o.data.labels,u=a.calculateCircumference(r.data[i]),f=c.xCenter,p=c.yCenter,m=0,g=a.getMeta(),_=0;_<i;++_)isNaN(r.data[_])||g.data[_].hidden||++m;var v=s.startAngle,y=t.hidden?0:c.getDistanceFromCenterForValue(r.data[i]),b=v+u*m,x=b+(t.hidden?0:u),T=l.animateScale?0:c.getDistanceFromCenterForValue(r.data[i]);e.extend(t,{_datasetIndex:a.index,_index:i,_scale:c,_model:{x:f,y:p,innerRadius:0,outerRadius:n?T:y,startAngle:n&&l.animateRotate?v:b,endAngle:n&&l.animateRotate?v:x,label:d(h,i,h[i])}}),a.removeHoverStyle(t),t.pivot()},removeHoverStyle:function(e){t.DatasetController.prototype.removeHoverStyle.call(this,e,this.chart.options.elements.arc)},countVisibleElements:function(){var t=this.getDataset(),i=this.getMeta(),n=0;return e.each(i.data,function(e,i){isNaN(t.data[i])||e.hidden||n++}),n},calculateCircumference:function(t){var e=this.getMeta().count;return e>0&&!isNaN(t)?2*Math.PI/e:0}})}},{}],20:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.radar={aspectRatio:1,scale:{type:"radialLinear"},elements:{line:{tension:0}}},t.controllers.radar=t.DatasetController.extend({datasetElementType:t.elements.Line,dataElementType:t.elements.Point,linkScales:e.noop,update:function(t){var i=this,n=i.getMeta(),a=n.data,o=n.dataset.custom||{},r=i.getDataset(),s=i.chart.options.elements.line,l=i.chart.scale;void 0!==r.tension&&void 0===r.lineTension&&(r.lineTension=r.tension),e.extend(n.dataset,{_datasetIndex:i.index,_children:a,_loop:!0,_model:{tension:o.tension?o.tension:e.getValueOrDefault(r.lineTension,s.tension),backgroundColor:o.backgroundColor?o.backgroundColor:r.backgroundColor||s.backgroundColor,borderWidth:o.borderWidth?o.borderWidth:r.borderWidth||s.borderWidth,borderColor:o.borderColor?o.borderColor:r.borderColor||s.borderColor,fill:o.fill?o.fill:void 0!==r.fill?r.fill:s.fill,borderCapStyle:o.borderCapStyle?o.borderCapStyle:r.borderCapStyle||s.borderCapStyle,borderDash:o.borderDash?o.borderDash:r.borderDash||s.borderDash,borderDashOffset:o.borderDashOffset?o.borderDashOffset:r.borderDashOffset||s.borderDashOffset,borderJoinStyle:o.borderJoinStyle?o.borderJoinStyle:r.borderJoinStyle||s.borderJoinStyle,scaleTop:l.top,scaleBottom:l.bottom,scaleZero:l.getBasePosition()}}),n.dataset.pivot(),e.each(a,function(e,n){i.updateElement(e,n,t)},i),i.updateBezierControlPoints()},updateElement:function(t,i,n){var a=this,o=t.custom||{},r=a.getDataset(),s=a.chart.scale,l=a.chart.options.elements.point,c=s.getPointPositionForValue(i,r.data[i]);e.extend(t,{_datasetIndex:a.index,_index:i,_scale:s,_model:{x:n?s.xCenter:c.x,y:n?s.yCenter:c.y,tension:o.tension?o.tension:e.getValueOrDefault(r.lineTension,a.chart.options.elements.line.tension),radius:o.radius?o.radius:e.getValueAtIndexOrDefault(r.pointRadius,i,l.radius),backgroundColor:o.backgroundColor?o.backgroundColor:e.getValueAtIndexOrDefault(r.pointBackgroundColor,i,l.backgroundColor),borderColor:o.borderColor?o.borderColor:e.getValueAtIndexOrDefault(r.pointBorderColor,i,l.borderColor),borderWidth:o.borderWidth?o.borderWidth:e.getValueAtIndexOrDefault(r.pointBorderWidth,i,l.borderWidth),pointStyle:o.pointStyle?o.pointStyle:e.getValueAtIndexOrDefault(r.pointStyle,i,l.pointStyle),hitRadius:o.hitRadius?o.hitRadius:e.getValueAtIndexOrDefault(r.hitRadius,i,l.hitRadius)}}),t._model.skip=o.skip?o.skip:isNaN(t._model.x)||isNaN(t._model.y)},updateBezierControlPoints:function(){var t=this.chart.chartArea,i=this.getMeta();e.each(i.data,function(n,a){var o=n._model,r=e.splineCurve(e.previousItem(i.data,a,!0)._model,o,e.nextItem(i.data,a,!0)._model,o.tension);o.controlPointPreviousX=Math.max(Math.min(r.previous.x,t.right),t.left),o.controlPointPreviousY=Math.max(Math.min(r.previous.y,t.bottom),t.top),o.controlPointNextX=Math.max(Math.min(r.next.x,t.right),t.left),o.controlPointNextY=Math.max(Math.min(r.next.y,t.bottom),t.top),n.pivot()})},draw:function(t){var i=this.getMeta(),n=t||1;e.each(i.data,function(t){t.transition(n)}),i.dataset.transition(n).draw(),e.each(i.data,function(t){t.draw()})},setHoverStyle:function(t){var i=this.chart.data.datasets[t._datasetIndex],n=t.custom||{},a=t._index,o=t._model;o.radius=n.hoverRadius?n.hoverRadius:e.getValueAtIndexOrDefault(i.pointHoverRadius,a,this.chart.options.elements.point.hoverRadius),o.backgroundColor=n.hoverBackgroundColor?n.hoverBackgroundColor:e.getValueAtIndexOrDefault(i.pointHoverBackgroundColor,a,e.getHoverColor(o.backgroundColor)),o.borderColor=n.hoverBorderColor?n.hoverBorderColor:e.getValueAtIndexOrDefault(i.pointHoverBorderColor,a,e.getHoverColor(o.borderColor)),o.borderWidth=n.hoverBorderWidth?n.hoverBorderWidth:e.getValueAtIndexOrDefault(i.pointHoverBorderWidth,a,o.borderWidth)},removeHoverStyle:function(t){var i=this.chart.data.datasets[t._datasetIndex],n=t.custom||{},a=t._index,o=t._model,r=this.chart.options.elements.point;o.radius=n.radius?n.radius:e.getValueAtIndexOrDefault(i.radius,a,r.radius),o.backgroundColor=n.backgroundColor?n.backgroundColor:e.getValueAtIndexOrDefault(i.pointBackgroundColor,a,r.backgroundColor),o.borderColor=n.borderColor?n.borderColor:e.getValueAtIndexOrDefault(i.pointBorderColor,a,r.borderColor),o.borderWidth=n.borderWidth?n.borderWidth:e.getValueAtIndexOrDefault(i.pointBorderWidth,a,r.borderWidth)}})}},{}],21:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.global.animation={duration:1e3,easing:"easeOutQuart",onProgress:e.noop,onComplete:e.noop},t.Animation=t.Element.extend({currentStep:null,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),t.animationService={frameDuration:17,animations:[],dropFrames:0,request:null,addAnimation:function(t,e,i,n){var a=this;n||(t.animating=!0);for(var o=0;o<a.animations.length;++o)if(a.animations[o].chartInstance===t)return void(a.animations[o].animationObject=e);a.animations.push({chartInstance:t,animationObject:e}),1===a.animations.length&&a.requestAnimationFrame()},cancelAnimation:function(t){var i=e.findIndex(this.animations,function(e){return e.chartInstance===t});-1!==i&&(this.animations.splice(i,1),t.animating=!1)},requestAnimationFrame:function(){var t=this;null===t.request&&(t.request=e.requestAnimFrame.call(window,function(){t.request=null,t.startDigest()}))},startDigest:function(){var t=this,e=Date.now(),i=0;t.dropFrames>1&&(i=Math.floor(t.dropFrames),t.dropFrames=t.dropFrames%1);for(var n=0;n<t.animations.length;)null===t.animations[n].animationObject.currentStep&&(t.animations[n].animationObject.currentStep=0),t.animations[n].animationObject.currentStep+=1+i,t.animations[n].animationObject.currentStep>t.animations[n].animationObject.numSteps&&(t.animations[n].animationObject.currentStep=t.animations[n].animationObject.numSteps),t.animations[n].animationObject.render(t.animations[n].chartInstance,t.animations[n].animationObject),t.animations[n].animationObject.onAnimationProgress&&t.animations[n].animationObject.onAnimationProgress.call&&t.animations[n].animationObject.onAnimationProgress.call(t.animations[n].chartInstance,t.animations[n]),t.animations[n].animationObject.currentStep===t.animations[n].animationObject.numSteps?(t.animations[n].animationObject.onAnimationComplete&&t.animations[n].animationObject.onAnimationComplete.call&&t.animations[n].animationObject.onAnimationComplete.call(t.animations[n].chartInstance,t.animations[n]),t.animations[n].chartInstance.animating=!1,t.animations.splice(n,1)):++n;var a=Date.now();t.dropFrames+=(a-e)/t.frameDuration,t.animations.length>0&&t.requestAnimationFrame()}}}},{}],22:[function(t,e,i){"use strict";e.exports=function(t){var e=t.canvasHelpers={};e.drawPoint=function(e,i,n,a,o){var r,s,l,c,d,h;if("object"!=typeof i||"[object HTMLImageElement]"!==(r=i.toString())&&"[object HTMLCanvasElement]"!==r){if(!(isNaN(n)||n<=0)){switch(i){default:e.beginPath(),e.arc(a,o,n,0,2*Math.PI),e.closePath(),e.fill();break;case"triangle":e.beginPath(),d=(s=3*n/Math.sqrt(3))*Math.sqrt(3)/2,e.moveTo(a-s/2,o+d/3),e.lineTo(a+s/2,o+d/3),e.lineTo(a,o-2*d/3),e.closePath(),e.fill();break;case"rect":h=1/Math.SQRT2*n,e.beginPath(),e.fillRect(a-h,o-h,2*h,2*h),e.strokeRect(a-h,o-h,2*h,2*h);break;case"rectRounded":var u=n/Math.SQRT2,f=Math.SQRT2*n;t.helpers.drawRoundedRectangle(e,a-u,o-u,f,f,n/2),e.fill();break;case"rectRot":h=1/Math.SQRT2*n,e.beginPath(),e.moveTo(a-h,o),e.lineTo(a,o+h),e.lineTo(a+h,o),e.lineTo(a,o-h),e.closePath(),e.fill();break;case"cross":e.beginPath(),e.moveTo(a,o+n),e.lineTo(a,o-n),e.moveTo(a-n,o),e.lineTo(a+n,o),e.closePath();break;case"crossRot":e.beginPath(),l=Math.cos(Math.PI/4)*n,c=Math.sin(Math.PI/4)*n,e.moveTo(a-l,o-c),e.lineTo(a+l,o+c),e.moveTo(a-l,o+c),e.lineTo(a+l,o-c),e.closePath();break;case"star":e.beginPath(),e.moveTo(a,o+n),e.lineTo(a,o-n),e.moveTo(a-n,o),e.lineTo(a+n,o),l=Math.cos(Math.PI/4)*n,c=Math.sin(Math.PI/4)*n,e.moveTo(a-l,o-c),e.lineTo(a+l,o+c),e.moveTo(a-l,o+c),e.lineTo(a+l,o-c),e.closePath();break;case"line":e.beginPath(),e.moveTo(a-n,o),e.lineTo(a+n,o),e.closePath();break;case"dash":e.beginPath(),e.moveTo(a,o),e.lineTo(a+n,o),e.closePath()}e.stroke()}}else e.drawImage(i,a-i.width/2,o-i.height/2)},e.clipArea=function(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()},e.unclipArea=function(t){t.restore()}}},{}],23:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers,i=t.plugins,n=t.platform;t.types={},t.instances={},t.controllers={},t.Controller=function(i,a,o){var r=this;a=function(i){var n=(i=i||{}).data=i.data||{};return n.datasets=n.datasets||[],n.labels=n.labels||[],i.options=e.configMerge(t.defaults.global,t.defaults[i.type],i.options||{}),i}(a);var s=n.acquireContext(i,a),l=s&&s.canvas,c=l&&l.height,d=l&&l.width;return o.ctx=s,o.canvas=l,o.config=a,o.width=d,o.height=c,o.aspectRatio=c?d/c:null,r.id=e.uid(),r.chart=o,r.config=a,r.options=a.options,r._bufferedRender=!1,t.instances[r.id]=r,Object.defineProperty(r,"data",{get:function(){return r.config.data}}),s&&l?(r.initialize(),r.update(),r):(console.error("Failed to create chart: can't acquire context from the given item"),r)},e.extend(t.Controller.prototype,{initialize:function(){var t=this;return i.notify(t,"beforeInit"),e.retinaScale(t.chart),t.bindEvents(),t.options.responsive&&t.resize(!0),t.ensureScalesHaveIDs(),t.buildScales(),t.initToolTip(),i.notify(t,"afterInit"),t},clear:function(){return e.clear(this.chart),this},stop:function(){return t.animationService.cancelAnimation(this),this},resize:function(t){var n=this,a=n.chart,o=a.canvas,r=n.options.maintainAspectRatio&&a.aspectRatio||null,s=Math.floor(e.getMaximumWidth(o)),l=Math.floor(r?s/r:e.getMaximumHeight(o));if((a.width!==s||a.height!==l)&&(o.width=a.width=s,o.height=a.height=l,o.style.width=s+"px",o.style.height=l+"px",e.retinaScale(a),!t)){var c={width:s,height:l};i.notify(n,"resize",[c]),n.options.onResize&&n.options.onResize(n,c),n.stop(),n.update(n.options.responsiveAnimationDuration)}},ensureScalesHaveIDs:function(){var t=this.options,i=t.scales||{},n=t.scale;e.each(i.xAxes,function(t,e){t.id=t.id||"x-axis-"+e}),e.each(i.yAxes,function(t,e){t.id=t.id||"y-axis-"+e}),n&&(n.id=n.id||"scale")},buildScales:function(){var i=this,n=i.options,a=i.scales={},o=[];n.scales&&(o=o.concat((n.scales.xAxes||[]).map(function(t){return{options:t,dtype:"category"}}),(n.scales.yAxes||[]).map(function(t){return{options:t,dtype:"linear"}}))),n.scale&&o.push({options:n.scale,dtype:"radialLinear",isDefault:!0}),e.each(o,function(n){var o=n.options,r=e.getValueOrDefault(o.type,n.dtype),s=t.scaleService.getScaleConstructor(r);if(s){var l=new s({id:o.id,options:o,ctx:i.chart.ctx,chart:i});a[l.id]=l,n.isDefault&&(i.scale=l)}}),t.scaleService.addScalesToLayout(this)},buildOrUpdateControllers:function(){var i=this,n=[],a=[];if(e.each(i.data.datasets,function(e,o){var r=i.getDatasetMeta(o);r.type||(r.type=e.type||i.config.type),n.push(r.type),r.controller?r.controller.updateIndex(o):(r.controller=new t.controllers[r.type](i,o),a.push(r.controller))},i),n.length>1)for(var o=1;o<n.length;o++)if(n[o]!==n[o-1]){i.isCombo=!0;break}return a},resetElements:function(){var t=this;e.each(t.data.datasets,function(e,i){t.getDatasetMeta(i).controller.reset()},t)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(t,n){var a,o,r=this;if((o=(a=r).options).scale?a.scale.options=o.scale:o.scales&&o.scales.xAxes.concat(o.scales.yAxes).forEach(function(t){a.scales[t.id].options=t}),a.tooltip._options=o.tooltips,!1!==i.notify(r,"beforeUpdate")){r.tooltip._data=r.data;var s=r.buildOrUpdateControllers();e.each(r.data.datasets,function(t,e){r.getDatasetMeta(e).controller.buildOrUpdateElements()},r),r.updateLayout(),e.each(s,function(t){t.reset()}),r.updateDatasets(),i.notify(r,"afterUpdate"),r._bufferedRender?r._bufferedRequest={lazy:n,duration:t}:r.render(t,n)}},updateLayout:function(){!1!==i.notify(this,"beforeLayout")&&(t.layoutService.update(this,this.chart.width,this.chart.height),i.notify(this,"afterScaleUpdate"),i.notify(this,"afterLayout"))},updateDatasets:function(){if(!1!==i.notify(this,"beforeDatasetsUpdate")){for(var t=0,e=this.data.datasets.length;t<e;++t)this.getDatasetMeta(t).controller.update();i.notify(this,"afterDatasetsUpdate")}},render:function(n,a){var o=this;if(!1!==i.notify(o,"beforeRender")){var r=o.options.animation,s=function(){i.notify(o,"afterRender");var t=r&&r.onComplete;t&&t.call&&t.call(o)};if(r&&(void 0!==n&&0!==n||void 0===n&&0!==r.duration)){var l=new t.Animation;l.numSteps=(n||r.duration)/16.66,l.easing=r.easing,l.render=function(t,i){var n=i.currentStep/i.numSteps,a=(0,e.easingEffects[i.easing])(n);t.draw(a,n,i.currentStep)},l.onAnimationProgress=r.onProgress,l.onAnimationComplete=s,t.animationService.addAnimation(o,l,n,a)}else o.draw(),s();return o}},draw:function(t){var n=this;n.clear(),void 0!==t&&null!==t||(t=1),!1!==i.notify(n,"beforeDraw",[t])&&(e.each(n.boxes,function(t){t.draw(n.chartArea)},n),n.scale&&n.scale.draw(),n.drawDatasets(t),n.tooltip.transition(t).draw(),i.notify(n,"afterDraw",[t]))},drawDatasets:function(t){var n=this;!1!==i.notify(n,"beforeDatasetsDraw",[t])&&(e.each(n.data.datasets,function(e,i){n.isDatasetVisible(i)&&n.getDatasetMeta(i).controller.draw(t)},n,!0),i.notify(n,"afterDatasetsDraw",[t]))},getElementAtEvent:function(e){return t.Interaction.modes.single(this,e)},getElementsAtEvent:function(e){return t.Interaction.modes.label(this,e,{intersect:!0})},getElementsAtXAxis:function(e){return t.Interaction.modes["x-axis"](this,e,{intersect:!0})},getElementsAtEventForMode:function(e,i,n){var a=t.Interaction.modes[i];return"function"==typeof a?a(this,e,n):[]},getDatasetAtEvent:function(e){return t.Interaction.modes.dataset(this,e,{intersect:!0})},getDatasetMeta:function(t){var e=this.data.datasets[t];e._meta||(e._meta={});var i=e._meta[this.id];return i||(i=e._meta[this.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null}),i},getVisibleDatasetCount:function(){for(var t=0,e=0,i=this.data.datasets.length;e<i;++e)this.isDatasetVisible(e)&&t++;return t},isDatasetVisible:function(t){var e=this.getDatasetMeta(t);return"boolean"==typeof e.hidden?!e.hidden:!this.data.datasets[t].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroy:function(){var a,o,r,s=this,l=s.chart.canvas;for(s.stop(),o=0,r=s.data.datasets.length;o<r;++o)(a=s.getDatasetMeta(o)).controller&&(a.controller.destroy(),a.controller=null);l&&(s.unbindEvents(),e.clear(s.chart),n.releaseContext(s.chart.ctx),s.chart.canvas=null,s.chart.ctx=null),i.notify(s,"destroy"),delete t.instances[s.id]},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)},initToolTip:function(){var e=this;e.tooltip=new t.Tooltip({_chart:e.chart,_chartInstance:e,_data:e.data,_options:e.options.tooltips},e),e.tooltip.initialize()},bindEvents:function(){var t=this,i=t._listeners={},a=function(){t.eventHandler.apply(t,arguments)};e.each(t.options.events,function(e){n.addEventListener(t,e,a),i[e]=a}),t.options.responsive&&(n.addEventListener(t,"resize",a=function(){t.resize()}),i.resize=a)},unbindEvents:function(){var t=this,i=t._listeners;i&&(delete t._listeners,e.each(i,function(e,i){n.removeEventListener(t,i,e)}))},updateHoverStyle:function(t,e,i){var n,a,o,r=i?"setHoverStyle":"removeHoverStyle";for(a=0,o=t.length;a<o;++a)(n=t[a])&&this.getDatasetMeta(n._datasetIndex).controller[r](n)},eventHandler:function(t){var e=this,n=e.tooltip;if(!1!==i.notify(e,"beforeEvent",[t])){e._bufferedRender=!0,e._bufferedRequest=null;var a=e.handleEvent(t);a|=n&&n.handleEvent(t),i.notify(e,"afterEvent",[t]);var o=e._bufferedRequest;return o?e.render(o.duration,o.lazy):a&&!e.animating&&(e.stop(),e.render(e.options.hover.animationDuration,!0)),e._bufferedRender=!1,e._bufferedRequest=null,e}},handleEvent:function(t){var i,n=this,a=n.options||{},o=a.hover;return n.lastActive=n.lastActive||[],n.active="mouseout"===t.type?[]:n.getElementsAtEventForMode(t,o.mode,o),o.onHover&&o.onHover.call(n,t.native,n.active),"mouseup"!==t.type&&"click"!==t.type||a.onClick&&a.onClick.call(n,t.native,n.active),n.lastActive.length&&n.updateHoverStyle(n.lastActive,o.mode,!1),n.active.length&&o.mode&&n.updateHoverStyle(n.active,o.mode,!0),i=!e.arrayEquals(n.active,n.lastActive),n.lastActive=n.active,i}})}},{}],24:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers,i=["push","pop","shift","splice","unshift"];function n(t,e){var n=t._chartjs;if(n){var a=n.listeners,o=a.indexOf(e);-1!==o&&a.splice(o,1),a.length>0||(i.forEach(function(e){delete t[e]}),delete t._chartjs)}}t.DatasetController=function(t,e){this.initialize(t,e)},e.extend(t.DatasetController.prototype,{datasetElementType:null,dataElementType:null,initialize:function(t,e){this.chart=t,this.index=e,this.linkScales(),this.addElements()},updateIndex:function(t){this.index=t},linkScales:function(){var t=this.getMeta(),e=this.getDataset();null===t.xAxisID&&(t.xAxisID=e.xAxisID||this.chart.options.scales.xAxes[0].id),null===t.yAxisID&&(t.yAxisID=e.yAxisID||this.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(t){return this.chart.scales[t]},reset:function(){this.update(!0)},destroy:function(){this._data&&n(this._data,this)},createMetaDataset:function(){var t=this.datasetElementType;return t&&new t({_chart:this.chart.chart,_datasetIndex:this.index})},createMetaData:function(t){var e=this.dataElementType;return e&&new e({_chart:this.chart.chart,_datasetIndex:this.index,_index:t})},addElements:function(){var t,e,i=this.getMeta(),n=this.getDataset().data||[],a=i.data;for(t=0,e=n.length;t<e;++t)a[t]=a[t]||this.createMetaData(t);i.dataset=i.dataset||this.createMetaDataset()},addElementAndReset:function(t){var e=this.createMetaData(t);this.getMeta().data.splice(t,0,e),this.updateElement(e,t,!0)},buildOrUpdateElements:function(){var t,a,o=this,r=o.getDataset(),s=r.data||(r.data=[]);o._data!==s&&(o._data&&n(o._data,o),a=o,(t=s)._chartjs?t._chartjs.listeners.push(a):(Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[a]}}),i.forEach(function(i){var n="onData"+i.charAt(0).toUpperCase()+i.slice(1),a=t[i];Object.defineProperty(t,i,{configurable:!0,enumerable:!1,value:function(){var i=Array.prototype.slice.call(arguments),o=a.apply(this,i);return e.each(t._chartjs.listeners,function(t){"function"==typeof t[n]&&t[n].apply(t,i)}),o}})})),o._data=s),o.resyncElements()},update:e.noop,draw:function(t){var e,i,n=t||1,a=this.getMeta().data;for(e=0,i=a.length;e<i;++e)a[e].transition(n).draw()},removeHoverStyle:function(t,i){var n=this.chart.data.datasets[t._datasetIndex],a=t._index,o=t.custom||{},r=e.getValueAtIndexOrDefault,s=t._model;s.backgroundColor=o.backgroundColor?o.backgroundColor:r(n.backgroundColor,a,i.backgroundColor),s.borderColor=o.borderColor?o.borderColor:r(n.borderColor,a,i.borderColor),s.borderWidth=o.borderWidth?o.borderWidth:r(n.borderWidth,a,i.borderWidth)},setHoverStyle:function(t){var i=this.chart.data.datasets[t._datasetIndex],n=t._index,a=t.custom||{},o=e.getValueAtIndexOrDefault,r=e.getHoverColor,s=t._model;s.backgroundColor=a.hoverBackgroundColor?a.hoverBackgroundColor:o(i.hoverBackgroundColor,n,r(s.backgroundColor)),s.borderColor=a.hoverBorderColor?a.hoverBorderColor:o(i.hoverBorderColor,n,r(s.borderColor)),s.borderWidth=a.hoverBorderWidth?a.hoverBorderWidth:o(i.hoverBorderWidth,n,s.borderWidth)},resyncElements:function(){var t=this.getMeta(),e=this.getDataset().data,i=t.data.length,n=e.length;n<i?t.data.splice(n,i-n):n>i&&this.insertElements(i,n-i)},insertElements:function(t,e){for(var i=0;i<e;++i)this.addElementAndReset(t+i)},onDataPush:function(){this.insertElements(this.getDataset().data.length-1,arguments.length)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(t,e){this.getMeta().data.splice(t,e),this.insertElements(t,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),t.DatasetController.extend=e.inherits}},{}],25:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers;t.elements={},t.Element=function(t){e.extend(this,t),this.initialize.apply(this,arguments)},e.extend(t.Element.prototype,{initialize:function(){this.hidden=!1},pivot:function(){var t=this;return t._view||(t._view=e.clone(t._model)),t._start=e.clone(t._view),t},transition:function(t){var i=this;return i._view||(i._view=e.clone(i._model)),1===t?(i._view=i._model,i._start=null,i):(i._start||i.pivot(),e.each(i._model,function(n,a){if("_"===a[0]);else if(i._view.hasOwnProperty(a))if(n===i._view[a]);else if("string"==typeof n)try{var o=e.color(i._model[a]).mix(e.color(i._start[a]),t);i._view[a]=o.rgbString()}catch(t){i._view[a]=n}else if("number"==typeof n){var r=void 0!==i._start[a]&&!1===isNaN(i._start[a])?i._start[a]:0;i._view[a]=(i._model[a]-r)*t+r}else i._view[a]=n;else i._view[a]="number"!=typeof n||isNaN(i._view[a])?n:n*t},i),i)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return e.isNumber(this._model.x)&&e.isNumber(this._model.y)}}),t.Element.extend=e.inherits}},{}],26:[function(t,e,i){"use strict";var n=t(3);e.exports=function(t){var e,i=t.helpers={};i.each=function(t,e,n,a){var o,r;if(i.isArray(t))if(r=t.length,a)for(o=r-1;o>=0;o--)e.call(n,t[o],o);else for(o=0;o<r;o++)e.call(n,t[o],o);else if("object"==typeof t){var s=Object.keys(t);for(r=s.length,o=0;o<r;o++)e.call(n,t[s[o]],s[o])}},i.clone=function(t){var e={};return i.each(t,function(t,n){e[n]=i.isArray(t)?t.slice(0):"object"==typeof t&&null!==t?i.clone(t):t}),e},i.extend=function(t){for(var e=function(e,i){t[i]=e},n=1,a=arguments.length;n<a;n++)i.each(arguments[n],e);return t},i.configMerge=function(e){var n=i.clone(e);return i.each(Array.prototype.slice.call(arguments,1),function(e){i.each(e,function(e,a){var o=n.hasOwnProperty(a),r=o?n[a]:{};n[a]="scales"===a?i.scaleMerge(r,e):"scale"===a?i.configMerge(r,t.scaleService.getScaleDefaults(e.type),e):!o||"object"!=typeof r||i.isArray(r)||null===r||"object"!=typeof e||i.isArray(e)?e:i.configMerge(r,e)})}),n},i.scaleMerge=function(e,n){var a=i.clone(e);return i.each(n,function(e,n){"xAxes"===n||"yAxes"===n?a.hasOwnProperty(n)?i.each(e,function(e,o){var r=i.getValueOrDefault(e.type,"xAxes"===n?"category":"linear"),s=t.scaleService.getScaleDefaults(r);o>=a[n].length||!a[n][o].type?a[n].push(i.configMerge(s,e)):a[n][o]=e.type&&e.type!==a[n][o].type?i.configMerge(a[n][o],s,e):i.configMerge(a[n][o],e)}):(a[n]=[],i.each(e,function(e){var o=i.getValueOrDefault(e.type,"xAxes"===n?"category":"linear");a[n].push(i.configMerge(t.scaleService.getScaleDefaults(o),e))})):a[n]=a.hasOwnProperty(n)&&"object"==typeof a[n]&&null!==a[n]&&"object"==typeof e?i.configMerge(a[n],e):e}),a},i.getValueAtIndexOrDefault=function(t,e,n){return void 0===t||null===t?n:i.isArray(t)?e<t.length?t[e]:n:t},i.getValueOrDefault=function(t,e){return void 0===t?e:t},i.indexOf=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var i=0,n=t.length;i<n;++i)if(t[i]===e)return i;return-1},i.where=function(t,e){if(i.isArray(t)&&Array.prototype.filter)return t.filter(e);var n=[];return i.each(t,function(t){e(t)&&n.push(t)}),n},i.findIndex=Array.prototype.findIndex?function(t,e,i){return t.findIndex(e,i)}:function(t,e,i){i=void 0===i?t:i;for(var n=0,a=t.length;n<a;++n)if(e.call(i,t[n],n,t))return n;return-1},i.findNextWhere=function(t,e,i){void 0!==i&&null!==i||(i=-1);for(var n=i+1;n<t.length;n++){var a=t[n];if(e(a))return a}},i.findPreviousWhere=function(t,e,i){void 0!==i&&null!==i||(i=t.length);for(var n=i-1;n>=0;n--){var a=t[n];if(e(a))return a}},i.inherits=function(t){var e=this,n=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return e.apply(this,arguments)},a=function(){this.constructor=n};return a.prototype=e.prototype,n.prototype=new a,n.extend=i.inherits,t&&i.extend(n.prototype,t),n.__super__=e.prototype,n},i.noop=function(){},i.uid=(e=0,function(){return e++}),i.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},i.almostEquals=function(t,e,i){return Math.abs(t-e)<i},i.almostWhole=function(t,e){var i=Math.round(t);return i-e<t&&i+e>t},i.max=function(t){return t.reduce(function(t,e){return isNaN(e)?t:Math.max(t,e)},Number.NEGATIVE_INFINITY)},i.min=function(t){return t.reduce(function(t,e){return isNaN(e)?t:Math.min(t,e)},Number.POSITIVE_INFINITY)},i.sign=Math.sign?function(t){return Math.sign(t)}:function(t){return 0==(t=+t)||isNaN(t)?t:t>0?1:-1},i.log10=Math.log10?function(t){return Math.log10(t)}:function(t){return Math.log(t)/Math.LN10},i.toRadians=function(t){return t*(Math.PI/180)},i.toDegrees=function(t){return t*(180/Math.PI)},i.getAngleFromPoint=function(t,e){var i=e.x-t.x,n=e.y-t.y,a=Math.sqrt(i*i+n*n),o=Math.atan2(n,i);return o<-.5*Math.PI&&(o+=2*Math.PI),{angle:o,distance:a}},i.distanceBetweenPoints=function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},i.aliasPixel=function(t){return t%2==0?0:.5},i.splineCurve=function(t,e,i,n){var a=t.skip?e:t,o=e,r=i.skip?e:i,s=Math.sqrt(Math.pow(o.x-a.x,2)+Math.pow(o.y-a.y,2)),l=Math.sqrt(Math.pow(r.x-o.x,2)+Math.pow(r.y-o.y,2)),c=s/(s+l),d=l/(s+l),h=n*(c=isNaN(c)?0:c),u=n*(d=isNaN(d)?0:d);return{previous:{x:o.x-h*(r.x-a.x),y:o.y-h*(r.y-a.y)},next:{x:o.x+u*(r.x-a.x),y:o.y+u*(r.y-a.y)}}},i.EPSILON=Number.EPSILON||1e-14,i.splineCurveMonotone=function(t){var e,n,a,o,r,s,l,c,d,h=(t||[]).map(function(t){return{model:t._model,deltaK:0,mK:0}}),u=h.length;for(e=0;e<u;++e)if(!(a=h[e]).model.skip){if(n=e>0?h[e-1]:null,(o=e<u-1?h[e+1]:null)&&!o.model.skip){var f=o.model.x-a.model.x;a.deltaK=0!==f?(o.model.y-a.model.y)/f:0}a.mK=!n||n.model.skip?a.deltaK:!o||o.model.skip?n.deltaK:this.sign(n.deltaK)!==this.sign(a.deltaK)?0:(n.deltaK+a.deltaK)/2}for(e=0;e<u-1;++e)o=h[e+1],(a=h[e]).model.skip||o.model.skip||(i.almostEquals(a.deltaK,0,this.EPSILON)?a.mK=o.mK=0:(r=a.mK/a.deltaK,s=o.mK/a.deltaK,(c=Math.pow(r,2)+Math.pow(s,2))<=9||(l=3/Math.sqrt(c),a.mK=r*l*a.deltaK,o.mK=s*l*a.deltaK)));for(e=0;e<u;++e)(a=h[e]).model.skip||(n=e>0?h[e-1]:null,o=e<u-1?h[e+1]:null,n&&!n.model.skip&&(a.model.controlPointPreviousX=a.model.x-(d=(a.model.x-n.model.x)/3),a.model.controlPointPreviousY=a.model.y-d*a.mK),o&&!o.model.skip&&(a.model.controlPointNextX=a.model.x+(d=(o.model.x-a.model.x)/3),a.model.controlPointNextY=a.model.y+d*a.mK))},i.nextItem=function(t,e,i){return i?e>=t.length-1?t[0]:t[e+1]:e>=t.length-1?t[t.length-1]:t[e+1]},i.previousItem=function(t,e,i){return i?e<=0?t[t.length-1]:t[e-1]:e<=0?t[0]:t[e-1]},i.niceNum=function(t,e){var n=Math.floor(i.log10(t)),a=t/Math.pow(10,n);return(e?a<1.5?1:a<3?2:a<7?5:10:a<=1?1:a<=2?2:a<=5?5:10)*Math.pow(10,n)};var a=i.easingEffects={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-1*t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return 1*((t=t/1-1)*t*t+1)},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-1*((t=t/1-1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return 1*(t/=1)*t*t*t*t},easeOutQuint:function(t){return 1*((t=t/1-1)*t*t*t*t+1)},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return-1*Math.cos(t/1*(Math.PI/2))+1},easeOutSine:function(t){return 1*Math.sin(t/1*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t/1)-1)},easeInExpo:function(t){return 0===t?1:1*Math.pow(2,10*(t/1-1))},easeOutExpo:function(t){return 1===t?1:1*(1-Math.pow(2,-10*t/1))},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},easeInCirc:function(t){return t>=1?t:-1*(Math.sqrt(1-(t/=1)*t)-1)},easeOutCirc:function(t){return 1*Math.sqrt(1-(t=t/1-1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var e=1.70158,i=0,n=1;return 0===t?0:1==(t/=1)?1:(i||(i=.3),n<Math.abs(1)?(n=1,e=i/4):e=i/(2*Math.PI)*Math.asin(1/n),-n*Math.pow(2,10*(t-=1))*Math.sin((1*t-e)*(2*Math.PI)/i))},easeOutElastic:function(t){var e=1.70158,i=0,n=1;return 0===t?0:1==(t/=1)?1:(i||(i=.3),n<Math.abs(1)?(n=1,e=i/4):e=i/(2*Math.PI)*Math.asin(1/n),n*Math.pow(2,-10*t)*Math.sin((1*t-e)*(2*Math.PI)/i)+1)},easeInOutElastic:function(t){var e=1.70158,i=0,n=1;return 0===t?0:2==(t/=.5)?1:(i||(i=.3*1.5*1),n<Math.abs(1)?(n=1,e=i/4):e=i/(2*Math.PI)*Math.asin(1/n),t<1?n*Math.pow(2,10*(t-=1))*Math.sin((1*t-e)*(2*Math.PI)/i)*-.5:n*Math.pow(2,-10*(t-=1))*Math.sin((1*t-e)*(2*Math.PI)/i)*.5+1)},easeInBack:function(t){var e=1.70158;return 1*(t/=1)*t*((e+1)*t-e)},easeOutBack:function(t){var e=1.70158;return 1*((t=t/1-1)*t*((e+1)*t+e)+1)},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:function(t){return 1-a.easeOutBounce(1-t)},easeOutBounce:function(t){return(t/=1)<1/2.75?7.5625*t*t*1:t<2/2.75?1*(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?1*(7.5625*(t-=2.25/2.75)*t+.9375):1*(7.5625*(t-=2.625/2.75)*t+.984375)},easeInOutBounce:function(t){return t<.5?.5*a.easeInBounce(2*t):.5*a.easeOutBounce(2*t-1)+.5}};function o(t,e,i){var n;return"string"==typeof t?(n=parseInt(t,10),-1!==t.indexOf("%")&&(n=n/100*e.parentNode[i])):n=t,n}function r(t){return void 0!==t&&null!==t&&"none"!==t}function s(t,e,i){var n=document.defaultView,a=t.parentNode,s=n.getComputedStyle(t)[e],l=n.getComputedStyle(a)[e],c=r(s),d=r(l),h=Number.POSITIVE_INFINITY;return c||d?Math.min(c?o(s,t,i):h,d?o(l,a,i):h):"none"}i.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)},i.getRelativePosition=function(t,e){var n,a,o=t.originalEvent||t,r=t.currentTarget||t.srcElement,s=r.getBoundingClientRect(),l=o.touches;l&&l.length>0?(n=l[0].clientX,a=l[0].clientY):(n=o.clientX,a=o.clientY);var c=parseFloat(i.getStyle(r,"padding-left")),d=parseFloat(i.getStyle(r,"padding-top")),h=parseFloat(i.getStyle(r,"padding-right")),u=parseFloat(i.getStyle(r,"padding-bottom")),f=s.bottom-s.top-d-u;return{x:n=Math.round((n-s.left-c)/(s.right-s.left-c-h)*r.width/e.currentDevicePixelRatio),y:a=Math.round((a-s.top-d)/f*r.height/e.currentDevicePixelRatio)}},i.addEvent=function(t,e,i){t.addEventListener?t.addEventListener(e,i):t.attachEvent?t.attachEvent("on"+e,i):t["on"+e]=i},i.removeEvent=function(t,e,n){t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=i.noop},i.getConstraintWidth=function(t){return s(t,"max-width","clientWidth")},i.getConstraintHeight=function(t){return s(t,"max-height","clientHeight")},i.getMaximumWidth=function(t){var e=t.parentNode,n=parseInt(i.getStyle(e,"padding-left"),10),a=parseInt(i.getStyle(e,"padding-right"),10),o=e.clientWidth-n-a,r=i.getConstraintWidth(t);return isNaN(r)?o:Math.min(o,r)},i.getMaximumHeight=function(t){var e=t.parentNode,n=parseInt(i.getStyle(e,"padding-top"),10),a=parseInt(i.getStyle(e,"padding-bottom"),10),o=e.clientHeight-n-a,r=i.getConstraintHeight(t);return isNaN(r)?o:Math.min(o,r)},i.getStyle=function(t,e){return t.currentStyle?t.currentStyle[e]:document.defaultView.getComputedStyle(t,null).getPropertyValue(e)},i.retinaScale=function(t){var e=t.currentDevicePixelRatio=window.devicePixelRatio||1;if(1!==e){var i=t.canvas,n=t.height,a=t.width;i.height=n*e,i.width=a*e,t.ctx.scale(e,e),i.style.height=n+"px",i.style.width=a+"px"}},i.clear=function(t){t.ctx.clearRect(0,0,t.width,t.height)},i.fontString=function(t,e,i){return e+" "+t+"px "+i},i.longestText=function(t,e,n,a){var o=(a=a||{}).data=a.data||{},r=a.garbageCollect=a.garbageCollect||[];a.font!==e&&(o=a.data={},r=a.garbageCollect=[],a.font=e),t.font=e;var s=0;i.each(n,function(e){void 0!==e&&null!==e&&!0!==i.isArray(e)?s=i.measureText(t,o,r,s,e):i.isArray(e)&&i.each(e,function(e){void 0===e||null===e||i.isArray(e)||(s=i.measureText(t,o,r,s,e))})});var l=r.length/2;if(l>n.length){for(var c=0;c<l;c++)delete o[r[c]];r.splice(0,l)}return s},i.measureText=function(t,e,i,n,a){var o=e[a];return o||(o=e[a]=t.measureText(a).width,i.push(a)),o>n&&(n=o),n},i.numberOfLabelLines=function(t){var e=1;return i.each(t,function(t){i.isArray(t)&&t.length>e&&(e=t.length)}),e},i.drawRoundedRectangle=function(t,e,i,n,a,o){t.beginPath(),t.moveTo(e+o,i),t.lineTo(e+n-o,i),t.quadraticCurveTo(e+n,i,e+n,i+o),t.lineTo(e+n,i+a-o),t.quadraticCurveTo(e+n,i+a,e+n-o,i+a),t.lineTo(e+o,i+a),t.quadraticCurveTo(e,i+a,e,i+a-o),t.lineTo(e,i+o),t.quadraticCurveTo(e,i,e+o,i),t.closePath()},i.color=function(e){return n?e instanceof CanvasGradient?n(t.defaults.global.defaultColor):n(e):(console.error("Color.js not found!"),e)},i.isArray=Array.isArray?function(t){return Array.isArray(t)}:function(t){return"[object Array]"===Object.prototype.toString.call(t)},i.arrayEquals=function(t,e){var n,a,o,r;if(!t||!e||t.length!==e.length)return!1;for(n=0,a=t.length;n<a;++n)if(r=e[n],(o=t[n])instanceof Array&&r instanceof Array){if(!i.arrayEquals(o,r))return!1}else if(o!==r)return!1;return!0},i.callCallback=function(t,e,i){t&&"function"==typeof t.call&&t.apply(i,e)},i.getHoverColor=function(t){return t instanceof CanvasPattern?t:i.color(t).saturate(.5).darken(.1).rgbString()}}},{3:3}],27:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers;function i(t,i){return t.native?{x:t.x,y:t.y}:e.getRelativePosition(t,i)}function n(t,e){var i,n,a,o,r;for(n=0,o=t.data.datasets.length;n<o;++n)if(t.isDatasetVisible(n))for(a=0,r=(i=t.getDatasetMeta(n)).data.length;a<r;++a){var s=i.data[a];s._view.skip||e(s)}}function a(t,e){var i=[];return n(t,function(t){t.inRange(e.x,e.y)&&i.push(t)}),i}function o(t,i,a,o){var r=Number.POSITIVE_INFINITY,s=[];return o||(o=e.distanceBetweenPoints),n(t,function(t){if(!a||t.inRange(i.x,i.y)){var e=t.getCenterPoint(),n=o(i,e);n<r?(s=[t],r=n):n===r&&s.push(t)}}),s}function r(t,e,n){var r=i(e,t.chart),s=n.intersect?a(t,r):o(t,r,!1,function(t,e){return Math.abs(t.x-e.x)}),l=[];return s.length?(t.data.datasets.forEach(function(e,i){if(t.isDatasetVisible(i)){var n=t.getDatasetMeta(i).data[s[0]._index];n&&!n._view.skip&&l.push(n)}}),l):[]}t.Interaction={modes:{single:function(t,e){var a=i(e,t.chart),o=[];return n(t,function(t){if(t.inRange(a.x,a.y))return o.push(t),o}),o.slice(0,1)},label:r,index:r,dataset:function(t,e,n){var r=i(e,t.chart),s=n.intersect?a(t,r):o(t,r,!1);return s.length>0&&(s=t.getDatasetMeta(s[0]._datasetIndex).data),s},"x-axis":function(t,e){return r(t,e,!0)},point:function(t,e){return a(t,i(e,t.chart))},nearest:function(t,e,n){var a=o(t,i(e,t.chart),n.intersect);return a.length>1&&a.sort(function(t,e){var i=t.getArea()-e.getArea();return 0===i&&(i=t._datasetIndex-e._datasetIndex),i}),a.slice(0,1)},x:function(t,e,a){var o=i(e,t.chart),r=[],s=!1;return n(t,function(t){t.inXRange(o.x)&&r.push(t),t.inRange(o.x,o.y)&&(s=!0)}),a.intersect&&!s&&(r=[]),r},y:function(t,e,a){var o=i(e,t.chart),r=[],s=!1;return n(t,function(t){t.inYRange(o.y)&&r.push(t),t.inRange(o.x,o.y)&&(s=!0)}),a.intersect&&!s&&(r=[]),r}}}}},{}],28:[function(t,e,i){"use strict";e.exports=function(){var t=function(e,i){return this.controller=new t.Controller(e,i,this),this.controller};return t.defaults={global:{responsive:!0,responsiveAnimationDuration:0,maintainAspectRatio:!0,events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",showLines:!0,elements:{},legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');for(var i=0;i<t.data.datasets.length;i++)e.push('<li><span style="background-color:'+t.data.datasets[i].backgroundColor+'"></span>'),t.data.datasets[i].label&&e.push(t.data.datasets[i].label),e.push("</li>");return e.push("</ul>"),e.join("")}}},t.Chart=t,t}},{}],29:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers;t.layoutService={defaults:{},addBox:function(t,e){t.boxes||(t.boxes=[]),t.boxes.push(e)},removeBox:function(t,e){t.boxes&&t.boxes.splice(t.boxes.indexOf(e),1)},update:function(t,i,n){if(t){var a=t.options.layout,o=a?a.padding:null,r=0,s=0,l=0,c=0;isNaN(o)?(r=o.left||0,s=o.right||0,l=o.top||0,c=o.bottom||0):(r=o,s=o,l=o,c=o);var d=e.where(t.boxes,function(t){return"left"===t.options.position}),h=e.where(t.boxes,function(t){return"right"===t.options.position}),u=e.where(t.boxes,function(t){return"top"===t.options.position}),f=e.where(t.boxes,function(t){return"bottom"===t.options.position}),p=e.where(t.boxes,function(t){return"chartArea"===t.options.position});u.sort(function(t,e){return(e.options.fullWidth?1:0)-(t.options.fullWidth?1:0)}),f.sort(function(t,e){return(t.options.fullWidth?1:0)-(e.options.fullWidth?1:0)});var m=i-r-s,g=n-l-c,_=g/2,v=(i-m/2)/(d.length+h.length),y=(n-_)/(u.length+f.length),b=m,x=g,T=[];e.each(d.concat(h,u,f),function(t){var e,i=t.isHorizontal();i?(e=t.update(t.options.fullWidth?m:b,y),x-=e.height):(e=t.update(v,_),b-=e.width),T.push({horizontal:i,minSize:e,box:t})});var w=0,k=0,L=0,D=0;e.each(u.concat(f),function(t){if(t.getPadding){var e=t.getPadding();w=Math.max(w,e.left),k=Math.max(k,e.right)}}),e.each(d.concat(h),function(t){if(t.getPadding){var e=t.getPadding();L=Math.max(L,e.top),D=Math.max(D,e.bottom)}});var S=r,M=s,C=l,E=c;e.each(d.concat(h),R),e.each(d,function(t){S+=t.width}),e.each(h,function(t){M+=t.width}),e.each(u.concat(f),R),e.each(u,function(t){C+=t.height}),e.each(f,function(t){E+=t.height}),e.each(d.concat(h),function(t){var i=e.findNextWhere(T,function(e){return e.box===t});i&&t.update(i.minSize.width,x,{left:0,right:0,top:C,bottom:E})}),S=r,M=s,C=l,E=c,e.each(d,function(t){S+=t.width}),e.each(h,function(t){M+=t.width}),e.each(u,function(t){C+=t.height}),e.each(f,function(t){E+=t.height});var A=Math.max(w-S,0);S+=A,M+=Math.max(k-M,0);var I=Math.max(L-C,0);C+=I,E+=Math.max(D-E,0);var N=n-C-E,P=i-S-M;P===b&&N===x||(e.each(d,function(t){t.height=N}),e.each(h,function(t){t.height=N}),e.each(u,function(t){t.options.fullWidth||(t.width=P)}),e.each(f,function(t){t.options.fullWidth||(t.width=P)}),x=N,b=P);var O=r+A,F=l+I;e.each(d.concat(u),B),O+=b,F+=x,e.each(h,B),e.each(f,B),t.chartArea={left:S,top:C,right:S+b,bottom:C+x},e.each(p,function(e){e.left=t.chartArea.left,e.top=t.chartArea.top,e.right=t.chartArea.right,e.bottom=t.chartArea.bottom,e.update(b,x)})}function R(t){var i=e.findNextWhere(T,function(e){return e.box===t});if(i)if(t.isHorizontal()){var n={left:Math.max(S,w),right:Math.max(M,k),top:0,bottom:0};t.update(t.options.fullWidth?m:b,g/2,n)}else t.update(i.minSize.width,x)}function B(t){t.isHorizontal()?(t.left=t.options.fullWidth?r:S,t.right=t.options.fullWidth?i-s:S+b,t.top=F,t.bottom=F+t.height,F=t.bottom):(t.left=O,t.right=O+t.width,t.top=C,t.bottom=C+x,O=t.right)}}}}},{}],30:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers,i=e.noop;function n(t,e){return t.usePointStyle?e*Math.SQRT2:t.boxWidth}function a(e,i){var n=new t.Legend({ctx:e.chart.ctx,options:i,chart:e});e.legend=n,t.layoutService.addBox(e,n)}t.defaults.global.legend={display:!0,position:"top",fullWidth:!0,reverse:!1,onClick:function(t,e){var i=e.datasetIndex,n=this.chart,a=n.getDatasetMeta(i);a.hidden=null===a.hidden?!n.data.datasets[i].hidden:null,n.update()},onHover:null,labels:{boxWidth:40,padding:10,generateLabels:function(t){var i=t.data;return e.isArray(i.datasets)?i.datasets.map(function(i,n){return{text:i.label,fillStyle:e.isArray(i.backgroundColor)?i.backgroundColor[0]:i.backgroundColor,hidden:!t.isDatasetVisible(n),lineCap:i.borderCapStyle,lineDash:i.borderDash,lineDashOffset:i.borderDashOffset,lineJoin:i.borderJoinStyle,lineWidth:i.borderWidth,strokeStyle:i.borderColor,pointStyle:i.pointStyle,datasetIndex:n}},this):[]}}},t.Legend=t.Element.extend({initialize:function(t){e.extend(this,t),this.legendHitBoxes=[],this.doughnutMode=!1},beforeUpdate:i,update:function(t,e,i){var n=this;return n.beforeUpdate(),n.maxWidth=t,n.maxHeight=e,n.margins=i,n.beforeSetDimensions(),n.setDimensions(),n.afterSetDimensions(),n.beforeBuildLabels(),n.buildLabels(),n.afterBuildLabels(),n.beforeFit(),n.fit(),n.afterFit(),n.afterUpdate(),n.minSize},afterUpdate:i,beforeSetDimensions:i,setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0}},afterSetDimensions:i,beforeBuildLabels:i,buildLabels:function(){var t=this,e=t.options.labels,i=e.generateLabels.call(t,t.chart);e.filter&&(i=i.filter(function(i){return e.filter(i,t.chart.data)})),t.options.reverse&&i.reverse(),t.legendItems=i},afterBuildLabels:i,beforeFit:i,fit:function(){var i=this,a=i.options,o=a.labels,r=a.display,s=i.ctx,l=t.defaults.global,c=e.getValueOrDefault,d=c(o.fontSize,l.defaultFontSize),h=c(o.fontStyle,l.defaultFontStyle),u=c(o.fontFamily,l.defaultFontFamily),f=e.fontString(d,h,u),p=i.legendHitBoxes=[],m=i.minSize,g=i.isHorizontal();if(g?(m.width=i.maxWidth,m.height=r?10:0):(m.width=r?10:0,m.height=i.maxHeight),r)if(s.font=f,g){var _=i.lineWidths=[0],v=i.legendItems.length?d+o.padding:0;s.textAlign="left",s.textBaseline="top",e.each(i.legendItems,function(t,e){var a=n(o,d)+d/2+s.measureText(t.text).width;_[_.length-1]+a+o.padding>=i.width&&(v+=d+o.padding,_[_.length]=i.left),p[e]={left:0,top:0,width:a,height:d},_[_.length-1]+=a+o.padding}),m.height+=v}else{var y=o.padding,b=i.columnWidths=[],x=o.padding,T=0,w=0,k=d+y;e.each(i.legendItems,function(t,e){var i=n(o,d)+d/2+s.measureText(t.text).width;w+k>m.height&&(x+=T+o.padding,b.push(T),T=0,w=0),T=Math.max(T,i),w+=k,p[e]={left:0,top:0,width:i,height:d}}),x+=T,b.push(T),m.width+=x}i.width=m.width,i.height=m.height},afterFit:i,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var i=this,a=i.options,o=a.labels,r=t.defaults.global,s=r.elements.line,l=i.width,c=i.lineWidths;if(a.display){var d,h=i.ctx,u=e.getValueOrDefault,f=u(o.fontColor,r.defaultFontColor),p=u(o.fontSize,r.defaultFontSize),m=u(o.fontStyle,r.defaultFontStyle),g=u(o.fontFamily,r.defaultFontFamily),_=e.fontString(p,m,g);h.textAlign="left",h.textBaseline="top",h.lineWidth=.5,h.strokeStyle=f,h.fillStyle=f,h.font=_;var v=n(o,p),y=i.legendHitBoxes,b=i.isHorizontal();d=b?{x:i.left+(l-c[0])/2,y:i.top+o.padding,line:0}:{x:i.left+o.padding,y:i.top+o.padding,line:0};var x=p+o.padding;e.each(i.legendItems,function(e,n){var f=h.measureText(e.text).width,m=v+p/2+f,g=d.x,_=d.y;b?g+m>=l&&(_=d.y+=x,d.line++,g=d.x=i.left+(l-c[d.line])/2):_+x>i.bottom&&(g=d.x=g+i.columnWidths[d.line]+o.padding,_=d.y=i.top+o.padding,d.line++),function(e,i,n){if(!(isNaN(v)||v<=0)){h.save(),h.fillStyle=u(n.fillStyle,r.defaultColor),h.lineCap=u(n.lineCap,s.borderCapStyle),h.lineDashOffset=u(n.lineDashOffset,s.borderDashOffset),h.lineJoin=u(n.lineJoin,s.borderJoinStyle),h.lineWidth=u(n.lineWidth,s.borderWidth),h.strokeStyle=u(n.strokeStyle,r.defaultColor);var o=0===u(n.lineWidth,s.borderWidth);if(h.setLineDash&&h.setLineDash(u(n.lineDash,s.borderDash)),a.labels&&a.labels.usePointStyle){var l=p*Math.SQRT2/2,c=l/Math.SQRT2;t.canvasHelpers.drawPoint(h,n.pointStyle,l,e+c,i+c)}else o||h.strokeRect(e,i,v,p),h.fillRect(e,i,v,p);h.restore()}}(g,_,e),y[n].left=g,y[n].top=_,function(t,e,i,n){h.fillText(i.text,v+p/2+t,e),i.hidden&&(h.beginPath(),h.lineWidth=2,h.moveTo(v+p/2+t,e+p/2),h.lineTo(v+p/2+t+n,e+p/2),h.stroke())}(g,_,e,f),b?d.x+=m+o.padding:d.y+=x})}},handleEvent:function(t){var e=this,i=e.options,n="mouseup"===t.type?"click":t.type,a=!1;if("mousemove"===n){if(!i.onHover)return}else{if("click"!==n)return;if(!i.onClick)return}var o=t.x,r=t.y;if(o>=e.left&&o<=e.right&&r>=e.top&&r<=e.bottom)for(var s=e.legendHitBoxes,l=0;l<s.length;++l){var c=s[l];if(o>=c.left&&o<=c.left+c.width&&r>=c.top&&r<=c.top+c.height){if("click"===n){i.onClick.call(e,t.native,e.legendItems[l]),a=!0;break}if("mousemove"===n){i.onHover.call(e,t.native,e.legendItems[l]),a=!0;break}}}return a}}),t.plugins.register({beforeInit:function(t){var e=t.options.legend;e&&a(t,e)},beforeUpdate:function(i){var n=i.options.legend;n?(n=e.configMerge(t.defaults.global.legend,n),i.legend?i.legend.options=n:a(i,n)):(t.layoutService.removeBox(i,i.legend),delete i.legend)},afterEvent:function(t,e){var i=t.legend;i&&i.handleEvent(e)}})}},{}],31:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.global.plugins={},t.plugins={_plugins:[],_cacheId:0,register:function(t){var e=this._plugins;[].concat(t).forEach(function(t){-1===e.indexOf(t)&&e.push(t)}),this._cacheId++},unregister:function(t){var e=this._plugins;[].concat(t).forEach(function(t){var i=e.indexOf(t);-1!==i&&e.splice(i,1)}),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(t,e,i){var n,a,o,r,s,l=this.descriptors(t),c=l.length;for(n=0;n<c;++n)if("function"==typeof(s=(o=(a=l[n]).plugin)[e])&&((r=[t].concat(i||[])).push(a.options),!1===s.apply(o,r)))return!1;return!0},descriptors:function(i){var n=i._plugins||(i._plugins={});if(n.id===this._cacheId)return n.descriptors;var a=[],o=[],r=i&&i.config||{},s=t.defaults.global.plugins,l=r.options&&r.options.plugins||{};return this._plugins.concat(r.plugins||[]).forEach(function(t){if(-1===a.indexOf(t)){var i=t.id,n=l[i];!1!==n&&(!0===n&&(n=e.clone(s[i])),a.push(t),o.push({plugin:t,options:n||{}}))}}),n.descriptors=o,n.id=this._cacheId,o}},t.pluginService=t.plugins,t.PluginBase=e.inherits({})}},{}],32:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers;function i(t,i,n){return e.isArray(i)?e.longestText(t,n,i):t.measureText(i).width}function n(i){var n=e.getValueOrDefault,a=t.defaults.global,o=n(i.fontSize,a.defaultFontSize),r=n(i.fontStyle,a.defaultFontStyle),s=n(i.fontFamily,a.defaultFontFamily);return{size:o,style:r,family:s,font:e.fontString(o,r,s)}}t.defaults.scale={display:!0,position:"left",gridLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{labelString:"",display:!1},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:t.Ticks.formatters.values}},t.Scale=t.Element.extend({getPadding:function(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}},beforeUpdate:function(){e.callCallback(this.options.beforeUpdate,[this])},update:function(t,i,n){var a=this;return a.beforeUpdate(),a.maxWidth=t,a.maxHeight=i,a.margins=e.extend({left:0,right:0,top:0,bottom:0},n),a.longestTextCache=a.longestTextCache||{},a.beforeSetDimensions(),a.setDimensions(),a.afterSetDimensions(),a.beforeDataLimits(),a.determineDataLimits(),a.afterDataLimits(),a.beforeBuildTicks(),a.buildTicks(),a.afterBuildTicks(),a.beforeTickToLabelConversion(),a.convertTicksToLabels(),a.afterTickToLabelConversion(),a.beforeCalculateTickRotation(),a.calculateTickRotation(),a.afterCalculateTickRotation(),a.beforeFit(),a.fit(),a.afterFit(),a.afterUpdate(),a.minSize},afterUpdate:function(){e.callCallback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){e.callCallback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0},afterSetDimensions:function(){e.callCallback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){e.callCallback(this.options.beforeDataLimits,[this])},determineDataLimits:e.noop,afterDataLimits:function(){e.callCallback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){e.callCallback(this.options.beforeBuildTicks,[this])},buildTicks:e.noop,afterBuildTicks:function(){e.callCallback(this.options.afterBuildTicks,[this])},beforeTickToLabelConversion:function(){e.callCallback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var t=this.options.ticks;this.ticks=this.ticks.map(t.userCallback||t.callback)},afterTickToLabelConversion:function(){e.callCallback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){e.callCallback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var t=this,i=t.ctx,a=t.options.ticks,o=n(a);i.font=o.font;var r=a.minRotation||0;if(t.options.display&&t.isHorizontal())for(var s,l=e.longestText(i,o.font,t.ticks,t.longestTextCache),c=l,d=t.getPixelForTick(1)-t.getPixelForTick(0)-6;c>d&&r<a.maxRotation;){var h=e.toRadians(r);if(s=Math.cos(h),Math.sin(h)*l>t.maxHeight){r--;break}r++,c=s*l}t.labelRotation=r},afterCalculateTickRotation:function(){e.callCallback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){e.callCallback(this.options.beforeFit,[this])},fit:function(){var t=this,a=t.minSize={width:0,height:0},o=t.options,r=o.ticks,s=o.scaleLabel,l=o.gridLines,c=o.display,d=t.isHorizontal(),h=n(r),u=1.5*n(s).size,f=o.gridLines.tickMarkLength;if(a.width=d?t.isFullWidth()?t.maxWidth-t.margins.left-t.margins.right:t.maxWidth:c&&l.drawTicks?f:0,a.height=d?c&&l.drawTicks?f:0:t.maxHeight,s.display&&c&&(d?a.height+=u:a.width+=u),r.display&&c){var p=e.longestText(t.ctx,h.font,t.ticks,t.longestTextCache),m=e.numberOfLabelLines(t.ticks),g=.5*h.size;if(d){t.longestLabelWidth=p;var _=e.toRadians(t.labelRotation),v=Math.cos(_),y=Math.sin(_);a.height=Math.min(t.maxHeight,a.height+(y*p+h.size*m+g*m)),t.ctx.font=h.font;var b=i(t.ctx,t.ticks[0],h.font),x=i(t.ctx,t.ticks[t.ticks.length-1],h.font);0!==t.labelRotation?(t.paddingLeft="bottom"===o.position?v*b+3:v*g+3,t.paddingRight="bottom"===o.position?v*g+3:v*x+3):(t.paddingLeft=b/2+3,t.paddingRight=x/2+3)}else r.mirror?p=0:p+=t.options.ticks.padding,a.width+=p,t.paddingTop=h.size/2,t.paddingBottom=h.size/2}t.handleMargins(),t.width=a.width,t.height=a.height},handleMargins:function(){var t=this;t.margins&&(t.paddingLeft=Math.max(t.paddingLeft-t.margins.left,0),t.paddingTop=Math.max(t.paddingTop-t.margins.top,0),t.paddingRight=Math.max(t.paddingRight-t.margins.right,0),t.paddingBottom=Math.max(t.paddingBottom-t.margins.bottom,0))},afterFit:function(){e.callCallback(this.options.afterFit,[this])},isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(t){return null===t||void 0===t?NaN:"number"!=typeof t||isFinite(t)?"object"==typeof t?t instanceof Date||t.isValid?t:this.getRightValue(this.isHorizontal()?t.x:t.y):t:NaN},getLabelForIndex:e.noop,getPixelForValue:e.noop,getValueForPixel:e.noop,getPixelForTick:function(t,e){var i=this;if(i.isHorizontal()){var n=(i.width-(i.paddingLeft+i.paddingRight))/Math.max(i.ticks.length-(i.options.gridLines.offsetGridLines?0:1),1),a=n*t+i.paddingLeft;return e&&(a+=n/2),i.left+Math.round(a)+(i.isFullWidth()?i.margins.left:0)}return i.top+t*((i.height-(i.paddingTop+i.paddingBottom))/(i.ticks.length-1))},getPixelForDecimal:function(t){var e=this;return e.isHorizontal()?e.left+Math.round((e.width-(e.paddingLeft+e.paddingRight))*t+e.paddingLeft)+(e.isFullWidth()?e.margins.left:0):e.top+t*e.height},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var t=this.min,e=this.max;return this.beginAtZero?0:t<0&&e<0?e:t>0&&e>0?t:0},draw:function(i){var a=this,o=a.options;if(o.display){var r,s,l=a.ctx,c=t.defaults.global,d=o.ticks,h=o.gridLines,u=o.scaleLabel,f=0!==a.labelRotation,p=d.autoSkip,m=a.isHorizontal();d.maxTicksLimit&&(s=d.maxTicksLimit);var g=e.getValueOrDefault(d.fontColor,c.defaultFontColor),_=n(d),v=h.drawTicks?h.tickMarkLength:0,y=e.getValueOrDefault(h.borderDash,c.borderDash),b=e.getValueOrDefault(h.borderDashOffset,c.borderDashOffset),x=e.getValueOrDefault(u.fontColor,c.defaultFontColor),T=n(u),w=e.toRadians(a.labelRotation),k=Math.cos(w),L=a.longestLabelWidth*k;l.fillStyle=g;var D=[];if(m){if(r=!1,f&&(L/=2),(L+d.autoSkipPadding)*a.ticks.length>a.width-(a.paddingLeft+a.paddingRight)&&(r=1+Math.floor((L+d.autoSkipPadding)*a.ticks.length/(a.width-(a.paddingLeft+a.paddingRight)))),s&&a.ticks.length>s)for(;!r||a.ticks.length/(r||1)>s;)r||(r=1),r+=1;p||(r=!1)}var S="right"===o.position?a.left:a.right-v,M="right"===o.position?a.left+v:a.right,C="bottom"===o.position?a.top:a.bottom-v,E="bottom"===o.position?a.top+v:a.bottom;if(e.each(a.ticks,function(t,n){if(void 0!==t&&null!==t&&(!(r>1&&n%r>0||n%r==0&&n+r>=a.ticks.length)||a.ticks.length===n+1)&&void 0!==t&&null!==t){var s,l,c,u,p,g,_,x,T,k,L,A;n===(void 0!==a.zeroLineIndex?a.zeroLineIndex:0)?(s=h.zeroLineWidth,l=h.zeroLineColor):(s=e.getValueAtIndexOrDefault(h.lineWidth,n),l=e.getValueAtIndexOrDefault(h.color,n));var I="middle",N="middle";if(m){"bottom"===o.position?(N=f?"middle":"top",I=f?"right":"center",A=a.top+v):(N=f?"middle":"bottom",I=f?"left":"center",A=a.bottom-v);var P=a.getPixelForTick(n)+e.aliasPixel(s);L=a.getPixelForTick(n,h.offsetGridLines)+d.labelOffset,c=p=_=T=P,u=C,g=E,x=i.top,k=i.bottom}else{var O,F="left"===o.position,R=d.padding;d.mirror?(I=F?"left":"right",O=R):(I=F?"right":"left",O=v+R),L=F?a.right-O:a.left+O;var B=a.getPixelForTick(n);B+=e.aliasPixel(s),A=a.getPixelForTick(n,h.offsetGridLines),c=S,p=M,_=i.left,T=i.right,u=g=x=k=B}D.push({tx1:c,ty1:u,tx2:p,ty2:g,x1:_,y1:x,x2:T,y2:k,labelX:L,labelY:A,glWidth:s,glColor:l,glBorderDash:y,glBorderDashOffset:b,rotation:-1*w,label:t,textBaseline:N,textAlign:I})}}),e.each(D,function(t){if(h.display&&(l.save(),l.lineWidth=t.glWidth,l.strokeStyle=t.glColor,l.setLineDash&&(l.setLineDash(t.glBorderDash),l.lineDashOffset=t.glBorderDashOffset),l.beginPath(),h.drawTicks&&(l.moveTo(t.tx1,t.ty1),l.lineTo(t.tx2,t.ty2)),h.drawOnChartArea&&(l.moveTo(t.x1,t.y1),l.lineTo(t.x2,t.y2)),l.stroke(),l.restore()),d.display){l.save(),l.translate(t.labelX,t.labelY),l.rotate(t.rotation),l.font=_.font,l.textBaseline=t.textBaseline,l.textAlign=t.textAlign;var i=t.label;if(e.isArray(i))for(var n=0,a=0;n<i.length;++n)l.fillText(""+i[n],0,a),a+=1.5*_.size;else l.fillText(i,0,0);l.restore()}}),u.display){var A,I,N=0;if(m)A=a.left+(a.right-a.left)/2,I="bottom"===o.position?a.bottom-T.size/2:a.top+T.size/2;else{var P="left"===o.position;A=P?a.left+T.size/2:a.right-T.size/2,I=a.top+(a.bottom-a.top)/2,N=P?-.5*Math.PI:.5*Math.PI}l.save(),l.translate(A,I),l.rotate(N),l.textAlign="center",l.textBaseline="middle",l.fillStyle=x,l.font=T.font,l.fillText(u.labelString,0,0),l.restore()}if(h.drawBorder){l.lineWidth=e.getValueAtIndexOrDefault(h.lineWidth,0),l.strokeStyle=e.getValueAtIndexOrDefault(h.color,0);var O=a.left,F=a.right,R=a.top,B=a.bottom,j=e.aliasPixel(l.lineWidth);m?(R=B="top"===o.position?a.bottom:a.top,R+=j,B+=j):(O=F="left"===o.position?a.right:a.left,O+=j,F+=j),l.beginPath(),l.moveTo(O,R),l.lineTo(F,B),l.stroke()}}}})}},{}],33:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers;t.scaleService={constructors:{},defaults:{},registerScaleType:function(t,i,n){this.constructors[t]=i,this.defaults[t]=e.clone(n)},getScaleConstructor:function(t){return this.constructors.hasOwnProperty(t)?this.constructors[t]:void 0},getScaleDefaults:function(i){return this.defaults.hasOwnProperty(i)?e.scaleMerge(t.defaults.scale,this.defaults[i]):{}},updateScaleDefaults:function(t,i){var n=this.defaults;n.hasOwnProperty(t)&&(n[t]=e.extend(n[t],i))},addScalesToLayout:function(i){e.each(i.scales,function(e){t.layoutService.addBox(i,e)})}}}},{}],34:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers;t.Ticks={generators:{linear:function(t,i){var n,a=[];if(t.stepSize&&t.stepSize>0)n=t.stepSize;else{var o=e.niceNum(i.max-i.min,!1);n=e.niceNum(o/(t.maxTicks-1),!0)}var r=Math.floor(i.min/n)*n,s=Math.ceil(i.max/n)*n;t.min&&t.max&&t.stepSize&&e.almostWhole((t.max-t.min)/t.stepSize,n/1e3)&&(r=t.min,s=t.max);var l=(s-r)/n;l=e.almostEquals(l,Math.round(l),n/1e3)?Math.round(l):Math.ceil(l),a.push(void 0!==t.min?t.min:r);for(var c=1;c<l;++c)a.push(r+c*n);return a.push(void 0!==t.max?t.max:s),a},logarithmic:function(t,i){var n,a,o=[],r=e.getValueOrDefault,s=r(t.min,Math.pow(10,Math.floor(e.log10(i.min)))),l=Math.floor(e.log10(i.max)),c=Math.ceil(i.max/Math.pow(10,l));0===s?(n=Math.floor(e.log10(i.minNotZero)),a=Math.floor(i.minNotZero/Math.pow(10,n)),o.push(s),s=a*Math.pow(10,n)):(n=Math.floor(e.log10(s)),a=Math.floor(s/Math.pow(10,n)));do{o.push(s),10==++a&&(a=1,++n),s=a*Math.pow(10,n)}while(n<l||n===l&&a<c);var d=r(t.max,s);return o.push(d),o}},formatters:{values:function(t){return e.isArray(t)?t:""+t},linear:function(t,i,n){var a=n.length>3?n[2]-n[1]:n[1]-n[0];Math.abs(a)>1&&t!==Math.floor(t)&&(a=t-Math.floor(t));var o=e.log10(Math.abs(a)),r="";if(0!==t){var s=-1*Math.floor(o);s=Math.max(Math.min(s,20),0),r=t.toFixed(s)}else r="0";return r},logarithmic:function(t,i,n){var a=t/Math.pow(10,Math.floor(e.log10(t)));return 0===t?"0":1===a||2===a||5===a||0===i||i===n.length-1?t.toExponential():""}}}}},{}],35:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.global.title={display:!1,position:"top",fullWidth:!0,fontStyle:"bold",padding:10,text:""};var i=e.noop;function n(e,i){var n=new t.Title({ctx:e.chart.ctx,options:i,chart:e});e.titleBlock=n,t.layoutService.addBox(e,n)}t.Title=t.Element.extend({initialize:function(t){e.extend(this,t),this.legendHitBoxes=[]},beforeUpdate:i,update:function(t,e,i){var n=this;return n.beforeUpdate(),n.maxWidth=t,n.maxHeight=e,n.margins=i,n.beforeSetDimensions(),n.setDimensions(),n.afterSetDimensions(),n.beforeBuildLabels(),n.buildLabels(),n.afterBuildLabels(),n.beforeFit(),n.fit(),n.afterFit(),n.afterUpdate(),n.minSize},afterUpdate:i,beforeSetDimensions:i,setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0}},afterSetDimensions:i,beforeBuildLabels:i,buildLabels:i,afterBuildLabels:i,beforeFit:i,fit:function(){var i=this,n=i.options,a=n.display,o=(0,e.getValueOrDefault)(n.fontSize,t.defaults.global.defaultFontSize),r=i.minSize;i.isHorizontal()?(r.width=i.maxWidth,r.height=a?o+2*n.padding:0):(r.width=a?o+2*n.padding:0,r.height=i.maxHeight),i.width=r.width,i.height=r.height},afterFit:i,isHorizontal:function(){var t=this.options.position;return"top"===t||"bottom"===t},draw:function(){var i=this,n=i.ctx,a=e.getValueOrDefault,o=i.options,r=t.defaults.global;if(o.display){var s,l,c,d=a(o.fontSize,r.defaultFontSize),h=a(o.fontStyle,r.defaultFontStyle),u=a(o.fontFamily,r.defaultFontFamily),f=e.fontString(d,h,u),p=0,m=i.top,g=i.left,_=i.bottom,v=i.right;n.fillStyle=a(o.fontColor,r.defaultFontColor),n.font=f,i.isHorizontal()?(s=g+(v-g)/2,l=m+(_-m)/2,c=v-g):(s="left"===o.position?g+d/2:v-d/2,l=m+(_-m)/2,c=_-m,p=Math.PI*("left"===o.position?-.5:.5)),n.save(),n.translate(s,l),n.rotate(p),n.textAlign="center",n.textBaseline="middle",n.fillText(o.text,0,0,c),n.restore()}}}),t.plugins.register({beforeInit:function(t){var e=t.options.title;e&&n(t,e)},beforeUpdate:function(i){var a=i.options.title;a?(a=e.configMerge(t.defaults.global.title,a),i.titleBlock?i.titleBlock.options=a:n(i,a)):(t.layoutService.removeBox(i,i.titleBlock),delete i.titleBlock)}})}},{}],36:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers;function i(t,i){var n=e.color(t);return n.alpha(i*n.alpha()).rgbaString()}function n(t,i){return i&&(e.isArray(i)?Array.prototype.push.apply(t,i):t.push(i)),t}function a(i){var n=t.defaults.global,a=e.getValueOrDefault;return{xPadding:i.xPadding,yPadding:i.yPadding,xAlign:i.xAlign,yAlign:i.yAlign,bodyFontColor:i.bodyFontColor,_bodyFontFamily:a(i.bodyFontFamily,n.defaultFontFamily),_bodyFontStyle:a(i.bodyFontStyle,n.defaultFontStyle),_bodyAlign:i.bodyAlign,bodyFontSize:a(i.bodyFontSize,n.defaultFontSize),bodySpacing:i.bodySpacing,titleFontColor:i.titleFontColor,_titleFontFamily:a(i.titleFontFamily,n.defaultFontFamily),_titleFontStyle:a(i.titleFontStyle,n.defaultFontStyle),titleFontSize:a(i.titleFontSize,n.defaultFontSize),_titleAlign:i.titleAlign,titleSpacing:i.titleSpacing,titleMarginBottom:i.titleMarginBottom,footerFontColor:i.footerFontColor,_footerFontFamily:a(i.footerFontFamily,n.defaultFontFamily),_footerFontStyle:a(i.footerFontStyle,n.defaultFontStyle),footerFontSize:a(i.footerFontSize,n.defaultFontSize),_footerAlign:i.footerAlign,footerSpacing:i.footerSpacing,footerMarginTop:i.footerMarginTop,caretSize:i.caretSize,cornerRadius:i.cornerRadius,backgroundColor:i.backgroundColor,opacity:0,legendColorBackground:i.multiKeyBackground,displayColors:i.displayColors}}t.defaults.global.tooltips={enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,callbacks:{beforeTitle:e.noop,title:function(t,e){var i="",n=e.labels,a=n?n.length:0;if(t.length>0){var o=t[0];o.xLabel?i=o.xLabel:a>0&&o.index<a&&(i=n[o.index])}return i},afterTitle:e.noop,beforeBody:e.noop,beforeLabel:e.noop,label:function(t,e){return(e.datasets[t.datasetIndex].label||"")+": "+t.yLabel},labelColor:function(t,e){var i=e.getDatasetMeta(t.datasetIndex).data[t.index]._view;return{borderColor:i.borderColor,backgroundColor:i.backgroundColor}},afterLabel:e.noop,afterBody:e.noop,beforeFooter:e.noop,footer:e.noop,afterFooter:e.noop}},t.Tooltip=t.Element.extend({initialize:function(){this._model=a(this._options)},getTitle:function(){var t=this._options.callbacks,e=t.beforeTitle.apply(this,arguments),i=t.title.apply(this,arguments),a=t.afterTitle.apply(this,arguments),o=[];return n(o=n(o=n(o,e),i),a)},getBeforeBody:function(){var t=this._options.callbacks.beforeBody.apply(this,arguments);return e.isArray(t)?t:void 0!==t?[t]:[]},getBody:function(t,i){var a=this,o=a._options.callbacks,r=[];return e.each(t,function(t){var e={before:[],lines:[],after:[]};n(e.before,o.beforeLabel.call(a,t,i)),n(e.lines,o.label.call(a,t,i)),n(e.after,o.afterLabel.call(a,t,i)),r.push(e)}),r},getAfterBody:function(){var t=this._options.callbacks.afterBody.apply(this,arguments);return e.isArray(t)?t:void 0!==t?[t]:[]},getFooter:function(){var t=this._options.callbacks,e=t.beforeFooter.apply(this,arguments),i=t.footer.apply(this,arguments),a=t.afterFooter.apply(this,arguments),o=[];return n(o=n(o=n(o,e),i),a)},update:function(i){var n,o,r,s,l,c,d,h=this,u=h._options,f=h._model,p=h._model=a(u),m=h._active,g=h._data,_=h._chartInstance,v={xAlign:f.xAlign,yAlign:f.yAlign},y={x:f.x,y:f.y},b={width:f.width,height:f.height},x={x:f.caretX,y:f.caretY};if(m.length){p.opacity=1;var T=[];x=t.Tooltip.positioners[u.position](m,h._eventPosition);var w=[];for(n=0,o=m.length;n<o;++n)w.push((s=void 0,l=void 0,s=(r=m[n])._xScale,l=r._yScale||r._scale,c=r._index,d=r._datasetIndex,{xLabel:s?s.getLabelForIndex(c,d):"",yLabel:l?l.getLabelForIndex(c,d):"",index:c,datasetIndex:d,x:r._model.x,y:r._model.y}));u.filter&&(w=w.filter(function(t){return u.filter(t,g)})),u.itemSort&&(w=w.sort(function(t,e){return u.itemSort(t,e,g)})),e.each(w,function(t){T.push(u.callbacks.labelColor.call(h,t,_))}),p.title=h.getTitle(w,g),p.beforeBody=h.getBeforeBody(w,g),p.body=h.getBody(w,g),p.afterBody=h.getAfterBody(w,g),p.footer=h.getFooter(w,g),p.x=Math.round(x.x),p.y=Math.round(x.y),p.caretPadding=e.getValueOrDefault(x.padding,2),p.labelColors=T,p.dataPoints=w,y=function(t,e,i){var n=t.x,a=t.y,o=t.caretPadding,r=i.xAlign,s=i.yAlign,l=t.caretSize+o,c=t.cornerRadius+o;return"right"===r?n-=e.width:"center"===r&&(n-=e.width/2),"top"===s?a+=l:a-="bottom"===s?e.height+l:e.height/2,"center"===s?"left"===r?n+=l:"right"===r&&(n-=l):"left"===r?n-=c:"right"===r&&(n+=c),{x:n,y:a}}(p,b=function(t,i){var n=t._chart.ctx,a=2*i.yPadding,o=0,r=i.body,s=r.reduce(function(t,e){return t+e.before.length+e.lines.length+e.after.length},0);s+=i.beforeBody.length+i.afterBody.length;var l=i.title.length,c=i.footer.length,d=i.titleFontSize,h=i.bodyFontSize,u=i.footerFontSize;a+=l*d,a+=l?(l-1)*i.titleSpacing:0,a+=l?i.titleMarginBottom:0,a+=s*h,a+=s?(s-1)*i.bodySpacing:0,a+=c?i.footerMarginTop:0,a+=c*u,a+=c?(c-1)*i.footerSpacing:0;var f=0,p=function(t){o=Math.max(o,n.measureText(t).width+f)};return n.font=e.fontString(d,i._titleFontStyle,i._titleFontFamily),e.each(i.title,p),n.font=e.fontString(h,i._bodyFontStyle,i._bodyFontFamily),e.each(i.beforeBody.concat(i.afterBody),p),f=i.displayColors?h+2:0,e.each(r,function(t){e.each(t.before,p),e.each(t.lines,p),e.each(t.after,p)}),f=0,n.font=e.fontString(u,i._footerFontStyle,i._footerFontFamily),e.each(i.footer,p),{width:o+=2*i.xPadding,height:a}}(this,p),v=function(t,e){var i,n,a,o,r,s=t._model,l=t._chart,c=t._chartInstance.chartArea,d="center",h="center";s.y<e.height?h="top":s.y>l.height-e.height&&(h="bottom");var u=(c.left+c.right)/2,f=(c.top+c.bottom)/2;"center"===h?(i=function(t){return t<=u},n=function(t){return t>u}):(i=function(t){return t<=e.width/2},n=function(t){return t>=l.width-e.width/2}),a=function(t){return t+e.width>l.width},o=function(t){return t-e.width<0},r=function(t){return t<=f?"top":"bottom"},i(s.x)?(d="left",a(s.x)&&(d="center",h=r(s.y))):n(s.x)&&(d="right",o(s.x)&&(d="center",h=r(s.y)));var p=t._options;return{xAlign:p.xAlign?p.xAlign:d,yAlign:p.yAlign?p.yAlign:h}}(this,b))}else p.opacity=0;return p.xAlign=v.xAlign,p.yAlign=v.yAlign,p.x=y.x,p.y=y.y,p.width=b.width,p.height=b.height,p.caretX=x.x,p.caretY=x.y,h._model=p,i&&u.custom&&u.custom.call(h,p),h},drawCaret:function(t,e,n){var a,o,r,s,l,c,d=this._view,h=this._chart.ctx,u=d.caretSize,f=d.cornerRadius,p=d.xAlign,m=d.yAlign,g=t.x,_=t.y,v=e.width,y=e.height;"center"===m?("left"===p?(o=(a=g)-u,r=a):(o=(a=g+v)+u,r=a),s=(l=_+y/2)-u,c=l+u):("left"===p?r=(o=(a=g+f)+u)+u:"right"===p?r=(o=(a=g+v-f)-u)-u:(a=(o=g+v/2)-u,r=o+u),"top"===m?(l=(s=_)-u,c=s):(l=(s=_+y)+u,c=s)),h.fillStyle=i(d.backgroundColor,n),h.beginPath(),h.moveTo(a,s),h.lineTo(o,l),h.lineTo(r,c),h.closePath(),h.fill()},drawTitle:function(t,n,a,o){var r=n.title;if(r.length){a.textAlign=n._titleAlign,a.textBaseline="top";var s,l,c=n.titleFontSize,d=n.titleSpacing;for(a.fillStyle=i(n.titleFontColor,o),a.font=e.fontString(c,n._titleFontStyle,n._titleFontFamily),s=0,l=r.length;s<l;++s)a.fillText(r[s],t.x,t.y),t.y+=c+d,s+1===r.length&&(t.y+=n.titleMarginBottom-d)}},drawBody:function(t,n,a,o){var r=n.bodyFontSize,s=n.bodySpacing,l=n.body;a.textAlign=n._bodyAlign,a.textBaseline="top";var c=i(n.bodyFontColor,o);a.fillStyle=c,a.font=e.fontString(r,n._bodyFontStyle,n._bodyFontFamily);var d=0,h=function(e){a.fillText(e,t.x+d,t.y),t.y+=r+s};e.each(n.beforeBody,h);var u=n.displayColors;d=u?r+2:0,e.each(l,function(s,l){e.each(s.before,h),e.each(s.lines,function(e){u&&(a.fillStyle=i(n.legendColorBackground,o),a.fillRect(t.x,t.y,r,r),a.strokeStyle=i(n.labelColors[l].borderColor,o),a.strokeRect(t.x,t.y,r,r),a.fillStyle=i(n.labelColors[l].backgroundColor,o),a.fillRect(t.x+1,t.y+1,r-2,r-2),a.fillStyle=c),h(e)}),e.each(s.after,h)}),d=0,e.each(n.afterBody,h),t.y-=s},drawFooter:function(t,n,a,o){var r=n.footer;r.length&&(t.y+=n.footerMarginTop,a.textAlign=n._footerAlign,a.textBaseline="top",a.fillStyle=i(n.footerFontColor,o),a.font=e.fontString(n.footerFontSize,n._footerFontStyle,n._footerFontFamily),e.each(r,function(e){a.fillText(e,t.x,t.y),t.y+=n.footerFontSize+n.footerSpacing}))},drawBackground:function(t,n,a,o,r){a.fillStyle=i(n.backgroundColor,r),e.drawRoundedRectangle(a,t.x,t.y,o.width,o.height,n.cornerRadius),a.fill()},draw:function(){var t=this._chart.ctx,e=this._view;if(0!==e.opacity){var i={width:e.width,height:e.height},n={x:e.x,y:e.y},a=Math.abs(e.opacity<.001)?0:e.opacity;this._options.enabled&&(this.drawBackground(n,e,t,i,a),this.drawCaret(n,i,a),n.x+=e.xPadding,n.y+=e.yPadding,this.drawTitle(n,e,t,a),this.drawBody(n,e,t,a),this.drawFooter(n,e,t,a))}},handleEvent:function(t){var i=this,n=i._options,a=!1;if(i._lastActive=i._lastActive||[],i._active="mouseout"===t.type?[]:i._chartInstance.getElementsAtEventForMode(t,n.mode,n),a=!e.arrayEquals(i._active,i._lastActive),i._lastActive=i._active,n.enabled||n.custom){i._eventPosition={x:t.x,y:t.y};var o=i._model;i.update(!0),i.pivot(),a|=o.x!==i._model.x||o.y!==i._model.y}return a}}),t.Tooltip.positioners={average:function(t){if(!t.length)return!1;var e,i,n=0,a=0,o=0;for(e=0,i=t.length;e<i;++e){var r=t[e];if(r&&r.hasValue()){var s=r.tooltipPosition();n+=s.x,a+=s.y,++o}}return{x:Math.round(n/o),y:Math.round(a/o)}},nearest:function(t,i){var n,a,o,r=i.x,s=i.y,l=Number.POSITIVE_INFINITY;for(a=0,o=t.length;a<o;++a){var c=t[a];if(c&&c.hasValue()){var d=c.getCenterPoint(),h=e.distanceBetweenPoints(i,d);h<l&&(l=h,n=c)}}if(n){var u=n.tooltipPosition();r=u.x,s=u.y}return{x:r,y:s}}}}},{}],37:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers,i=t.defaults.global;i.elements.arc={backgroundColor:i.defaultColor,borderColor:"#fff",borderWidth:2},t.elements.Arc=t.Element.extend({inLabelRange:function(t){var e=this._view;return!!e&&Math.pow(t-e.x,2)<Math.pow(e.radius+e.hoverRadius,2)},inRange:function(t,i){var n=this._view;if(n){for(var a=e.getAngleFromPoint(n,{x:t,y:i}),o=a.angle,r=a.distance,s=n.startAngle,l=n.endAngle;l<s;)l+=2*Math.PI;for(;o>l;)o-=2*Math.PI;for(;o<s;)o+=2*Math.PI;return o>=s&&o<=l&&r>=n.innerRadius&&r<=n.outerRadius}return!1},getCenterPoint:function(){var t=this._view,e=(t.startAngle+t.endAngle)/2,i=(t.innerRadius+t.outerRadius)/2;return{x:t.x+Math.cos(e)*i,y:t.y+Math.sin(e)*i}},getArea:function(){var t=this._view;return Math.PI*((t.endAngle-t.startAngle)/(2*Math.PI))*(Math.pow(t.outerRadius,2)-Math.pow(t.innerRadius,2))},tooltipPosition:function(){var t=this._view,e=t.startAngle+(t.endAngle-t.startAngle)/2,i=(t.outerRadius-t.innerRadius)/2+t.innerRadius;return{x:t.x+Math.cos(e)*i,y:t.y+Math.sin(e)*i}},draw:function(){var t=this._chart.ctx,e=this._view,i=e.startAngle,n=e.endAngle;t.beginPath(),t.arc(e.x,e.y,e.outerRadius,i,n),t.arc(e.x,e.y,e.innerRadius,n,i,!0),t.closePath(),t.strokeStyle=e.borderColor,t.lineWidth=e.borderWidth,t.fillStyle=e.backgroundColor,t.fill(),t.lineJoin="bevel",e.borderWidth&&t.stroke()}})}},{}],38:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers,i=t.defaults.global;t.defaults.global.elements.line={tension:.4,backgroundColor:i.defaultColor,borderWidth:3,borderColor:i.defaultColor,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0},t.elements.Line=t.Element.extend({draw:function(){var t=this._view,n=t.spanGaps,a=t.scaleZero,o=this._loop;o||("top"===t.fill?a=t.scaleTop:"bottom"===t.fill&&(a=t.scaleBottom));var r=this._chart.ctx;function s(t,e){var i=e._view;!0===e._view.steppedLine?(r.lineTo(i.x,t._view.y),r.lineTo(i.x,i.y)):0===e._view.tension?r.lineTo(i.x,i.y):r.bezierCurveTo(t._view.controlPointNextX,t._view.controlPointNextY,i.controlPointPreviousX,i.controlPointPreviousY,i.x,i.y)}r.save();var l,c,d,h,u=this._children.slice(),f=-1;if(o&&u.length&&u.push(u[0]),u.length&&t.fill){for(r.beginPath(),l=0;l<u.length;++l)c=u[l],d=e.previousItem(u,l),h=c._view,0===l?(o?r.moveTo(a.x,a.y):r.moveTo(h.x,a),h.skip||(f=l,r.lineTo(h.x,h.y))):(d=-1===f?d:u[f],h.skip?n||f!==l-1||(o?r.lineTo(a.x,a.y):r.lineTo(d._view.x,a)):(f!==l-1?n&&-1!==f?s(d,c):o?r.lineTo(h.x,h.y):(r.lineTo(h.x,a),r.lineTo(h.x,h.y)):s(d,c),f=l));o||-1===f||r.lineTo(u[f]._view.x,a),r.fillStyle=t.backgroundColor||i.defaultColor,r.closePath(),r.fill()}var p=i.elements.line;for(r.lineCap=t.borderCapStyle||p.borderCapStyle,r.setLineDash&&r.setLineDash(t.borderDash||p.borderDash),r.lineDashOffset=t.borderDashOffset||p.borderDashOffset,r.lineJoin=t.borderJoinStyle||p.borderJoinStyle,r.lineWidth=t.borderWidth||p.borderWidth,r.strokeStyle=t.borderColor||i.defaultColor,r.beginPath(),f=-1,l=0;l<u.length;++l)c=u[l],d=e.previousItem(u,l),h=c._view,0===l?h.skip||(r.moveTo(h.x,h.y),f=l):(d=-1===f?d:u[f],h.skip||(f!==l-1&&!n||-1===f?r.moveTo(h.x,h.y):s(d,c),f=l));r.stroke(),r.restore()}})}},{}],39:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers,i=t.defaults.global,n=i.defaultColor;function a(t){var e=this._view;return!!e&&Math.pow(t-e.x,2)<Math.pow(e.radius+e.hitRadius,2)}i.elements.point={radius:3,pointStyle:"circle",backgroundColor:n,borderWidth:1,borderColor:n,hitRadius:1,hoverRadius:4,hoverBorderWidth:1},t.elements.Point=t.Element.extend({inRange:function(t,e){var i=this._view;return!!i&&Math.pow(t-i.x,2)+Math.pow(e-i.y,2)<Math.pow(i.hitRadius+i.radius,2)},inLabelRange:a,inXRange:a,inYRange:function(t){var e=this._view;return!!e&&Math.pow(t-e.y,2)<Math.pow(e.radius+e.hitRadius,2)},getCenterPoint:function(){var t=this._view;return{x:t.x,y:t.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y,padding:t.radius+t.borderWidth}},draw:function(a){var o=this._view,r=this._model,s=this._chart.ctx,l=o.pointStyle,c=o.radius,d=o.x,h=o.y,u=t.helpers.color,f=0;o.skip||(s.strokeStyle=o.borderColor||n,s.lineWidth=e.getValueOrDefault(o.borderWidth,i.elements.point.borderWidth),s.fillStyle=o.backgroundColor||n,void 0!==a&&(r.x<a.left||1.01*a.right<r.x||r.y<a.top||1.01*a.bottom<r.y)&&(r.x<a.left?f=(d-r.x)/(a.left-r.x):1.01*a.right<r.x?f=(r.x-d)/(r.x-a.right):r.y<a.top?f=(h-r.y)/(a.top-r.y):1.01*a.bottom<r.y&&(f=(r.y-h)/(r.y-a.bottom)),f=Math.round(100*f)/100,s.strokeStyle=u(s.strokeStyle).alpha(f).rgbString(),s.fillStyle=u(s.fillStyle).alpha(f).rgbString()),t.canvasHelpers.drawPoint(s,l,c,d,h))}})}},{}],40:[function(t,e,i){"use strict";e.exports=function(t){var e=t.defaults.global;function i(t){return void 0!==t._view.width}function n(t){var e,n,a,o,r=t._view;if(i(t)){var s=r.width/2;e=r.x-s,n=r.x+s,a=Math.min(r.y,r.base),o=Math.max(r.y,r.base)}else{var l=r.height/2;e=Math.min(r.x,r.base),n=Math.max(r.x,r.base),a=r.y-l,o=r.y+l}return{left:e,top:a,right:n,bottom:o}}e.elements.rectangle={backgroundColor:e.defaultColor,borderWidth:0,borderColor:e.defaultColor,borderSkipped:"bottom"},t.elements.Rectangle=t.Element.extend({draw:function(){var t,e,i,n,a,o,r,s=this._chart.ctx,l=this._view,c=l.borderWidth;if(l.horizontal?(i=l.y-l.height/2,n=l.y+l.height/2,a=(e=l.x)>(t=l.base)?1:-1,o=1,r=l.borderSkipped||"left"):(t=l.x-l.width/2,e=l.x+l.width/2,a=1,o=(n=l.base)>(i=l.y)?1:-1,r=l.borderSkipped||"bottom"),c){var d=Math.min(Math.abs(t-e),Math.abs(i-n)),h=(c=c>d?d:c)/2,u=t+("left"!==r?h*a:0),f=e+("right"!==r?-h*a:0),p=i+("top"!==r?h*o:0),m=n+("bottom"!==r?-h*o:0);u!==f&&(i=p,n=m),p!==m&&(t=u,e=f)}s.beginPath(),s.fillStyle=l.backgroundColor,s.strokeStyle=l.borderColor,s.lineWidth=c;var g=[[t,n],[t,i],[e,i],[e,n]],_=["bottom","left","top","right"].indexOf(r,0);function v(t){return g[(_+t)%4]}-1===_&&(_=0);var y=v(0);s.moveTo(y[0],y[1]);for(var b=1;b<4;b++)y=v(b),s.lineTo(y[0],y[1]);s.fill(),c&&s.stroke()},height:function(){var t=this._view;return t.base-t.y},inRange:function(t,e){var i=!1;if(this._view){var a=n(this);i=t>=a.left&&t<=a.right&&e>=a.top&&e<=a.bottom}return i},inLabelRange:function(t,e){if(!this._view)return!1;var a=n(this);return i(this)?t>=a.left&&t<=a.right:e>=a.top&&e<=a.bottom},inXRange:function(t){var e=n(this);return t>=e.left&&t<=e.right},inYRange:function(t){var e=n(this);return t>=e.top&&t<=e.bottom},getCenterPoint:function(){var t,e,n=this._view;return i(this)?(t=n.x,e=(n.y+n.base)/2):(t=(n.x+n.base)/2,e=n.y),{x:t,y:e}},getArea:function(){var t=this._view;return t.width*Math.abs(t.y-t.base)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y}}})}},{}],41:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers,i={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"};function n(t,i){var n=e.getStyle(t,i),a=n&&n.match(/(\d+)px/);return a?Number(a[1]):void 0}function a(t,e,i,n,a){return{type:t,chart:e,native:a||null,x:void 0!==i?i:null,y:void 0!==n?n:null}}return{acquireContext:function(t,e){if("string"==typeof t?t=document.getElementById(t):t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t instanceof HTMLCanvasElement){var i=t.getContext&&t.getContext("2d");if(i instanceof CanvasRenderingContext2D)return function(t,e){var i=t.style,a=t.getAttribute("height"),o=t.getAttribute("width");if(t._chartjs={initial:{height:a,width:o,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",null===o||""===o){var r=n(t,"width");void 0!==r&&(t.width=r)}if(null===a||""===a)if(""===t.style.height)t.height=t.width/(e.options.aspectRatio||2);else{var s=n(t,"height");void 0!==r&&(t.height=s)}}(t,e),i}return null},releaseContext:function(t){var i=t.canvas;if(i._chartjs){var n=i._chartjs.initial;["height","width"].forEach(function(t){var e=n[t];void 0===e||null===e?i.removeAttribute(t):i.setAttribute(t,e)}),e.each(n.style||{},function(t,e){i.style[e]=t}),i.width=i.width,delete i._chartjs}},addEventListener:function(t,n,o){var r=t.chart.canvas;if("resize"!==n){var s=o._chartjs||(o._chartjs={}),l=(s.proxies||(s.proxies={}))[t.id+"_"+n]=function(n){o(function(t,n){var o=i[t.type]||t.type,r=e.getRelativePosition(t,n);return a(o,n,r.x,r.y,t)}(n,t.chart))};e.addEvent(r,n,l)}else!function(t,i,n){var o,r,s=t._chartjs={ticking:!1};s.resizer=(o=function(){s.ticking||(s.ticking=!0,e.requestAnimFrame.call(window,function(){if(s.resizer)return s.ticking=!1,i(a("resize",n))}))},(r=document.createElement("iframe")).className="chartjs-hidden-iframe",r.style.cssText="display:block;overflow:hidden;border:0;margin:0;top:0;left:0;bottom:0;right:0;height:100%;width:100%;position:absolute;pointer-events:none;z-index:-1;",r.tabIndex=-1,e.addEvent(r,"load",function(){e.addEvent(r.contentWindow||r,"resize",o),o()}),r),t.insertBefore(s.resizer,t.firstChild)}(r.parentNode,o,t.chart)},removeEventListener:function(t,i,n){var a=t.chart.canvas;if("resize"!==i){var o=((n._chartjs||{}).proxies||{})[t.id+"_"+i];o&&e.removeEvent(a,i,o)}else!function(t){if(t&&t._chartjs){var e=t._chartjs.resizer;e&&(e.parentNode.removeChild(e),t._chartjs.resizer=null),delete t._chartjs}}(a.parentNode)}}}},{}],42:[function(t,e,i){"use strict";var n=t(41);e.exports=function(t){t.platform={acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},t.helpers.extend(t.platform,n(t))}},{41:41}],43:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers,i=t.Scale.extend({getLabels:function(){var t=this.chart.data;return(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels},determineDataLimits:function(){var t,i=this,n=i.getLabels();i.minIndex=0,i.maxIndex=n.length-1,void 0!==i.options.ticks.min&&(t=e.indexOf(n,i.options.ticks.min),i.minIndex=-1!==t?t:i.minIndex),void 0!==i.options.ticks.max&&(t=e.indexOf(n,i.options.ticks.max),i.maxIndex=-1!==t?t:i.maxIndex),i.min=n[i.minIndex],i.max=n[i.maxIndex]},buildTicks:function(){var t=this,e=t.getLabels();t.ticks=0===t.minIndex&&t.maxIndex===e.length-1?e:e.slice(t.minIndex,t.maxIndex+1)},getLabelForIndex:function(t,e){var i=this,n=i.chart.data,a=i.isHorizontal();return n.yLabels&&!a?i.getRightValue(n.datasets[e].data[t]):i.ticks[t-i.minIndex]},getPixelForValue:function(t,e,i,n){var a=this,o=Math.max(a.maxIndex+1-a.minIndex-(a.options.gridLines.offsetGridLines?0:1),1);if(void 0!==t&&isNaN(e)){var r=a.getLabels().indexOf(t);e=-1!==r?r:e}if(a.isHorizontal()){var s=a.width/o,l=s*(e-a.minIndex);return(a.options.gridLines.offsetGridLines&&n||a.maxIndex===a.minIndex&&n)&&(l+=s/2),a.left+Math.round(l)}var c=a.height/o,d=c*(e-a.minIndex);return a.options.gridLines.offsetGridLines&&n&&(d+=c/2),a.top+Math.round(d)},getPixelForTick:function(t,e){return this.getPixelForValue(this.ticks[t],t+this.minIndex,null,e)},getValueForPixel:function(t){var e=this,i=Math.max(e.ticks.length-(e.options.gridLines.offsetGridLines?0:1),1),n=e.isHorizontal(),a=(n?e.width:e.height)/i;return t-=n?e.left:e.top,e.options.gridLines.offsetGridLines&&(t-=a/2),t<=0?0:Math.round(t/a)},getBasePixel:function(){return this.bottom}});t.scaleService.registerScaleType("category",i,{position:"bottom"})}},{}],44:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers,i={position:"left",ticks:{callback:t.Ticks.formatters.linear}},n=t.LinearScaleBase.extend({determineDataLimits:function(){var t=this,i=t.options,n=t.chart,a=n.data.datasets,o=t.isHorizontal();function r(e){return o?e.xAxisID===t.id:e.yAxisID===t.id}t.min=null,t.max=null;var s=i.stacked;if(void 0===s&&e.each(a,function(t,e){if(!s){var i=n.getDatasetMeta(e);n.isDatasetVisible(e)&&r(i)&&void 0!==i.stack&&(s=!0)}}),i.stacked||s){var l={};e.each(a,function(a,o){var s=n.getDatasetMeta(o),c=[s.type,void 0===i.stacked&&void 0===s.stack?o:"",s.stack].join(".");void 0===l[c]&&(l[c]={positiveValues:[],negativeValues:[]});var d=l[c].positiveValues,h=l[c].negativeValues;n.isDatasetVisible(o)&&r(s)&&e.each(a.data,function(e,n){var a=+t.getRightValue(e);isNaN(a)||s.data[n].hidden||(d[n]=d[n]||0,h[n]=h[n]||0,i.relativePoints?d[n]=100:a<0?h[n]+=a:d[n]+=a)})}),e.each(l,function(i){var n=i.positiveValues.concat(i.negativeValues),a=e.min(n),o=e.max(n);t.min=null===t.min?a:Math.min(t.min,a),t.max=null===t.max?o:Math.max(t.max,o)})}else e.each(a,function(i,a){var o=n.getDatasetMeta(a);n.isDatasetVisible(a)&&r(o)&&e.each(i.data,function(e,i){var n=+t.getRightValue(e);isNaN(n)||o.data[i].hidden||(null===t.min?t.min=n:n<t.min&&(t.min=n),null===t.max?t.max=n:n>t.max&&(t.max=n))})});this.handleTickRangeOptions()},getTickLimit:function(){var i,n=this.options.ticks;if(this.isHorizontal())i=Math.min(n.maxTicksLimit?n.maxTicksLimit:11,Math.ceil(this.width/50));else{var a=e.getValueOrDefault(n.fontSize,t.defaults.global.defaultFontSize);i=Math.min(n.maxTicksLimit?n.maxTicksLimit:11,Math.ceil(this.height/(2*a)))}return i},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},getPixelForValue:function(t){var e,i=this,n=i.start,a=+i.getRightValue(t),o=i.end-n;return i.isHorizontal()?(e=i.left+i.width/o*(a-n),Math.round(e)):(e=i.bottom-i.height/o*(a-n),Math.round(e))},getValueForPixel:function(t){var e=this,i=e.isHorizontal();return e.start+(i?t-e.left:e.bottom-t)/(i?e.width:e.height)*(e.end-e.start)},getPixelForTick:function(t){return this.getPixelForValue(this.ticksAsNumbers[t])}});t.scaleService.registerScaleType("linear",n,i)}},{}],45:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers,i=e.noop;t.LinearScaleBase=t.Scale.extend({handleTickRangeOptions:function(){var t=this,i=t.options.ticks;if(i.beginAtZero){var n=e.sign(t.min),a=e.sign(t.max);n<0&&a<0?t.max=0:n>0&&a>0&&(t.min=0)}void 0!==i.min?t.min=i.min:void 0!==i.suggestedMin&&(t.min=Math.min(t.min,i.suggestedMin)),void 0!==i.max?t.max=i.max:void 0!==i.suggestedMax&&(t.max=Math.max(t.max,i.suggestedMax)),t.min===t.max&&(t.max++,i.beginAtZero||t.min--)},getTickLimit:i,handleDirectionalChanges:i,buildTicks:function(){var i=this,n=i.options.ticks,a=i.getTickLimit(),o={maxTicks:a=Math.max(2,a),min:n.min,max:n.max,stepSize:e.getValueOrDefault(n.fixedStepSize,n.stepSize)},r=i.ticks=t.Ticks.generators.linear(o,i);i.handleDirectionalChanges(),i.max=e.max(r),i.min=e.min(r),n.reverse?(r.reverse(),i.start=i.max,i.end=i.min):(i.start=i.min,i.end=i.max)},convertTicksToLabels:function(){var e=this;e.ticksAsNumbers=e.ticks.slice(),e.zeroLineIndex=e.ticks.indexOf(0),t.Scale.prototype.convertTicksToLabels.call(e)}})}},{}],46:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers,i={position:"left",ticks:{callback:t.Ticks.formatters.logarithmic}},n=t.Scale.extend({determineDataLimits:function(){var t=this,i=t.options,n=i.ticks,a=t.chart,o=a.data.datasets,r=e.getValueOrDefault,s=t.isHorizontal();function l(e){return s?e.xAxisID===t.id:e.yAxisID===t.id}t.min=null,t.max=null,t.minNotZero=null;var c=i.stacked;if(void 0===c&&e.each(o,function(t,e){if(!c){var i=a.getDatasetMeta(e);a.isDatasetVisible(e)&&l(i)&&void 0!==i.stack&&(c=!0)}}),i.stacked||c){var d={};e.each(o,function(n,o){var r=a.getDatasetMeta(o),s=[r.type,void 0===i.stacked&&void 0===r.stack?o:"",r.stack].join(".");a.isDatasetVisible(o)&&l(r)&&(void 0===d[s]&&(d[s]=[]),e.each(n.data,function(e,n){var a=d[s],o=+t.getRightValue(e);isNaN(o)||r.data[n].hidden||(a[n]=a[n]||0,i.relativePoints?a[n]=100:a[n]+=o)}))}),e.each(d,function(i){var n=e.min(i),a=e.max(i);t.min=null===t.min?n:Math.min(t.min,n),t.max=null===t.max?a:Math.max(t.max,a)})}else e.each(o,function(i,n){var o=a.getDatasetMeta(n);a.isDatasetVisible(n)&&l(o)&&e.each(i.data,function(e,i){var n=+t.getRightValue(e);isNaN(n)||o.data[i].hidden||(null===t.min?t.min=n:n<t.min&&(t.min=n),null===t.max?t.max=n:n>t.max&&(t.max=n),0!==n&&(null===t.minNotZero||n<t.minNotZero)&&(t.minNotZero=n))})});t.min=r(n.min,t.min),t.max=r(n.max,t.max),t.min===t.max&&(0!==t.min&&null!==t.min?(t.min=Math.pow(10,Math.floor(e.log10(t.min))-1),t.max=Math.pow(10,Math.floor(e.log10(t.max))+1)):(t.min=1,t.max=10))},buildTicks:function(){var i=this,n=i.options.ticks,a=i.ticks=t.Ticks.generators.logarithmic({min:n.min,max:n.max},i);i.isHorizontal()||a.reverse(),i.max=e.max(a),i.min=e.min(a),n.reverse?(a.reverse(),i.start=i.max,i.end=i.min):(i.start=i.min,i.end=i.max)},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),t.Scale.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},getPixelForTick:function(t){return this.getPixelForValue(this.tickValues[t])},getPixelForValue:function(t){var i,n,a,o=this,r=o.start,s=+o.getRightValue(t),l=o.options.ticks;return o.isHorizontal()?(a=e.log10(o.end)-e.log10(r),n=0===s?o.left:o.left+(i=o.width)/a*(e.log10(s)-e.log10(r))):(i=o.height,0!==r||l.reverse?0===o.end&&l.reverse?(a=e.log10(o.start)-e.log10(o.minNotZero),n=s===o.end?o.top:s===o.minNotZero?o.top+.02*i:o.top+.02*i+.98*i/a*(e.log10(s)-e.log10(o.minNotZero))):(a=e.log10(o.end)-e.log10(r),n=o.bottom-(i=o.height)/a*(e.log10(s)-e.log10(r))):(a=e.log10(o.end)-e.log10(o.minNotZero),n=s===r?o.bottom:s===o.minNotZero?o.bottom-.02*i:o.bottom-.02*i-.98*i/a*(e.log10(s)-e.log10(o.minNotZero)))),n},getValueForPixel:function(t){var i,n,a=this,o=e.log10(a.end)-e.log10(a.start);return a.isHorizontal()?(n=a.width,i=a.start*Math.pow(10,(t-a.left)*o/n)):(n=a.height,i=Math.pow(10,(a.bottom-t)*o/n)/a.start),i}});t.scaleService.registerScaleType("logarithmic",n,i)}},{}],47:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers,i=t.defaults.global,n={display:!0,animate:!0,lineArc:!1,position:"chartArea",angleLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:t.Ticks.formatters.linear},pointLabels:{fontSize:10,callback:function(t){return t}}};function a(t){return t.options.lineArc?0:t.chart.data.labels.length}function o(t){var n=t.options.pointLabels,a=e.getValueOrDefault(n.fontSize,i.defaultFontSize),o=e.getValueOrDefault(n.fontStyle,i.defaultFontStyle),r=e.getValueOrDefault(n.fontFamily,i.defaultFontFamily);return{size:a,style:o,family:r,font:e.fontString(a,o,r)}}function r(t,e,i,n,a){return t===n||t===a?{start:e-i/2,end:e+i/2}:t<n||t>a?{start:e-i-5,end:e}:{start:e,end:e+i+5}}function s(t){return 0===t||180===t?"center":t<180?"left":"right"}function l(t,i,n,a){if(e.isArray(i))for(var o=n.y,r=1.5*a,s=0;s<i.length;++s)t.fillText(i[s],n.x,o),o+=r;else t.fillText(i,n.x,n.y)}function c(t,e,i){90===t||270===t?i.y-=e.h/2:(t>270||t<90)&&(i.y-=e.h)}function d(t){return e.isNumber(t)?t:0}var h=t.LinearScaleBase.extend({setDimensions:function(){var t=this,n=t.options,a=n.ticks;t.width=t.maxWidth,t.height=t.maxHeight,t.xCenter=Math.round(t.width/2),t.yCenter=Math.round(t.height/2);var o=e.min([t.height,t.width]),r=e.getValueOrDefault(a.fontSize,i.defaultFontSize);t.drawingArea=n.display?o/2-(r/2+a.backdropPaddingY):o/2},determineDataLimits:function(){var t=this,i=t.chart,n=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY;e.each(i.data.datasets,function(o,r){if(i.isDatasetVisible(r)){var s=i.getDatasetMeta(r);e.each(o.data,function(e,i){var o=+t.getRightValue(e);isNaN(o)||s.data[i].hidden||(n=Math.min(o,n),a=Math.max(o,a))})}}),t.min=n===Number.POSITIVE_INFINITY?0:n,t.max=a===Number.NEGATIVE_INFINITY?0:a,t.handleTickRangeOptions()},getTickLimit:function(){var t=this.options.ticks,n=e.getValueOrDefault(t.fontSize,i.defaultFontSize);return Math.min(t.maxTicksLimit?t.maxTicksLimit:11,Math.ceil(this.drawingArea/(1.5*n)))},convertTicksToLabels:function(){var e=this;t.LinearScaleBase.prototype.convertTicksToLabels.call(e),e.pointLabels=e.chart.data.labels.map(e.options.pointLabels.callback,e)},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},fit:function(){var t,i;this.options.lineArc?(t=this,i=Math.min(t.height/2,t.width/2),t.drawingArea=Math.round(i),t.setCenterPoint(0,0,0,0)):function(t){var i,n,s,l=o(t),c=Math.min(t.height/2,t.width/2),d={l:t.width,r:0,t:t.height,b:0},h={};t.ctx.font=l.font,t._pointLabelSizes=[];var u,f,p,m=a(t);for(i=0;i<m;i++){s=t.getPointPosition(i,c),u=t.ctx,f=l.size,n=e.isArray(p=t.pointLabels[i]||"")?{w:e.longestText(u,u.font,p),h:p.length*f+1.5*(p.length-1)*f}:{w:u.measureText(p).width,h:f},t._pointLabelSizes[i]=n;var g=t.getIndexAngle(i),_=e.toDegrees(g)%360,v=r(_,s.x,n.w,0,180),y=r(_,s.y,n.h,90,270);v.start<d.l&&(d.l=v.start,h.l=g),v.end>d.r&&(d.r=v.end,h.r=g),y.start<d.t&&(d.t=y.start,h.t=g),y.end>d.b&&(d.b=y.end,h.b=g)}t.setReductions(c,d,h)}(this)},setReductions:function(t,e,i){var n=e.l/Math.sin(i.l),a=Math.max(e.r-this.width,0)/Math.sin(i.r),o=-e.t/Math.cos(i.t),r=-Math.max(e.b-this.height,0)/Math.cos(i.b);n=d(n),a=d(a),o=d(o),r=d(r),this.drawingArea=Math.min(Math.round(t-(n+a)/2),Math.round(t-(o+r)/2)),this.setCenterPoint(n,a,o,r)},setCenterPoint:function(t,e,i,n){var a=this,o=i+a.drawingArea,r=a.height-n-a.drawingArea;a.xCenter=Math.round((t+a.drawingArea+(a.width-e-a.drawingArea))/2+a.left),a.yCenter=Math.round((o+r)/2+a.top)},getIndexAngle:function(t){return t*(2*Math.PI/a(this))+(this.chart.options&&this.chart.options.startAngle?this.chart.options.startAngle:0)*Math.PI*2/360},getDistanceFromCenterForValue:function(t){var e=this;if(null===t)return 0;var i=e.drawingArea/(e.max-e.min);return e.options.reverse?(e.max-t)*i:(t-e.min)*i},getPointPosition:function(t,e){var i=this.getIndexAngle(t)-Math.PI/2;return{x:Math.round(Math.cos(i)*e)+this.xCenter,y:Math.round(Math.sin(i)*e)+this.yCenter}},getPointPositionForValue:function(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))},getBasePosition:function(){var t=this.min,e=this.max;return this.getPointPositionForValue(0,this.beginAtZero?0:t<0&&e<0?e:t>0&&e>0?t:0)},draw:function(){var t=this,n=t.options,r=n.gridLines,d=n.ticks,h=e.getValueOrDefault;if(n.display){var u=t.ctx,f=h(d.fontSize,i.defaultFontSize),p=h(d.fontStyle,i.defaultFontStyle),m=h(d.fontFamily,i.defaultFontFamily),g=e.fontString(f,p,m);e.each(t.ticks,function(o,s){if(s>0||n.reverse){var l=t.getDistanceFromCenterForValue(t.ticksAsNumbers[s]),c=t.yCenter-l;if(r.display&&0!==s&&function(t,i,n,o){var r=t.ctx;if(r.strokeStyle=e.getValueAtIndexOrDefault(i.color,o-1),r.lineWidth=e.getValueAtIndexOrDefault(i.lineWidth,o-1),t.options.lineArc)r.beginPath(),r.arc(t.xCenter,t.yCenter,n,0,2*Math.PI),r.closePath(),r.stroke();else{var s=a(t);if(0===s)return;r.beginPath();var l=t.getPointPosition(0,n);r.moveTo(l.x,l.y);for(var c=1;c<s;c++)l=t.getPointPosition(c,n),r.lineTo(l.x,l.y);r.closePath(),r.stroke()}}(t,r,l,s),d.display){var p=h(d.fontColor,i.defaultFontColor);if(u.font=g,d.showLabelBackdrop){var m=u.measureText(o).width;u.fillStyle=d.backdropColor,u.fillRect(t.xCenter-m/2-d.backdropPaddingX,c-f/2-d.backdropPaddingY,m+2*d.backdropPaddingX,f+2*d.backdropPaddingY)}u.textAlign="center",u.textBaseline="middle",u.fillStyle=p,u.fillText(o,t.xCenter,c)}}}),n.lineArc||function(t){var n=t.ctx,r=e.getValueOrDefault,d=t.options,h=d.angleLines,u=d.pointLabels;n.lineWidth=h.lineWidth,n.strokeStyle=h.color;var f=t.getDistanceFromCenterForValue(d.reverse?t.min:t.max),p=o(t);n.textBaseline="top";for(var m=a(t)-1;m>=0;m--){if(h.display){var g=t.getPointPosition(m,f);n.beginPath(),n.moveTo(t.xCenter,t.yCenter),n.lineTo(g.x,g.y),n.stroke(),n.closePath()}var _=t.getPointPosition(m,f+5),v=r(u.fontColor,i.defaultFontColor);n.font=p.font,n.fillStyle=v;var y=t.getIndexAngle(m),b=e.toDegrees(y);n.textAlign=s(b),c(b,t._pointLabelSizes[m],_),l(n,t.pointLabels[m]||"",_,p.size)}}(t)}}});t.scaleService.registerScaleType("radialLinear",h,n)}},{}],48:[function(t,e,i){"use strict";var n=t(1);n="function"==typeof n?n:window.moment,e.exports=function(t){var e=t.helpers,i={units:[{name:"millisecond",steps:[1,2,5,10,20,50,100,250,500]},{name:"second",steps:[1,2,5,10,30]},{name:"minute",steps:[1,2,5,10,30]},{name:"hour",steps:[1,2,3,6,12]},{name:"day",steps:[1,2,5]},{name:"week",maxStep:4},{name:"month",maxStep:3},{name:"quarter",maxStep:4},{name:"year",maxStep:!1}]},a=t.Scale.extend({initialize:function(){if(!n)throw new Error("Chart.js - Moment.js could not be found! You must include it before Chart.js to use the time scale. Download at https://momentjs.com");t.Scale.prototype.initialize.call(this)},getLabelMoment:function(t,e){return null===t||null===e?null:void 0!==this.labelMoments[t]?this.labelMoments[t][e]:null},getLabelDiff:function(t,e){return null===t||null===e?null:(void 0===this.labelDiffs&&this.buildLabelDiffs(),void 0!==this.labelDiffs[t]?this.labelDiffs[t][e]:null)},getMomentStartOf:function(t){return"week"===this.options.time.unit&&!1!==this.options.time.isoWeekday?t.clone().startOf("isoWeek").isoWeekday(this.options.time.isoWeekday):t.clone().startOf(this.tickUnit)},determineDataLimits:function(){var t=this;t.labelMoments=[];var i=[];t.chart.data.labels&&t.chart.data.labels.length>0?(e.each(t.chart.data.labels,function(e){var n=t.parseTime(e);n.isValid()&&(t.options.time.round&&n.startOf(t.options.time.round),i.push(n))},t),t.firstTick=n.min.call(t,i),t.lastTick=n.max.call(t,i)):(t.firstTick=null,t.lastTick=null),e.each(t.chart.data.datasets,function(a,o){var r=[],s=t.chart.isDatasetVisible(o);"object"==typeof a.data[0]&&null!==a.data[0]?e.each(a.data,function(e){var i=t.parseTime(t.getRightValue(e));i.isValid()&&(t.options.time.round&&i.startOf(t.options.time.round),r.push(i),s&&(t.firstTick=null!==t.firstTick?n.min(t.firstTick,i):i,t.lastTick=null!==t.lastTick?n.max(t.lastTick,i):i))},t):r=i,t.labelMoments.push(r)},t),t.options.time.min&&(t.firstTick=t.parseTime(t.options.time.min)),t.options.time.max&&(t.lastTick=t.parseTime(t.options.time.max)),t.firstTick=(t.firstTick||n()).clone(),t.lastTick=(t.lastTick||n()).clone()},buildLabelDiffs:function(){var t=this;t.labelDiffs=[];var i=[];t.chart.data.labels&&t.chart.data.labels.length>0&&e.each(t.chart.data.labels,function(e){var n=t.parseTime(e);n.isValid()&&(t.options.time.round&&n.startOf(t.options.time.round),i.push(n.diff(t.firstTick,t.tickUnit,!0)))},t),e.each(t.chart.data.datasets,function(n){var a=[];"object"==typeof n.data[0]&&null!==n.data[0]?e.each(n.data,function(e){var i=t.parseTime(t.getRightValue(e));i.isValid()&&(t.options.time.round&&i.startOf(t.options.time.round),a.push(i.diff(t.firstTick,t.tickUnit,!0)))},t):a=i,t.labelDiffs.push(a)},t)},buildTicks:function(){var n=this;n.ctx.save();var a,o=e.getValueOrDefault(n.options.ticks.fontSize,t.defaults.global.defaultFontSize),r=e.getValueOrDefault(n.options.ticks.fontStyle,t.defaults.global.defaultFontStyle),s=e.getValueOrDefault(n.options.ticks.fontFamily,t.defaults.global.defaultFontFamily),l=e.fontString(o,r,s);if(n.ctx.font=l,n.ticks=[],n.unitScale=1,n.scaleSizeInUnits=0,n.options.time.unit)n.tickUnit=n.options.time.unit||"day",n.displayFormat=n.options.time.displayFormats[n.tickUnit],n.scaleSizeInUnits=n.lastTick.diff(n.firstTick,n.tickUnit,!0),n.unitScale=e.getValueOrDefault(n.options.time.unitStepSize,1);else{var c=n.isHorizontal()?n.width:n.height,d=n.tickFormatFunction(n.firstTick,0,[]),h=n.ctx.measureText(d).width,u=c/(h=h*Math.cos(e.toRadians(n.options.ticks.maxRotation))+o*Math.sin(e.toRadians(n.options.ticks.maxRotation)));n.tickUnit=n.options.time.minUnit,n.scaleSizeInUnits=n.lastTick.diff(n.firstTick,n.tickUnit,!0),n.displayFormat=n.options.time.displayFormats[n.tickUnit];for(var f=0,p=i.units[f];f<i.units.length;){if(n.unitScale=1,e.isArray(p.steps)&&Math.ceil(n.scaleSizeInUnits/u)<e.max(p.steps)){for(var m=0;m<p.steps.length;++m)if(p.steps[m]>=Math.ceil(n.scaleSizeInUnits/u)){n.unitScale=e.getValueOrDefault(n.options.time.unitStepSize,p.steps[m]);break}break}if(!1===p.maxStep||Math.ceil(n.scaleSizeInUnits/u)<p.maxStep){n.unitScale=e.getValueOrDefault(n.options.time.unitStepSize,Math.ceil(n.scaleSizeInUnits/u));break}n.tickUnit=(p=i.units[++f]).name;var g=n.firstTick.diff(n.getMomentStartOf(n.firstTick),n.tickUnit,!0),_=n.getMomentStartOf(n.lastTick.clone().add(1,n.tickUnit)).diff(n.lastTick,n.tickUnit,!0);n.scaleSizeInUnits=n.lastTick.diff(n.firstTick,n.tickUnit,!0)+g+_,n.displayFormat=n.options.time.displayFormats[p.name]}}if(n.options.time.min?a=n.getMomentStartOf(n.firstTick):(n.firstTick=n.getMomentStartOf(n.firstTick),a=n.firstTick),!n.options.time.max){var v=n.getMomentStartOf(n.lastTick),y=v.diff(n.lastTick,n.tickUnit,!0);y<0?n.lastTick=n.getMomentStartOf(n.lastTick.add(1,n.tickUnit)):y>=0&&(n.lastTick=v),n.scaleSizeInUnits=n.lastTick.diff(n.firstTick,n.tickUnit,!0)}n.options.time.displayFormat&&(n.displayFormat=n.options.time.displayFormat),n.ticks.push(n.firstTick.clone());for(var b=n.unitScale;b<=n.scaleSizeInUnits;b+=n.unitScale){var x=a.clone().add(b,n.tickUnit);if(n.options.time.max&&x.diff(n.lastTick,n.tickUnit,!0)>=0)break;n.ticks.push(x)}0===n.ticks[n.ticks.length-1].diff(n.lastTick,n.tickUnit)&&0!==n.scaleSizeInUnits||(n.options.time.max?(n.ticks.push(n.lastTick.clone()),n.scaleSizeInUnits=n.lastTick.diff(n.ticks[0],n.tickUnit,!0)):(n.ticks.push(n.lastTick.clone()),n.scaleSizeInUnits=n.lastTick.diff(n.firstTick,n.tickUnit,!0))),n.ctx.restore(),n.labelDiffs=void 0},getLabelForIndex:function(t,e){var i=this,n=i.chart.data.labels&&t<i.chart.data.labels.length?i.chart.data.labels[t]:"",a=i.chart.data.datasets[e].data[t];return null!==a&&"object"==typeof a&&(n=i.getRightValue(a)),i.options.time.tooltipFormat&&(n=i.parseTime(n).format(i.options.time.tooltipFormat)),n},tickFormatFunction:function(t,i,n){var a=t.format(this.displayFormat),o=this.options.ticks,r=e.getValueOrDefault(o.callback,o.userCallback);return r?r(a,i,n):a},convertTicksToLabels:function(){var t=this;t.tickMoments=t.ticks,t.ticks=t.ticks.map(t.tickFormatFunction,t)},getPixelForValue:function(t,e,i){var n=this,a=null;if(void 0!==e&&void 0!==i&&(a=n.getLabelDiff(i,e)),null===a&&(t&&t.isValid||(t=n.parseTime(n.getRightValue(t))),t&&t.isValid&&t.isValid()&&(a=t.diff(n.firstTick,n.tickUnit,!0))),null!==a){var o=0!==a?a/n.scaleSizeInUnits:a;return n.isHorizontal()?n.left+Math.round(n.width*o):n.top+Math.round(n.height*o)}},getPixelForTick:function(t){return this.getPixelForValue(this.tickMoments[t],null,null)},getValueForPixel:function(t){var e=this,i=e.isHorizontal()?e.width:e.height,a=(t-(e.isHorizontal()?e.left:e.top))/i;return a*=e.scaleSizeInUnits,e.firstTick.clone().add(n.duration(a,e.tickUnit).asSeconds(),"seconds")},parseTime:function(t){var e=this;return"string"==typeof e.options.time.parser?n(t,e.options.time.parser):"function"==typeof e.options.time.parser?e.options.time.parser(t):"function"==typeof t.getMonth||"number"==typeof t?n(t):t.isValid&&t.isValid()?t:"string"!=typeof e.options.time.format&&e.options.time.format.call?(console.warn("options.time.format is deprecated and replaced by options.time.parser. See http://nnnick.github.io/Chart.js/docs-v2/#scales-time-scale"),e.options.time.format(t)):n(t,e.options.time.format)}});t.scaleService.registerScaleType("time",a,{position:"bottom",time:{parser:!1,format:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm:ss a",hour:"MMM D, hA",day:"ll",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"}},ticks:{autoSkip:!1}})}},{1:1}]},{},[7])(7)}),function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){"use strict";var i=[],n=t.document,a=Object.getPrototypeOf,o=i.slice,r=i.concat,s=i.push,l=i.indexOf,c={},d=c.toString,h=c.hasOwnProperty,u=h.toString,f=u.call(Object),p={},m=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},g=function(t){return null!=t&&t===t.window},_={type:!0,src:!0,noModule:!0};function v(t,e,i){var a,o=(e=e||n).createElement("script");if(o.text=t,i)for(a in _)i[a]&&(o[a]=i[a]);e.head.appendChild(o).parentNode.removeChild(o)}function y(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?c[d.call(t)]||"object":typeof t}var b="3.3.1 -ajax,-ajax/jsonp,-ajax/load,-ajax/parseXML,-ajax/script,-ajax/var/location,-ajax/var/nonce,-ajax/var/rquery,-ajax/xhr,-manipulation/_evalUrl,-event/ajax,-effects,-effects/Tween,-effects/animatedSelector",x=function(t,e){return new x.fn.init(t,e)},T=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function w(t){var e=!!t&&"length"in t&&t.length,i=y(t);return!m(t)&&!g(t)&&("array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t)}x.fn=x.prototype={jquery:b,constructor:x,length:0,toArray:function(){return o.call(this)},get:function(t){return null==t?o.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=x.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return x.each(this,t)},map:function(t){return this.pushStack(x.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(t<0?e:0);return this.pushStack(i>=0&&i<e?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:i.sort,splice:i.splice},x.extend=x.fn.extend=function(){var t,e,i,n,a,o,r=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof r&&(c=r,r=arguments[s]||{},s++),"object"==typeof r||m(r)||(r={}),s===l&&(r=this,s--);s<l;s++)if(null!=(t=arguments[s]))for(e in t)i=r[e],r!==(n=t[e])&&(c&&n&&(x.isPlainObject(n)||(a=Array.isArray(n)))?(a?(a=!1,o=i&&Array.isArray(i)?i:[]):o=i&&x.isPlainObject(i)?i:{},r[e]=x.extend(c,o,n)):void 0!==n&&(r[e]=n));return r},x.extend({expando:"jQuery"+(b+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,i;return!(!t||"[object Object]"!==d.call(t)||(e=a(t))&&("function"!=typeof(i=h.call(e,"constructor")&&e.constructor)||u.call(i)!==f))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t){v(t)},each:function(t,e){var i,n=0;if(w(t))for(i=t.length;n<i&&!1!==e.call(t[n],n,t[n]);n++);else for(n in t)if(!1===e.call(t[n],n,t[n]))break;return t},trim:function(t){return null==t?"":(t+"").replace(T,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(w(Object(t))?x.merge(i,"string"==typeof t?[t]:t):s.call(i,t)),i},inArray:function(t,e,i){return null==e?-1:l.call(e,t,i)},merge:function(t,e){for(var i=+e.length,n=0,a=t.length;n<i;n++)t[a++]=e[n];return t.length=a,t},grep:function(t,e,i){for(var n=[],a=0,o=t.length,r=!i;a<o;a++)!e(t[a],a)!==r&&n.push(t[a]);return n},map:function(t,e,i){var n,a,o=0,s=[];if(w(t))for(n=t.length;o<n;o++)null!=(a=e(t[o],o,i))&&s.push(a);else for(o in t)null!=(a=e(t[o],o,i))&&s.push(a);return r.apply([],s)},guid:1,support:p}),"function"==typeof Symbol&&(x.fn[Symbol.iterator]=i[Symbol.iterator]),x.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){c["[object "+e+"]"]=e.toLowerCase()});var k=function(t){var e,i,n,a,o,r,s,l,c,d,h,u,f,p,m,g,_,v,y,b="sizzle"+1*new Date,x=t.document,T=0,w=0,k=rt(),L=rt(),D=rt(),S=function(t,e){return t===e&&(h=!0),0},M={}.hasOwnProperty,C=[],E=C.pop,A=C.push,I=C.push,N=C.slice,P=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},O="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",F="[\\x20\\t\\r\\n\\f]",R="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",B="\\["+F+"*("+R+")(?:"+F+"*([*^$|!~]?=)"+F+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+R+"))|)"+F+"*\\]",j=":("+R+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+B+")*)|.*)\\)|)",H=new RegExp(F+"+","g"),z=new RegExp("^"+F+"+|((?:^|[^\\\\])(?:\\\\.)*)"+F+"+$","g"),W=new RegExp("^"+F+"*,"+F+"*"),U=new RegExp("^"+F+"*([>+~]|"+F+")"+F+"*"),q=new RegExp("="+F+"*([^\\]'\"]*?)"+F+"*\\]","g"),V=new RegExp(j),Y=new RegExp("^"+R+"$"),$={ID:new RegExp("^#("+R+")"),CLASS:new RegExp("^\\.("+R+")"),TAG:new RegExp("^("+R+"|[*])"),ATTR:new RegExp("^"+B),PSEUDO:new RegExp("^"+j),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+F+"*(even|odd|(([+-]|)(\\d*)n|)"+F+"*(?:([+-]|)"+F+"*(\\d+)|))"+F+"*\\)|)","i"),bool:new RegExp("^(?:"+O+")$","i"),needsContext:new RegExp("^"+F+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+F+"*((?:-\\d)?\\d*)"+F+"*\\)|)(?=[^-]|$)","i")},K=/^(?:input|select|textarea|button)$/i,Q=/^h\d$/i,G=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,X=/[+~]/,J=new RegExp("\\\\([\\da-f]{1,6}"+F+"?|("+F+")|.)","ig"),tt=function(t,e,i){var n="0x"+e-65536;return n!=n||i?e:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},et=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,it=function(t,e){return e?"\0"===t?"\ufffd":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},nt=function(){u()},at=vt(function(t){return!0===t.disabled&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{I.apply(C=N.call(x.childNodes),x.childNodes)}catch(t){I={apply:C.length?function(t,e){A.apply(t,N.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}function ot(t,e,n,a){var o,s,c,d,h,p,_,v=e&&e.ownerDocument,T=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==T&&9!==T&&11!==T)return n;if(!a&&((e?e.ownerDocument||e:x)!==f&&u(e),e=e||f,m)){if(11!==T&&(h=Z.exec(t)))if(o=h[1]){if(9===T){if(!(c=e.getElementById(o)))return n;if(c.id===o)return n.push(c),n}else if(v&&(c=v.getElementById(o))&&y(e,c)&&c.id===o)return n.push(c),n}else{if(h[2])return I.apply(n,e.getElementsByTagName(t)),n;if((o=h[3])&&i.getElementsByClassName&&e.getElementsByClassName)return I.apply(n,e.getElementsByClassName(o)),n}if(i.qsa&&!D[t+" "]&&(!g||!g.test(t))){if(1!==T)v=e,_=t;else if("object"!==e.nodeName.toLowerCase()){for((d=e.getAttribute("id"))?d=d.replace(et,it):e.setAttribute("id",d=b),s=(p=r(t)).length;s--;)p[s]="#"+d+" "+_t(p[s]);_=p.join(","),v=X.test(t)&&mt(e.parentNode)||e}if(_)try{return I.apply(n,v.querySelectorAll(_)),n}catch(t){}finally{d===b&&e.removeAttribute("id")}}}return l(t.replace(z,"$1"),e,n,a)}function rt(){var t=[];return function e(i,a){return t.push(i+" ")>n.cacheLength&&delete e[t.shift()],e[i+" "]=a}}function st(t){return t[b]=!0,t}function lt(t){var e=f.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ct(t,e){for(var i=t.split("|"),a=i.length;a--;)n.attrHandle[i[a]]=e}function dt(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function ht(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function ut(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function ft(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&at(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function pt(t){return st(function(e){return e=+e,st(function(i,n){for(var a,o=t([],i.length,e),r=o.length;r--;)i[a=o[r]]&&(i[a]=!(n[a]=i[a]))})})}function mt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in i=ot.support={},o=ot.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},u=ot.setDocument=function(t){var e,a,r=t?t.ownerDocument||t:x;return r!==f&&9===r.nodeType&&r.documentElement?(p=(f=r).documentElement,m=!o(f),x!==f&&(a=f.defaultView)&&a.top!==a&&(a.addEventListener?a.addEventListener("unload",nt,!1):a.attachEvent&&a.attachEvent("onunload",nt)),i.attributes=lt(function(t){return t.className="i",!t.getAttribute("className")}),i.getElementsByTagName=lt(function(t){return t.appendChild(f.createComment("")),!t.getElementsByTagName("*").length}),i.getElementsByClassName=G.test(f.getElementsByClassName),i.getById=lt(function(t){return p.appendChild(t).id=b,!f.getElementsByName||!f.getElementsByName(b).length}),i.getById?(n.filter.ID=function(t){var e=t.replace(J,tt);return function(t){return t.getAttribute("id")===e}},n.find.ID=function(t,e){if(void 0!==e.getElementById&&m){var i=e.getElementById(t);return i?[i]:[]}}):(n.filter.ID=function(t){var e=t.replace(J,tt);return function(t){var i=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}},n.find.ID=function(t,e){if(void 0!==e.getElementById&&m){var i,n,a,o=e.getElementById(t);if(o){if((i=o.getAttributeNode("id"))&&i.value===t)return[o];for(a=e.getElementsByName(t),n=0;o=a[n++];)if((i=o.getAttributeNode("id"))&&i.value===t)return[o]}return[]}}),n.find.TAG=i.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):i.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],a=0,o=e.getElementsByTagName(t);if("*"===t){for(;i=o[a++];)1===i.nodeType&&n.push(i);return n}return o},n.find.CLASS=i.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&m)return e.getElementsByClassName(t)},_=[],g=[],(i.qsa=G.test(f.querySelectorAll))&&(lt(function(t){p.appendChild(t).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+F+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||g.push("\\["+F+"*(?:value|"+O+")"),t.querySelectorAll("[id~="+b+"-]").length||g.push("~="),t.querySelectorAll(":checked").length||g.push(":checked"),t.querySelectorAll("a#"+b+"+*").length||g.push(".#.+[+~]")}),lt(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=f.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&g.push("name"+F+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),p.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),g.push(",.*:")})),(i.matchesSelector=G.test(v=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&lt(function(t){i.disconnectedMatch=v.call(t,"*"),v.call(t,"[s!='']:x"),_.push("!=",j)}),g=g.length&&new RegExp(g.join("|")),_=_.length&&new RegExp(_.join("|")),e=G.test(p.compareDocumentPosition),y=e||G.test(p.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},S=e?function(t,e){if(t===e)return h=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!i.sortDetached&&e.compareDocumentPosition(t)===n?t===f||t.ownerDocument===x&&y(x,t)?-1:e===f||e.ownerDocument===x&&y(x,e)?1:d?P(d,t)-P(d,e):0:4&n?-1:1)}:function(t,e){if(t===e)return h=!0,0;var i,n=0,a=t.parentNode,o=e.parentNode,r=[t],s=[e];if(!a||!o)return t===f?-1:e===f?1:a?-1:o?1:d?P(d,t)-P(d,e):0;if(a===o)return dt(t,e);for(i=t;i=i.parentNode;)r.unshift(i);for(i=e;i=i.parentNode;)s.unshift(i);for(;r[n]===s[n];)n++;return n?dt(r[n],s[n]):r[n]===x?-1:s[n]===x?1:0},f):f},ot.matches=function(t,e){return ot(t,null,null,e)},ot.matchesSelector=function(t,e){if((t.ownerDocument||t)!==f&&u(t),e=e.replace(q,"='$1']"),i.matchesSelector&&m&&!D[e+" "]&&(!_||!_.test(e))&&(!g||!g.test(e)))try{var n=v.call(t,e);if(n||i.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){}return ot(e,f,null,[t]).length>0},ot.contains=function(t,e){return(t.ownerDocument||t)!==f&&u(t),y(t,e)},ot.attr=function(t,e){(t.ownerDocument||t)!==f&&u(t);var a=n.attrHandle[e.toLowerCase()],o=a&&M.call(n.attrHandle,e.toLowerCase())?a(t,e,!m):void 0;return void 0!==o?o:i.attributes||!m?t.getAttribute(e):(o=t.getAttributeNode(e))&&o.specified?o.value:null},ot.escape=function(t){return(t+"").replace(et,it)},ot.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},ot.uniqueSort=function(t){var e,n=[],a=0,o=0;if(h=!i.detectDuplicates,d=!i.sortStable&&t.slice(0),t.sort(S),h){for(;e=t[o++];)e===t[o]&&(a=n.push(o));for(;a--;)t.splice(n[a],1)}return d=null,t},a=ot.getText=function(t){var e,i="",n=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=a(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[n++];)i+=a(e);return i},(n=ot.selectors={cacheLength:50,createPseudo:st,match:$,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(J,tt),t[3]=(t[3]||t[4]||t[5]||"").replace(J,tt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||ot.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&ot.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return $.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&V.test(i)&&(e=r(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(J,tt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=k[t+" "];return e||(e=new RegExp("(^|"+F+")"+t+"("+F+"|$)"))&&k(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,e,i){return function(n){var a=ot.attr(n,t);return null==a?"!="===e:!e||(a+="","="===e?a===i:"!="===e?a!==i:"^="===e?i&&0===a.indexOf(i):"*="===e?i&&a.indexOf(i)>-1:"$="===e?i&&a.slice(-i.length)===i:"~="===e?(" "+a.replace(H," ")+" ").indexOf(i)>-1:"|="===e&&(a===i||a.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,i,n,a){var o="nth"!==t.slice(0,3),r="last"!==t.slice(-4),s="of-type"===e;return 1===n&&0===a?function(t){return!!t.parentNode}:function(e,i,l){var c,d,h,u,f,p,m=o!==r?"nextSibling":"previousSibling",g=e.parentNode,_=s&&e.nodeName.toLowerCase(),v=!l&&!s,y=!1;if(g){if(o){for(;m;){for(u=e;u=u[m];)if(s?u.nodeName.toLowerCase()===_:1===u.nodeType)return!1;p=m="only"===t&&!p&&"nextSibling"}return!0}if(p=[r?g.firstChild:g.lastChild],r&&v){for(y=(f=(c=(d=(h=(u=g)[b]||(u[b]={}))[u.uniqueID]||(h[u.uniqueID]={}))[t]||[])[0]===T&&c[1])&&c[2],u=f&&g.childNodes[f];u=++f&&u&&u[m]||(y=f=0)||p.pop();)if(1===u.nodeType&&++y&&u===e){d[t]=[T,f,y];break}}else if(v&&(y=f=(c=(d=(h=(u=e)[b]||(u[b]={}))[u.uniqueID]||(h[u.uniqueID]={}))[t]||[])[0]===T&&c[1]),!1===y)for(;(u=++f&&u&&u[m]||(y=f=0)||p.pop())&&((s?u.nodeName.toLowerCase()!==_:1!==u.nodeType)||!++y||(v&&((d=(h=u[b]||(u[b]={}))[u.uniqueID]||(h[u.uniqueID]={}))[t]=[T,y]),u!==e)););return(y-=a)===n||y%n==0&&y/n>=0}}},PSEUDO:function(t,e){var i,a=n.pseudos[t]||n.setFilters[t.toLowerCase()]||ot.error("unsupported pseudo: "+t);return a[b]?a(e):a.length>1?(i=[t,t,"",e],n.setFilters.hasOwnProperty(t.toLowerCase())?st(function(t,i){for(var n,o=a(t,e),r=o.length;r--;)t[n=P(t,o[r])]=!(i[n]=o[r])}):function(t){return a(t,0,i)}):a}},pseudos:{not:st(function(t){var e=[],i=[],n=s(t.replace(z,"$1"));return n[b]?st(function(t,e,i,a){for(var o,r=n(t,null,a,[]),s=t.length;s--;)(o=r[s])&&(t[s]=!(e[s]=o))}):function(t,a,o){return e[0]=t,n(e,null,o,i),e[0]=null,!i.pop()}}),has:st(function(t){return function(e){return ot(t,e).length>0}}),contains:st(function(t){return t=t.replace(J,tt),function(e){return(e.textContent||e.innerText||a(e)).indexOf(t)>-1}}),lang:st(function(t){return Y.test(t||"")||ot.error("unsupported lang: "+t),t=t.replace(J,tt).toLowerCase(),function(e){var i;do{if(i=m?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(i=i.toLowerCase())===t||0===i.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===p},focus:function(t){return t===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:ft(!1),disabled:ft(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!n.pseudos.empty(t)},header:function(t){return Q.test(t.nodeName)},input:function(t){return K.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:pt(function(){return[0]}),last:pt(function(t,e){return[e-1]}),eq:pt(function(t,e,i){return[i<0?i+e:i]}),even:pt(function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t}),odd:pt(function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t}),lt:pt(function(t,e,i){for(var n=i<0?i+e:i;--n>=0;)t.push(n);return t}),gt:pt(function(t,e,i){for(var n=i<0?i+e:i;++n<e;)t.push(n);return t})}}).pseudos.nth=n.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})n.pseudos[e]=ht(e);for(e in{submit:!0,reset:!0})n.pseudos[e]=ut(e);function gt(){}function _t(t){for(var e=0,i=t.length,n="";e<i;e++)n+=t[e].value;return n}function vt(t,e,i){var n=e.dir,a=e.next,o=a||n,r=i&&"parentNode"===o,s=w++;return e.first?function(e,i,a){for(;e=e[n];)if(1===e.nodeType||r)return t(e,i,a);return!1}:function(e,i,l){var c,d,h,u=[T,s];if(l){for(;e=e[n];)if((1===e.nodeType||r)&&t(e,i,l))return!0}else for(;e=e[n];)if(1===e.nodeType||r)if(d=(h=e[b]||(e[b]={}))[e.uniqueID]||(h[e.uniqueID]={}),a&&a===e.nodeName.toLowerCase())e=e[n]||e;else{if((c=d[o])&&c[0]===T&&c[1]===s)return u[2]=c[2];if(d[o]=u,u[2]=t(e,i,l))return!0}return!1}}function yt(t){return t.length>1?function(e,i,n){for(var a=t.length;a--;)if(!t[a](e,i,n))return!1;return!0}:t[0]}function bt(t,e,i,n,a){for(var o,r=[],s=0,l=t.length,c=null!=e;s<l;s++)(o=t[s])&&(i&&!i(o,n,a)||(r.push(o),c&&e.push(s)));return r}function xt(t,e,i,n,a,o){return n&&!n[b]&&(n=xt(n)),a&&!a[b]&&(a=xt(a,o)),st(function(o,r,s,l){var c,d,h,u=[],f=[],p=r.length,m=o||function(t,e,i){for(var n=0,a=e.length;n<a;n++)ot(t,e[n],i);return i}(e||"*",s.nodeType?[s]:s,[]),g=!t||!o&&e?m:bt(m,u,t,s,l),_=i?a||(o?t:p||n)?[]:r:g;if(i&&i(g,_,s,l),n)for(c=bt(_,f),n(c,[],s,l),d=c.length;d--;)(h=c[d])&&(_[f[d]]=!(g[f[d]]=h));if(o){if(a||t){if(a){for(c=[],d=_.length;d--;)(h=_[d])&&c.push(g[d]=h);a(null,_=[],c,l)}for(d=_.length;d--;)(h=_[d])&&(c=a?P(o,h):u[d])>-1&&(o[c]=!(r[c]=h))}}else _=bt(_===r?_.splice(p,_.length):_),a?a(null,r,_,l):I.apply(r,_)})}function Tt(t){for(var e,i,a,o=t.length,r=n.relative[t[0].type],s=r||n.relative[" "],l=r?1:0,d=vt(function(t){return t===e},s,!0),h=vt(function(t){return P(e,t)>-1},s,!0),u=[function(t,i,n){var a=!r&&(n||i!==c)||((e=i).nodeType?d(t,i,n):h(t,i,n));return e=null,a}];l<o;l++)if(i=n.relative[t[l].type])u=[vt(yt(u),i)];else{if((i=n.filter[t[l].type].apply(null,t[l].matches))[b]){for(a=++l;a<o&&!n.relative[t[a].type];a++);return xt(l>1&&yt(u),l>1&&_t(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(z,"$1"),i,l<a&&Tt(t.slice(l,a)),a<o&&Tt(t=t.slice(a)),a<o&&_t(t))}u.push(i)}return yt(u)}function wt(t,e){var i=e.length>0,a=t.length>0,o=function(o,r,s,l,d){var h,p,g,_=0,v="0",y=o&&[],b=[],x=c,w=o||a&&n.find.TAG("*",d),k=T+=null==x?1:Math.random()||.1,L=w.length;for(d&&(c=r===f||r||d);v!==L&&null!=(h=w[v]);v++){if(a&&h){for(p=0,r||h.ownerDocument===f||(u(h),s=!m);g=t[p++];)if(g(h,r||f,s)){l.push(h);break}d&&(T=k)}i&&((h=!g&&h)&&_--,o&&y.push(h))}if(_+=v,i&&v!==_){for(p=0;g=e[p++];)g(y,b,r,s);if(o){if(_>0)for(;v--;)y[v]||b[v]||(b[v]=E.call(l));b=bt(b)}I.apply(l,b),d&&!o&&b.length>0&&_+e.length>1&&ot.uniqueSort(l)}return d&&(T=k,c=x),y};return i?st(o):o}return gt.prototype=n.filters=n.pseudos,n.setFilters=new gt,r=ot.tokenize=function(t,e){var i,a,o,r,s,l,c,d=L[t+" "];if(d)return e?0:d.slice(0);for(s=t,l=[],c=n.preFilter;s;){for(r in i&&!(a=W.exec(s))||(a&&(s=s.slice(a[0].length)||s),l.push(o=[])),i=!1,(a=U.exec(s))&&(i=a.shift(),o.push({value:i,type:a[0].replace(z," ")}),s=s.slice(i.length)),n.filter)!(a=$[r].exec(s))||c[r]&&!(a=c[r](a))||(i=a.shift(),o.push({value:i,type:r,matches:a}),s=s.slice(i.length));if(!i)break}return e?s.length:s?ot.error(t):L(t,l).slice(0)},s=ot.compile=function(t,e){var i,n=[],a=[],o=D[t+" "];if(!o){for(e||(e=r(t)),i=e.length;i--;)(o=Tt(e[i]))[b]?n.push(o):a.push(o);(o=D(t,wt(a,n))).selector=t}return o},l=ot.select=function(t,e,i,a){var o,l,c,d,h,u="function"==typeof t&&t,f=!a&&r(t=u.selector||t);if(i=i||[],1===f.length){if((l=f[0]=f[0].slice(0)).length>2&&"ID"===(c=l[0]).type&&9===e.nodeType&&m&&n.relative[l[1].type]){if(!(e=(n.find.ID(c.matches[0].replace(J,tt),e)||[])[0]))return i;u&&(e=e.parentNode),t=t.slice(l.shift().value.length)}for(o=$.needsContext.test(t)?0:l.length;o--&&!n.relative[d=(c=l[o]).type];)if((h=n.find[d])&&(a=h(c.matches[0].replace(J,tt),X.test(l[0].type)&&mt(e.parentNode)||e))){if(l.splice(o,1),!(t=a.length&&_t(l)))return I.apply(i,a),i;break}}return(u||s(t,f))(a,e,!m,i,!e||X.test(t)&&mt(e.parentNode)||e),i},i.sortStable=b.split("").sort(S).join("")===b,i.detectDuplicates=!!h,u(),i.sortDetached=lt(function(t){return 1&t.compareDocumentPosition(f.createElement("fieldset"))}),lt(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||ct("type|href|height|width",function(t,e,i){if(!i)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),i.attributes&&lt(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||ct("value",function(t,e,i){if(!i&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),lt(function(t){return null==t.getAttribute("disabled")})||ct(O,function(t,e,i){var n;if(!i)return!0===t[e]?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),ot}(t);x.find=k,x.expr=k.selectors,x.expr[":"]=x.expr.pseudos,x.uniqueSort=x.unique=k.uniqueSort,x.text=k.getText,x.isXMLDoc=k.isXML,x.contains=k.contains,x.escapeSelector=k.escape;var L=function(t,e,i){for(var n=[],a=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(a&&x(t).is(i))break;n.push(t)}return n},D=function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i},S=x.expr.match.needsContext;function M(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var C=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function E(t,e,i){return m(e)?x.grep(t,function(t,n){return!!e.call(t,n,t)!==i}):e.nodeType?x.grep(t,function(t){return t===e!==i}):"string"!=typeof e?x.grep(t,function(t){return l.call(e,t)>-1!==i}):x.filter(e,t,i)}x.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?x.find.matchesSelector(n,t)?[n]:[]:x.find.matches(t,x.grep(e,function(t){return 1===t.nodeType}))},x.fn.extend({find:function(t){var e,i,n=this.length,a=this;if("string"!=typeof t)return this.pushStack(x(t).filter(function(){for(e=0;e<n;e++)if(x.contains(a[e],this))return!0}));for(i=this.pushStack([]),e=0;e<n;e++)x.find(t,a[e],i);return n>1?x.uniqueSort(i):i},filter:function(t){return this.pushStack(E(this,t||[],!1))},not:function(t){return this.pushStack(E(this,t||[],!0))},is:function(t){return!!E(this,"string"==typeof t&&S.test(t)?x(t):t||[],!1).length}});var A,I=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(x.fn.init=function(t,e,i){var a,o;if(!t)return this;if(i=i||A,"string"==typeof t){if(!(a="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:I.exec(t))||!a[1]&&e)return!e||e.jquery?(e||i).find(t):this.constructor(e).find(t);if(a[1]){if(x.merge(this,x.parseHTML(a[1],(e=e instanceof x?e[0]:e)&&e.nodeType?e.ownerDocument||e:n,!0)),C.test(a[1])&&x.isPlainObject(e))for(a in e)m(this[a])?this[a](e[a]):this.attr(a,e[a]);return this}return(o=n.getElementById(a[2]))&&(this[0]=o,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):m(t)?void 0!==i.ready?i.ready(t):t(x):x.makeArray(t,this)}).prototype=x.fn,A=x(n);var N=/^(?:parents|prev(?:Until|All))/,P={children:!0,contents:!0,next:!0,prev:!0};function O(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}x.fn.extend({has:function(t){var e=x(t,this),i=e.length;return this.filter(function(){for(var t=0;t<i;t++)if(x.contains(this,e[t]))return!0})},closest:function(t,e){var i,n=0,a=this.length,o=[],r="string"!=typeof t&&x(t);if(!S.test(t))for(;n<a;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(r?r.index(i)>-1:1===i.nodeType&&x.find.matchesSelector(i,t))){o.push(i);break}return this.pushStack(o.length>1?x.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?l.call(x(t),this[0]):l.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(x.uniqueSort(x.merge(this.get(),x(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),x.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return L(t,"parentNode")},parentsUntil:function(t,e,i){return L(t,"parentNode",i)},next:function(t){return O(t,"nextSibling")},prev:function(t){return O(t,"previousSibling")},nextAll:function(t){return L(t,"nextSibling")},prevAll:function(t){return L(t,"previousSibling")},nextUntil:function(t,e,i){return L(t,"nextSibling",i)},prevUntil:function(t,e,i){return L(t,"previousSibling",i)},siblings:function(t){return D((t.parentNode||{}).firstChild,t)},children:function(t){return D(t.firstChild)},contents:function(t){return M(t,"iframe")?t.contentDocument:(M(t,"template")&&(t=t.content||t),x.merge([],t.childNodes))}},function(t,e){x.fn[t]=function(i,n){var a=x.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(a=x.filter(n,a)),this.length>1&&(P[t]||x.uniqueSort(a),N.test(t)&&a.reverse()),this.pushStack(a)}});var F=/[^\x20\t\r\n\f]+/g;function R(t){return t}function B(t){throw t}function j(t,e,i,n){var a;try{t&&m(a=t.promise)?a.call(t).done(e).fail(i):t&&m(a=t.then)?a.call(t,e,i):e.apply(void 0,[t].slice(n))}catch(t){i.apply(void 0,[t])}}x.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return x.each(t.match(F)||[],function(t,i){e[i]=!0}),e}(t):x.extend({},t);var e,i,n,a,o=[],r=[],s=-1,l=function(){for(a=a||t.once,n=e=!0;r.length;s=-1)for(i=r.shift();++s<o.length;)!1===o[s].apply(i[0],i[1])&&t.stopOnFalse&&(s=o.length,i=!1);t.memory||(i=!1),e=!1,a&&(o=i?[]:"")},c={add:function(){return o&&(i&&!e&&(s=o.length-1,r.push(i)),function e(i){x.each(i,function(i,n){m(n)?t.unique&&c.has(n)||o.push(n):n&&n.length&&"string"!==y(n)&&e(n)})}(arguments),i&&!e&&l()),this},remove:function(){return x.each(arguments,function(t,e){for(var i;(i=x.inArray(e,o,i))>-1;)o.splice(i,1),i<=s&&s--}),this},has:function(t){return t?x.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return a=r=[],o=i="",this},disabled:function(){return!o},lock:function(){return a=r=[],i||e||(o=i=""),this},locked:function(){return!!a},fireWith:function(t,i){return a||(i=[t,(i=i||[]).slice?i.slice():i],r.push(i),e||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!n}};return c},x.extend({Deferred:function(e){var i=[["notify","progress",x.Callbacks("memory"),x.Callbacks("memory"),2],["resolve","done",x.Callbacks("once memory"),x.Callbacks("once memory"),0,"resolved"],["reject","fail",x.Callbacks("once memory"),x.Callbacks("once memory"),1,"rejected"]],n="pending",a={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return a.then(null,t)},pipe:function(){var t=arguments;return x.Deferred(function(e){x.each(i,function(i,n){var a=m(t[n[4]])&&t[n[4]];o[n[1]](function(){var t=a&&a.apply(this,arguments);t&&m(t.promise)?t.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[n[0]+"With"](this,a?[t]:arguments)})}),t=null}).promise()},then:function(e,n,a){var o=0;function r(e,i,n,a){return function(){var s=this,l=arguments,c=function(){var t,c;if(!(e<o)){if((t=n.apply(s,l))===i.promise())throw new TypeError("Thenable self-resolution");m(c=t&&("object"==typeof t||"function"==typeof t)&&t.then)?a?c.call(t,r(o,i,R,a),r(o,i,B,a)):c.call(t,r(++o,i,R,a),r(o,i,B,a),r(o,i,R,i.notifyWith)):(n!==R&&(s=void 0,l=[t]),(a||i.resolveWith)(s,l))}},d=a?c:function(){try{c()}catch(t){x.Deferred.exceptionHook&&x.Deferred.exceptionHook(t,d.stackTrace),e+1>=o&&(n!==B&&(s=void 0,l=[t]),i.rejectWith(s,l))}};e?d():(x.Deferred.getStackHook&&(d.stackTrace=x.Deferred.getStackHook()),t.setTimeout(d))}}return x.Deferred(function(t){i[0][3].add(r(0,t,m(a)?a:R,t.notifyWith)),i[1][3].add(r(0,t,m(e)?e:R)),i[2][3].add(r(0,t,m(n)?n:B))}).promise()},promise:function(t){return null!=t?x.extend(t,a):a}},o={};return x.each(i,function(t,e){var r=e[2],s=e[5];a[e[1]]=r.add,s&&r.add(function(){n=s},i[3-t][2].disable,i[3-t][3].disable,i[0][2].lock,i[0][3].lock),r.add(e[3].fire),o[e[0]]=function(){return o[e[0]+"With"](this===o?void 0:this,arguments),this},o[e[0]+"With"]=r.fireWith}),a.promise(o),e&&e.call(o,o),o},when:function(t){var e=arguments.length,i=e,n=Array(i),a=o.call(arguments),r=x.Deferred(),s=function(t){return function(i){n[t]=this,a[t]=arguments.length>1?o.call(arguments):i,--e||r.resolveWith(n,a)}};if(e<=1&&(j(t,r.done(s(i)).resolve,r.reject,!e),"pending"===r.state()||m(a[i]&&a[i].then)))return r.then();for(;i--;)j(a[i],s(i),r.reject);return r.promise()}});var H=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;x.Deferred.exceptionHook=function(e,i){t.console&&t.console.warn&&e&&H.test(e.name)&&t.console.warn("jQuery.Deferred exception: "+e.message,e.stack,i)},x.readyException=function(e){t.setTimeout(function(){throw e})};var z=x.Deferred();function W(){n.removeEventListener("DOMContentLoaded",W),t.removeEventListener("load",W),x.ready()}x.fn.ready=function(t){return z.then(t).catch(function(t){x.readyException(t)}),this},x.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--x.readyWait:x.isReady)||(x.isReady=!0,!0!==t&&--x.readyWait>0||z.resolveWith(n,[x]))}}),x.ready.then=z.then,"complete"===n.readyState||"loading"!==n.readyState&&!n.documentElement.doScroll?t.setTimeout(x.ready):(n.addEventListener("DOMContentLoaded",W),t.addEventListener("load",W));var U=function(t,e,i,n,a,o,r){var s=0,l=t.length,c=null==i;if("object"===y(i))for(s in a=!0,i)U(t,e,s,i[s],!0,o,r);else if(void 0!==n&&(a=!0,m(n)||(r=!0),c&&(r?(e.call(t,n),e=null):(c=e,e=function(t,e,i){return c.call(x(t),i)})),e))for(;s<l;s++)e(t[s],i,r?n:n.call(t[s],s,e(t[s],i)));return a?t:c?e.call(t):l?e(t[0],i):o},q=/^-ms-/,V=/-([a-z])/g;function Y(t,e){return e.toUpperCase()}function $(t){return t.replace(q,"ms-").replace(V,Y)}var K=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function Q(){this.expando=x.expando+Q.uid++}Q.uid=1,Q.prototype={cache:function(t){var e=t[this.expando];return e||(e={},K(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,i){var n,a=this.cache(t);if("string"==typeof e)a[$(e)]=i;else for(n in e)a[$(n)]=e[n];return a},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][$(e)]},access:function(t,e,i){return void 0===e||e&&"string"==typeof e&&void 0===i?this.get(t,e):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,n=t[this.expando];if(void 0!==n){if(void 0!==e){i=(e=Array.isArray(e)?e.map($):(e=$(e))in n?[e]:e.match(F)||[]).length;for(;i--;)delete n[e[i]]}(void 0===e||x.isEmptyObject(n))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!x.isEmptyObject(e)}};var G=new Q,Z=new Q,X=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,J=/[A-Z]/g;function tt(t,e,i){var n;if(void 0===i&&1===t.nodeType)if(n="data-"+e.replace(J,"-$&").toLowerCase(),"string"==typeof(i=t.getAttribute(n))){try{i=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:X.test(t)?JSON.parse(t):t)}(i)}catch(t){}Z.set(t,e,i)}else i=void 0;return i}x.extend({hasData:function(t){return Z.hasData(t)||G.hasData(t)},data:function(t,e,i){return Z.access(t,e,i)},removeData:function(t,e){Z.remove(t,e)},_data:function(t,e,i){return G.access(t,e,i)},_removeData:function(t,e){G.remove(t,e)}}),x.fn.extend({data:function(t,e){var i,n,a,o=this[0],r=o&&o.attributes;if(void 0===t){if(this.length&&(a=Z.get(o),1===o.nodeType&&!G.get(o,"hasDataAttrs"))){for(i=r.length;i--;)r[i]&&0===(n=r[i].name).indexOf("data-")&&(n=$(n.slice(5)),tt(o,n,a[n]));G.set(o,"hasDataAttrs",!0)}return a}return"object"==typeof t?this.each(function(){Z.set(this,t)}):U(this,function(e){var i;if(o&&void 0===e){if(void 0!==(i=Z.get(o,t)))return i;if(void 0!==(i=tt(o,t)))return i}else this.each(function(){Z.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Z.remove(this,t)})}}),x.extend({queue:function(t,e,i){var n;if(t)return n=G.get(t,e=(e||"fx")+"queue"),i&&(!n||Array.isArray(i)?n=G.access(t,e,x.makeArray(i)):n.push(i)),n||[]},dequeue:function(t,e){var i=x.queue(t,e=e||"fx"),n=i.length,a=i.shift(),o=x._queueHooks(t,e);"inprogress"===a&&(a=i.shift(),n--),a&&("fx"===e&&i.unshift("inprogress"),delete o.stop,a.call(t,function(){x.dequeue(t,e)},o)),!n&&o&&o.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return G.get(t,i)||G.access(t,i,{empty:x.Callbacks("once memory").add(function(){G.remove(t,[e+"queue",i])})})}}),x.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?x.queue(this[0],t):void 0===e?this:this.each(function(){var i=x.queue(this,t,e);x._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&x.dequeue(this,t)})},dequeue:function(t){return this.each(function(){x.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,a=x.Deferred(),o=this,r=this.length,s=function(){--n||a.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";r--;)(i=G.get(o[r],t+"queueHooks"))&&i.empty&&(n++,i.empty.add(s));return s(),a.promise(e)}});var et=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,it=new RegExp("^(?:([+-])=|)("+et+")([a-z%]*)$","i"),nt=["Top","Right","Bottom","Left"],at=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&x.contains(t.ownerDocument,t)&&"none"===x.css(t,"display")},ot=function(t,e,i,n){var a,o,r={};for(o in e)r[o]=t.style[o],t.style[o]=e[o];for(o in a=i.apply(t,n||[]),e)t.style[o]=r[o];return a},rt={};function st(t){var e,i=t.ownerDocument,n=t.nodeName,a=rt[n];return a||(e=i.body.appendChild(i.createElement(n)),a=x.css(e,"display"),e.parentNode.removeChild(e),"none"===a&&(a="block"),rt[n]=a,a)}function lt(t,e){for(var i,n,a=[],o=0,r=t.length;o<r;o++)(n=t[o]).style&&(i=n.style.display,e?("none"===i&&(a[o]=G.get(n,"display")||null,a[o]||(n.style.display="")),""===n.style.display&&at(n)&&(a[o]=st(n))):"none"!==i&&(a[o]="none",G.set(n,"display",i)));for(o=0;o<r;o++)null!=a[o]&&(t[o].style.display=a[o]);return t}x.fn.extend({show:function(){return lt(this,!0)},hide:function(){return lt(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){at(this)?x(this).show():x(this).hide()})}});var ct=/^(?:checkbox|radio)$/i,dt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,ht=/^$|^module$|\/(?:java|ecma)script/i,ut={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ft(t,e){var i;return i=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&M(t,e)?x.merge([t],i):i}function pt(t,e){for(var i=0,n=t.length;i<n;i++)G.set(t[i],"globalEval",!e||G.get(e[i],"globalEval"))}ut.optgroup=ut.option,ut.tbody=ut.tfoot=ut.colgroup=ut.caption=ut.thead,ut.th=ut.td;var mt=/<|&#?\w+;/;function gt(t,e,i,n,a){for(var o,r,s,l,c,d,h=e.createDocumentFragment(),u=[],f=0,p=t.length;f<p;f++)if((o=t[f])||0===o)if("object"===y(o))x.merge(u,o.nodeType?[o]:o);else if(mt.test(o)){for(r=r||h.appendChild(e.createElement("div")),s=(dt.exec(o)||["",""])[1].toLowerCase(),r.innerHTML=(l=ut[s]||ut._default)[1]+x.htmlPrefilter(o)+l[2],d=l[0];d--;)r=r.lastChild;x.merge(u,r.childNodes),(r=h.firstChild).textContent=""}else u.push(e.createTextNode(o));for(h.textContent="",f=0;o=u[f++];)if(n&&x.inArray(o,n)>-1)a&&a.push(o);else if(c=x.contains(o.ownerDocument,o),r=ft(h.appendChild(o),"script"),c&&pt(r),i)for(d=0;o=r[d++];)ht.test(o.type||"")&&i.push(o);return h}!function(){var t=n.createDocumentFragment().appendChild(n.createElement("div")),e=n.createElement("input");e.setAttribute("type","radio"),e.setAttribute("checked","checked"),e.setAttribute("name","t"),t.appendChild(e),p.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",p.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var _t=n.documentElement,vt=/^key/,yt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,bt=/^([^.]*)(?:\.(.+)|)/;function xt(){return!0}function Tt(){return!1}function wt(){try{return n.activeElement}catch(t){}}function kt(t,e,i,n,a,o){var r,s;if("object"==typeof e){for(s in"string"!=typeof i&&(n=n||i,i=void 0),e)kt(t,s,i,n,e[s],o);return t}if(null==n&&null==a?(a=i,n=i=void 0):null==a&&("string"==typeof i?(a=n,n=void 0):(a=n,n=i,i=void 0)),!1===a)a=Tt;else if(!a)return t;return 1===o&&(r=a,(a=function(t){return x().off(t),r.apply(this,arguments)}).guid=r.guid||(r.guid=x.guid++)),t.each(function(){x.event.add(this,e,a,n,i)})}x.event={global:{},add:function(t,e,i,n,a){var o,r,s,l,c,d,h,u,f,p,m,g=G.get(t);if(g)for(i.handler&&(i=(o=i).handler,a=o.selector),a&&x.find.matchesSelector(_t,a),i.guid||(i.guid=x.guid++),(l=g.events)||(l=g.events={}),(r=g.handle)||(r=g.handle=function(e){return void 0!==x&&x.event.triggered!==e.type?x.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(F)||[""]).length;c--;)f=m=(s=bt.exec(e[c])||[])[1],p=(s[2]||"").split(".").sort(),f&&(h=x.event.special[f]||{},h=x.event.special[f=(a?h.delegateType:h.bindType)||f]||{},d=x.extend({type:f,origType:m,data:n,handler:i,guid:i.guid,selector:a,needsContext:a&&x.expr.match.needsContext.test(a),namespace:p.join(".")},o),(u=l[f])||((u=l[f]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(t,n,p,r)||t.addEventListener&&t.addEventListener(f,r)),h.add&&(h.add.call(t,d),d.handler.guid||(d.handler.guid=i.guid)),a?u.splice(u.delegateCount++,0,d):u.push(d),x.event.global[f]=!0)},remove:function(t,e,i,n,a){var o,r,s,l,c,d,h,u,f,p,m,g=G.hasData(t)&&G.get(t);if(g&&(l=g.events)){for(c=(e=(e||"").match(F)||[""]).length;c--;)if(f=m=(s=bt.exec(e[c])||[])[1],p=(s[2]||"").split(".").sort(),f){for(h=x.event.special[f]||{},u=l[f=(n?h.delegateType:h.bindType)||f]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),r=o=u.length;o--;)d=u[o],!a&&m!==d.origType||i&&i.guid!==d.guid||s&&!s.test(d.namespace)||n&&n!==d.selector&&("**"!==n||!d.selector)||(u.splice(o,1),d.selector&&u.delegateCount--,h.remove&&h.remove.call(t,d));r&&!u.length&&(h.teardown&&!1!==h.teardown.call(t,p,g.handle)||x.removeEvent(t,f,g.handle),delete l[f])}else for(f in l)x.event.remove(t,f+e[c],i,n,!0);x.isEmptyObject(l)&&G.remove(t,"handle events")}},dispatch:function(t){var e,i,n,a,o,r,s=x.event.fix(t),l=new Array(arguments.length),c=(G.get(this,"events")||{})[s.type]||[],d=x.event.special[s.type]||{};for(l[0]=s,e=1;e<arguments.length;e++)l[e]=arguments[e];if(s.delegateTarget=this,!d.preDispatch||!1!==d.preDispatch.call(this,s)){for(r=x.event.handlers.call(this,s,c),e=0;(a=r[e++])&&!s.isPropagationStopped();)for(s.currentTarget=a.elem,i=0;(o=a.handlers[i++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(n=((x.event.special[o.origType]||{}).handle||o.handler).apply(a.elem,l))&&!1===(s.result=n)&&(s.preventDefault(),s.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,s),s.result}},handlers:function(t,e){var i,n,a,o,r,s=[],l=e.delegateCount,c=t.target;if(l&&c.nodeType&&!("click"===t.type&&t.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==t.type||!0!==c.disabled)){for(o=[],r={},i=0;i<l;i++)void 0===r[a=(n=e[i]).selector+" "]&&(r[a]=n.needsContext?x(a,this).index(c)>-1:x.find(a,this,null,[c]).length),r[a]&&o.push(n);o.length&&s.push({elem:c,handlers:o})}return c=this,l<e.length&&s.push({elem:c,handlers:e.slice(l)}),s},addProp:function(t,e){Object.defineProperty(x.Event.prototype,t,{enumerable:!0,configurable:!0,get:m(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[x.expando]?t:new x.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==wt()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===wt()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&M(this,"input"))return this.click(),!1},_default:function(t){return M(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},x.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)},x.Event=function(t,e){if(!(this instanceof x.Event))return new x.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?xt:Tt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&x.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[x.expando]=!0},x.Event.prototype={constructor:x.Event,isDefaultPrevented:Tt,isPropagationStopped:Tt,isImmediatePropagationStopped:Tt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=xt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=xt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=xt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},x.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&vt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&yt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},x.event.addProp),x.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){x.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=t.relatedTarget,a=t.handleObj;return n&&(n===this||x.contains(this,n))||(t.type=a.origType,i=a.handler.apply(this,arguments),t.type=e),i}}}),x.fn.extend({on:function(t,e,i,n){return kt(this,t,e,i,n)},one:function(t,e,i,n){return kt(this,t,e,i,n,1)},off:function(t,e,i){var n,a;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,x(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(a in t)this.off(a,e,t[a]);return this}return!1!==e&&"function"!=typeof e||(i=e,e=void 0),!1===i&&(i=Tt),this.each(function(){x.event.remove(this,t,i,e)})}});var Lt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Dt=/<script|<style|<link/i,St=/checked\s*(?:[^=]|=\s*.checked.)/i,Mt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Ct(t,e){return M(t,"table")&&M(11!==e.nodeType?e:e.firstChild,"tr")&&x(t).children("tbody")[0]||t}function Et(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function At(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function It(t,e){var i,n,a,o,r,s,l,c;if(1===e.nodeType){if(G.hasData(t)&&(o=G.access(t),r=G.set(e,o),c=o.events))for(a in delete r.handle,r.events={},c)for(i=0,n=c[a].length;i<n;i++)x.event.add(e,a,c[a][i]);Z.hasData(t)&&(s=Z.access(t),l=x.extend({},s),Z.set(e,l))}}function Nt(t,e){var i=e.nodeName.toLowerCase();"input"===i&&ct.test(t.type)?e.checked=t.checked:"input"!==i&&"textarea"!==i||(e.defaultValue=t.defaultValue)}function Pt(t,e,i,n){e=r.apply([],e);var a,o,s,l,c,d,h=0,u=t.length,f=u-1,g=e[0],_=m(g);if(_||u>1&&"string"==typeof g&&!p.checkClone&&St.test(g))return t.each(function(a){var o=t.eq(a);_&&(e[0]=g.call(this,a,o.html())),Pt(o,e,i,n)});if(u&&(o=(a=gt(e,t[0].ownerDocument,!1,t,n)).firstChild,1===a.childNodes.length&&(a=o),o||n)){for(l=(s=x.map(ft(a,"script"),Et)).length;h<u;h++)c=a,h!==f&&(c=x.clone(c,!0,!0),l&&x.merge(s,ft(c,"script"))),i.call(t[h],c,h);if(l)for(d=s[s.length-1].ownerDocument,x.map(s,At),h=0;h<l;h++)ht.test((c=s[h]).type||"")&&!G.access(c,"globalEval")&&x.contains(d,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?x._evalUrl&&x._evalUrl(c.src):v(c.textContent.replace(Mt,""),d,c))}return t}function Ot(t,e,i){for(var n,a=e?x.filter(e,t):t,o=0;null!=(n=a[o]);o++)i||1!==n.nodeType||x.cleanData(ft(n)),n.parentNode&&(i&&x.contains(n.ownerDocument,n)&&pt(ft(n,"script")),n.parentNode.removeChild(n));return t}x.extend({htmlPrefilter:function(t){return t.replace(Lt,"<$1></$2>")},clone:function(t,e,i){var n,a,o,r,s=t.cloneNode(!0),l=x.contains(t.ownerDocument,t);if(!(p.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||x.isXMLDoc(t)))for(r=ft(s),n=0,a=(o=ft(t)).length;n<a;n++)Nt(o[n],r[n]);if(e)if(i)for(o=o||ft(t),r=r||ft(s),n=0,a=o.length;n<a;n++)It(o[n],r[n]);else It(t,s);return(r=ft(s,"script")).length>0&&pt(r,!l&&ft(t,"script")),s},cleanData:function(t){for(var e,i,n,a=x.event.special,o=0;void 0!==(i=t[o]);o++)if(K(i)){if(e=i[G.expando]){if(e.events)for(n in e.events)a[n]?x.event.remove(i,n):x.removeEvent(i,n,e.handle);i[G.expando]=void 0}i[Z.expando]&&(i[Z.expando]=void 0)}}}),x.fn.extend({detach:function(t){return Ot(this,t,!0)},remove:function(t){return Ot(this,t)},text:function(t){return U(this,function(t){return void 0===t?x.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return Pt(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ct(this,t).appendChild(t)})},prepend:function(){return Pt(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Ct(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return Pt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return Pt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(x.cleanData(ft(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return x.clone(this,t,e)})},html:function(t){return U(this,function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Dt.test(t)&&!ut[(dt.exec(t)||["",""])[1].toLowerCase()]){t=x.htmlPrefilter(t);try{for(;i<n;i++)1===(e=this[i]||{}).nodeType&&(x.cleanData(ft(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return Pt(this,arguments,function(e){var i=this.parentNode;x.inArray(this,t)<0&&(x.cleanData(ft(this)),i&&i.replaceChild(e,this))},t)}}),x.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){x.fn[t]=function(t){for(var i,n=[],a=x(t),o=a.length-1,r=0;r<=o;r++)i=r===o?this:this.clone(!0),x(a[r])[e](i),s.apply(n,i.get());return this.pushStack(n)}});var Ft=new RegExp("^("+et+")(?!px)[a-z%]+$","i"),Rt=function(e){var i=e.ownerDocument.defaultView;return i&&i.opener||(i=t),i.getComputedStyle(e)},Bt=new RegExp(nt.join("|"),"i");function jt(t,e,i){var n,a,o,r,s=t.style;return(i=i||Rt(t))&&(""!==(r=i.getPropertyValue(e)||i[e])||x.contains(t.ownerDocument,t)||(r=x.style(t,e)),!p.pixelBoxStyles()&&Ft.test(r)&&Bt.test(e)&&(n=s.width,a=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=r,r=i.width,s.width=n,s.minWidth=a,s.maxWidth=o)),void 0!==r?r+"":r}function Ht(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function e(){if(d){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",d.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",_t.appendChild(c).appendChild(d);var e=t.getComputedStyle(d);a="1%"!==e.top,l=12===i(e.marginLeft),d.style.right="60%",s=36===i(e.right),o=36===i(e.width),d.style.position="absolute",r=36===d.offsetWidth||"absolute",_t.removeChild(c),d=null}}function i(t){return Math.round(parseFloat(t))}var a,o,r,s,l,c=n.createElement("div"),d=n.createElement("div");d.style&&(d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",p.clearCloneStyle="content-box"===d.style.backgroundClip,x.extend(p,{boxSizingReliable:function(){return e(),o},pixelBoxStyles:function(){return e(),s},pixelPosition:function(){return e(),a},reliableMarginLeft:function(){return e(),l},scrollboxSize:function(){return e(),r}}))}();var zt=/^(none|table(?!-c[ea]).+)/,Wt=/^--/,Ut={position:"absolute",visibility:"hidden",display:"block"},qt={letterSpacing:"0",fontWeight:"400"},Vt=["Webkit","Moz","ms"],Yt=n.createElement("div").style;function $t(t){var e=x.cssProps[t];return e||(e=x.cssProps[t]=function(t){if(t in Yt)return t;for(var e=t[0].toUpperCase()+t.slice(1),i=Vt.length;i--;)if((t=Vt[i]+e)in Yt)return t}(t)||t),e}function Kt(t,e,i){var n=it.exec(e);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):e}function Qt(t,e,i,n,a,o){var r="width"===e?1:0,s=0,l=0;if(i===(n?"border":"content"))return 0;for(;r<4;r+=2)"margin"===i&&(l+=x.css(t,i+nt[r],!0,a)),n?("content"===i&&(l-=x.css(t,"padding"+nt[r],!0,a)),"margin"!==i&&(l-=x.css(t,"border"+nt[r]+"Width",!0,a))):(l+=x.css(t,"padding"+nt[r],!0,a),"padding"!==i?l+=x.css(t,"border"+nt[r]+"Width",!0,a):s+=x.css(t,"border"+nt[r]+"Width",!0,a));return!n&&o>=0&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-l-s-.5))),l}function Gt(t,e,i){var n=Rt(t),a=jt(t,e,n),o="border-box"===x.css(t,"boxSizing",!1,n),r=o;if(Ft.test(a)){if(!i)return a;a="auto"}return r=r&&(p.boxSizingReliable()||a===t.style[e]),("auto"===a||!parseFloat(a)&&"inline"===x.css(t,"display",!1,n))&&(a=t["offset"+e[0].toUpperCase()+e.slice(1)],r=!0),(a=parseFloat(a)||0)+Qt(t,e,i||(o?"border":"content"),r,n,a)+"px"}x.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=jt(t,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var a,o,r,s=$(e),l=Wt.test(e),c=t.style;if(l||(e=$t(s)),r=x.cssHooks[e]||x.cssHooks[s],void 0===i)return r&&"get"in r&&void 0!==(a=r.get(t,!1,n))?a:c[e];"string"==(o=typeof i)&&(a=it.exec(i))&&a[1]&&(i=function(t,e,i,n){var a,o,r=20,s=function(){return x.css(t,e,"")},l=s(),c=i&&i[3]||(x.cssNumber[e]?"":"px"),d=(x.cssNumber[e]||"px"!==c&&+l)&&it.exec(x.css(t,e));if(d&&d[3]!==c){for(l/=2,c=c||d[3],d=+l||1;r--;)x.style(t,e,d+c),(1-o)*(1-(o=s()/l||.5))<=0&&(r=0),d/=o;x.style(t,e,(d*=2)+c),i=i||[]}return i&&(d=+d||+l||0,a=i[1]?d+(i[1]+1)*i[2]:+i[2]),a}(t,e,a),o="number"),null!=i&&i==i&&("number"===o&&(i+=a&&a[3]||(x.cssNumber[s]?"":"px")),p.clearCloneStyle||""!==i||0!==e.indexOf("background")||(c[e]="inherit"),r&&"set"in r&&void 0===(i=r.set(t,i,n))||(l?c.setProperty(e,i):c[e]=i))}},css:function(t,e,i,n){var a,o,r,s=$(e);return Wt.test(e)||(e=$t(s)),(r=x.cssHooks[e]||x.cssHooks[s])&&"get"in r&&(a=r.get(t,!0,i)),void 0===a&&(a=jt(t,e,n)),"normal"===a&&e in qt&&(a=qt[e]),""===i||i?(o=parseFloat(a),!0===i||isFinite(o)?o||0:a):a}}),x.each(["height","width"],function(t,e){x.cssHooks[e]={get:function(t,i,n){if(i)return!zt.test(x.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?Gt(t,e,n):ot(t,Ut,function(){return Gt(t,e,n)})},set:function(t,i,n){var a,o=Rt(t),r="border-box"===x.css(t,"boxSizing",!1,o),s=n&&Qt(t,e,n,r,o);return r&&p.scrollboxSize()===o.position&&(s-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-Qt(t,e,"border",!1,o)-.5)),s&&(a=it.exec(i))&&"px"!==(a[3]||"px")&&(t.style[e]=i,i=x.css(t,e)),Kt(0,i,s)}}}),x.cssHooks.marginLeft=Ht(p.reliableMarginLeft,function(t,e){if(e)return(parseFloat(jt(t,"marginLeft"))||t.getBoundingClientRect().left-ot(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),x.each({margin:"",padding:"",border:"Width"},function(t,e){x.cssHooks[t+e]={expand:function(i){for(var n=0,a={},o="string"==typeof i?i.split(" "):[i];n<4;n++)a[t+nt[n]+e]=o[n]||o[n-2]||o[0];return a}},"margin"!==t&&(x.cssHooks[t+e].set=Kt)}),x.fn.extend({css:function(t,e){return U(this,function(t,e,i){var n,a,o={},r=0;if(Array.isArray(e)){for(n=Rt(t),a=e.length;r<a;r++)o[e[r]]=x.css(t,e[r],!1,n);return o}return void 0!==i?x.style(t,e,i):x.css(t,e)},t,e,arguments.length>1)}}),x.fn.delay=function(e,i){return e=x.fx&&x.fx.speeds[e]||e,this.queue(i=i||"fx",function(i,n){var a=t.setTimeout(i,e);n.stop=function(){t.clearTimeout(a)}})},function(){var t=n.createElement("input"),e=n.createElement("select").appendChild(n.createElement("option"));t.type="checkbox",p.checkOn=""!==t.value,p.optSelected=e.selected,(t=n.createElement("input")).value="t",t.type="radio",p.radioValue="t"===t.value}();var Zt,Xt=x.expr.attrHandle;x.fn.extend({attr:function(t,e){return U(this,x.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){x.removeAttr(this,t)})}}),x.extend({attr:function(t,e,i){var n,a,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?x.prop(t,e,i):(1===o&&x.isXMLDoc(t)||(a=x.attrHooks[e.toLowerCase()]||(x.expr.match.bool.test(e)?Zt:void 0)),void 0!==i?null===i?void x.removeAttr(t,e):a&&"set"in a&&void 0!==(n=a.set(t,i,e))?n:(t.setAttribute(e,i+""),i):a&&"get"in a&&null!==(n=a.get(t,e))?n:null==(n=x.find.attr(t,e))?void 0:n)},attrHooks:{type:{set:function(t,e){if(!p.radioValue&&"radio"===e&&M(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,n=0,a=e&&e.match(F);if(a&&1===t.nodeType)for(;i=a[n++];)t.removeAttribute(i)}}),Zt={set:function(t,e,i){return!1===e?x.removeAttr(t,i):t.setAttribute(i,i),i}},x.each(x.expr.match.bool.source.match(/\w+/g),function(t,e){var i=Xt[e]||x.find.attr;Xt[e]=function(t,e,n){var a,o,r=e.toLowerCase();return n||(o=Xt[r],Xt[r]=a,a=null!=i(t,e,n)?r:null,Xt[r]=o),a}});var Jt=/^(?:input|select|textarea|button)$/i,te=/^(?:a|area)$/i;function ee(t){return(t.match(F)||[]).join(" ")}function ie(t){return t.getAttribute&&t.getAttribute("class")||""}function ne(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(F)||[]}x.fn.extend({prop:function(t,e){return U(this,x.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[x.propFix[t]||t]})}}),x.extend({prop:function(t,e,i){var n,a,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&x.isXMLDoc(t)||(a=x.propHooks[e=x.propFix[e]||e]),void 0!==i?a&&"set"in a&&void 0!==(n=a.set(t,i,e))?n:t[e]=i:a&&"get"in a&&null!==(n=a.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=x.find.attr(t,"tabindex");return e?parseInt(e,10):Jt.test(t.nodeName)||te.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),p.optSelected||(x.propHooks.selected={get:function(t){return null},set:function(t){}}),x.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){x.propFix[this.toLowerCase()]=this}),x.fn.extend({addClass:function(t){var e,i,n,a,o,r,s,l=0;if(m(t))return this.each(function(e){x(this).addClass(t.call(this,e,ie(this)))});if((e=ne(t)).length)for(;i=this[l++];)if(a=ie(i),n=1===i.nodeType&&" "+ee(a)+" "){for(r=0;o=e[r++];)n.indexOf(" "+o+" ")<0&&(n+=o+" ");a!==(s=ee(n))&&i.setAttribute("class",s)}return this},removeClass:function(t){var e,i,n,a,o,r,s,l=0;if(m(t))return this.each(function(e){x(this).removeClass(t.call(this,e,ie(this)))});if(!arguments.length)return this.attr("class","");if((e=ne(t)).length)for(;i=this[l++];)if(a=ie(i),n=1===i.nodeType&&" "+ee(a)+" "){for(r=0;o=e[r++];)for(;n.indexOf(" "+o+" ")>-1;)n=n.replace(" "+o+" "," ");a!==(s=ee(n))&&i.setAttribute("class",s)}return this},toggleClass:function(t,e){var i=typeof t,n="string"===i||Array.isArray(t);return"boolean"==typeof e&&n?e?this.addClass(t):this.removeClass(t):m(t)?this.each(function(i){x(this).toggleClass(t.call(this,i,ie(this),e),e)}):this.each(function(){var e,a,o,r;if(n)for(a=0,o=x(this),r=ne(t);e=r[a++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==i||((e=ie(this))&&G.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":G.get(this,"__className__")||""))})},hasClass:function(t){var e,i,n=0;for(e=" "+t+" ";i=this[n++];)if(1===i.nodeType&&(" "+ee(ie(i))+" ").indexOf(e)>-1)return!0;return!1}});var ae=/\r/g;x.fn.extend({val:function(t){var e,i,n,a=this[0];return arguments.length?(n=m(t),this.each(function(i){var a;1===this.nodeType&&(null==(a=n?t.call(this,i,x(this).val()):t)?a="":"number"==typeof a?a+="":Array.isArray(a)&&(a=x.map(a,function(t){return null==t?"":t+""})),(e=x.valHooks[this.type]||x.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,a,"value")||(this.value=a))})):a?(e=x.valHooks[a.type]||x.valHooks[a.nodeName.toLowerCase()])&&"get"in e&&void 0!==(i=e.get(a,"value"))?i:"string"==typeof(i=a.value)?i.replace(ae,""):null==i?"":i:void 0}}),x.extend({valHooks:{option:{get:function(t){var e=x.find.attr(t,"value");return null!=e?e:ee(x.text(t))}},select:{get:function(t){var e,i,n,a=t.options,o=t.selectedIndex,r="select-one"===t.type,s=r?null:[],l=r?o+1:a.length;for(n=o<0?l:r?o:0;n<l;n++)if(((i=a[n]).selected||n===o)&&!i.disabled&&(!i.parentNode.disabled||!M(i.parentNode,"optgroup"))){if(e=x(i).val(),r)return e;s.push(e)}return s},set:function(t,e){for(var i,n,a=t.options,o=x.makeArray(e),r=a.length;r--;)((n=a[r]).selected=x.inArray(x.valHooks.option.get(n),o)>-1)&&(i=!0);return i||(t.selectedIndex=-1),o}}}}),x.each(["radio","checkbox"],function(){x.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=x.inArray(x(t).val(),e)>-1}},p.checkOn||(x.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),p.focusin="onfocusin"in t;var oe=/^(?:focusinfocus|focusoutblur)$/,re=function(t){t.stopPropagation()};x.extend(x.event,{trigger:function(e,i,a,o){var r,s,l,c,d,u,f,p,_=[a||n],v=h.call(e,"type")?e.type:e,y=h.call(e,"namespace")?e.namespace.split("."):[];if(s=p=l=a=a||n,3!==a.nodeType&&8!==a.nodeType&&!oe.test(v+x.event.triggered)&&(v.indexOf(".")>-1&&(v=(y=v.split(".")).shift(),y.sort()),d=v.indexOf(":")<0&&"on"+v,(e=e[x.expando]?e:new x.Event(v,"object"==typeof e&&e)).isTrigger=o?2:3,e.namespace=y.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=a),i=null==i?[e]:x.makeArray(i,[e]),f=x.event.special[v]||{},o||!f.trigger||!1!==f.trigger.apply(a,i))){if(!o&&!f.noBubble&&!g(a)){for(oe.test((c=f.delegateType||v)+v)||(s=s.parentNode);s;s=s.parentNode)_.push(s),l=s;l===(a.ownerDocument||n)&&_.push(l.defaultView||l.parentWindow||t)}for(r=0;(s=_[r++])&&!e.isPropagationStopped();)p=s,e.type=r>1?c:f.bindType||v,(u=(G.get(s,"events")||{})[e.type]&&G.get(s,"handle"))&&u.apply(s,i),(u=d&&s[d])&&u.apply&&K(s)&&(e.result=u.apply(s,i),!1===e.result&&e.preventDefault());return e.type=v,o||e.isDefaultPrevented()||f._default&&!1!==f._default.apply(_.pop(),i)||!K(a)||d&&m(a[v])&&!g(a)&&((l=a[d])&&(a[d]=null),x.event.triggered=v,e.isPropagationStopped()&&p.addEventListener(v,re),a[v](),e.isPropagationStopped()&&p.removeEventListener(v,re),x.event.triggered=void 0,l&&(a[d]=l)),e.result}},simulate:function(t,e,i){var n=x.extend(new x.Event,i,{type:t,isSimulated:!0});x.event.trigger(n,null,e)}}),x.fn.extend({trigger:function(t,e){return this.each(function(){x.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];if(i)return x.event.trigger(t,e,i,!0)}}),p.focusin||x.each({focus:"focusin",blur:"focusout"},function(t,e){var i=function(t){x.event.simulate(e,t.target,x.event.fix(t))};x.event.special[e]={setup:function(){var n=this.ownerDocument||this,a=G.access(n,e);a||n.addEventListener(t,i,!0),G.access(n,e,(a||0)+1)},teardown:function(){var n=this.ownerDocument||this,a=G.access(n,e)-1;a?G.access(n,e,a):(n.removeEventListener(t,i,!0),G.remove(n,e))}}});var se=/\[\]$/,le=/\r?\n/g,ce=/^(?:submit|button|image|reset|file)$/i,de=/^(?:input|select|textarea|keygen)/i;function he(t,e,i,n){var a;if(Array.isArray(e))x.each(e,function(e,a){i||se.test(t)?n(t,a):he(t+"["+("object"==typeof a&&null!=a?e:"")+"]",a,i,n)});else if(i||"object"!==y(e))n(t,e);else for(a in e)he(t+"["+a+"]",e[a],i,n)}x.param=function(t,e){var i,n=[],a=function(t,e){var i=m(e)?e():e;n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==i?"":i)};if(Array.isArray(t)||t.jquery&&!x.isPlainObject(t))x.each(t,function(){a(this.name,this.value)});else for(i in t)he(i,t[i],e,a);return n.join("&")},x.fn.extend({serialize:function(){return x.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=x.prop(this,"elements");return t?x.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!x(this).is(":disabled")&&de.test(this.nodeName)&&!ce.test(t)&&(this.checked||!ct.test(t))}).map(function(t,e){var i=x(this).val();return null==i?null:Array.isArray(i)?x.map(i,function(t){return{name:e.name,value:t.replace(le,"\r\n")}}):{name:e.name,value:i.replace(le,"\r\n")}}).get()}}),x.fn.extend({wrapAll:function(t){var e;return this[0]&&(m(t)&&(t=t.call(this[0])),e=x(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return m(t)?this.each(function(e){x(this).wrapInner(t.call(this,e))}):this.each(function(){var e=x(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=m(t);return this.each(function(i){x(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){x(this).replaceWith(this.childNodes)}),this}}),x.expr.pseudos.hidden=function(t){return!x.expr.pseudos.visible(t)},x.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},p.createHTMLDocument=function(){var t=n.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",2===t.childNodes.length}(),x.parseHTML=function(t,e,i){return"string"!=typeof t?[]:("boolean"==typeof e&&(i=e,e=!1),e||(p.createHTMLDocument?((a=(e=n.implementation.createHTMLDocument("")).createElement("base")).href=n.location.href,e.head.appendChild(a)):e=n),o=C.exec(t),r=!i&&[],o?[e.createElement(o[1])]:(o=gt([t],e,r),r&&r.length&&x(r).remove(),x.merge([],o.childNodes)));var a,o,r},x.offset={setOffset:function(t,e,i){var n,a,o,r,s,l,c=x.css(t,"position"),d=x(t),h={};"static"===c&&(t.style.position="relative"),s=d.offset(),o=x.css(t,"top"),l=x.css(t,"left"),("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1?(r=(n=d.position()).top,a=n.left):(r=parseFloat(o)||0,a=parseFloat(l)||0),m(e)&&(e=e.call(t,i,x.extend({},s))),null!=e.top&&(h.top=e.top-s.top+r),null!=e.left&&(h.left=e.left-s.left+a),"using"in e?e.using.call(t,h):d.css(h)}},x.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){x.offset.setOffset(this,t,e)});var e,i,n=this[0];return n?n.getClientRects().length?{top:(e=n.getBoundingClientRect()).top+(i=n.ownerDocument.defaultView).pageYOffset,left:e.left+i.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,i,n=this[0],a={top:0,left:0};if("fixed"===x.css(n,"position"))e=n.getBoundingClientRect();else{for(e=this.offset(),i=n.ownerDocument,t=n.offsetParent||i.documentElement;t&&(t===i.body||t===i.documentElement)&&"static"===x.css(t,"position");)t=t.parentNode;t&&t!==n&&1===t.nodeType&&((a=x(t).offset()).top+=x.css(t,"borderTopWidth",!0),a.left+=x.css(t,"borderLeftWidth",!0))}return{top:e.top-a.top-x.css(n,"marginTop",!0),left:e.left-a.left-x.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===x.css(t,"position");)t=t.offsetParent;return t||_t})}}),x.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var i="pageYOffset"===e;x.fn[t]=function(n){return U(this,function(t,n,a){var o;if(g(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===a)return o?o[e]:t[n];o?o.scrollTo(i?o.pageXOffset:a,i?a:o.pageYOffset):t[n]=a},t,n,arguments.length)}}),x.each(["top","left"],function(t,e){x.cssHooks[e]=Ht(p.pixelPosition,function(t,i){if(i)return i=jt(t,e),Ft.test(i)?x(t).position()[e]+"px":i})}),x.each({Height:"height",Width:"width"},function(t,e){x.each({padding:"inner"+t,content:e,"":"outer"+t},function(i,n){x.fn[n]=function(a,o){var r=arguments.length&&(i||"boolean"!=typeof a),s=i||(!0===a||!0===o?"margin":"border");return U(this,function(e,i,a){var o;return g(e)?0===n.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===a?x.css(e,i,s):x.style(e,i,a,s)},e,r?a:void 0,r)}})}),x.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){x.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),x.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),x.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}}),x.proxy=function(t,e){var i,n,a;if("string"==typeof e&&(i=t[e],e=t,t=i),m(t))return n=o.call(arguments,2),(a=function(){return t.apply(e||this,n.concat(o.call(arguments)))}).guid=t.guid=t.guid||x.guid++,a},x.holdReady=function(t){t?x.readyWait++:x.ready(!0)},x.isArray=Array.isArray,x.parseJSON=JSON.parse,x.nodeName=M,x.isFunction=m,x.isWindow=g,x.camelCase=$,x.type=y,x.now=Date.now,x.isNumeric=function(t){var e=x.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return x});var ue=t.jQuery,fe=t.$;return x.noConflict=function(e){return t.$===x&&(t.$=fe),e&&t.jQuery===x&&(t.jQuery=ue),x},e||(t.jQuery=t.$=x),x}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Popper=e()}(this,function(){"use strict";function t(t){return t&&"[object Function]"==={}.toString.call(t)}function e(t,e){if(1!==t.nodeType)return[];var i=getComputedStyle(t,null);return e?i[e]:i}function i(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function n(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var a=e(t);return/(auto|scroll|overlay)/.test(a.overflow+a.overflowY+a.overflowX)?t:n(i(t))}function a(t){return 11===t?U:10===t?q:U||q}function o(t){if(!t)return document.documentElement;for(var i=a(10)?document.body:null,n=t.offsetParent;n===i&&t.nextElementSibling;)n=(t=t.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TD","TABLE"].indexOf(n.nodeName)&&"static"===e(n,"position")?o(n):n:t?t.ownerDocument.documentElement:document.documentElement}function r(t){return null===t.parentNode?t:r(t.parentNode)}function s(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;var i=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,n=i?t:e,a=i?e:t,l=document.createRange();l.setStart(n,0),l.setEnd(a,0);var c=l.commonAncestorContainer;if(t!==c&&e!==c||n.contains(a))return function(t){var e=t.nodeName;return"BODY"!==e&&("HTML"===e||o(t.firstElementChild)===t)}(c)?c:o(c);var d=r(t);return d.host?s(d.host,e):s(t,r(e).host)}function l(t){var e="top"===(1<arguments.length&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",i=t.nodeName;return"BODY"===i||"HTML"===i?(t.ownerDocument.scrollingElement||t.ownerDocument.documentElement)[e]:t[e]}function c(t,e){var i=2<arguments.length&&void 0!==arguments[2]&&arguments[2],n=l(e,"top"),a=l(e,"left"),o=i?-1:1;return t.top+=n*o,t.bottom+=n*o,t.left+=a*o,t.right+=a*o,t}function d(t,e){var i="x"===e?"Left":"Top",n="Left"==i?"Right":"Bottom";return parseFloat(t["border"+i+"Width"],10)+parseFloat(t["border"+n+"Width"],10)}function h(t,e,i,n){return R(e["offset"+t],e["scroll"+t],i["client"+t],i["offset"+t],i["scroll"+t],a(10)?parseInt(i["offset"+t])+parseInt(n["margin"+("Height"===t?"Top":"Left")])+parseInt(n["margin"+("Height"===t?"Bottom":"Right")]):0)}function u(t){var e=t.body,i=t.documentElement,n=a(10)&&getComputedStyle(i);return{height:h("Height",e,i,n),width:h("Width",e,i,n)}}function f(t){return K({},t,{right:t.left+t.width,bottom:t.top+t.height})}function p(t){var i={};try{if(a(10)){i=t.getBoundingClientRect();var n=l(t,"top"),o=l(t,"left");i.top+=n,i.left+=o,i.bottom+=n,i.right+=o}else i=t.getBoundingClientRect()}catch(t){}var r={left:i.left,top:i.top,width:i.right-i.left,height:i.bottom-i.top},s="HTML"===t.nodeName?u(t.ownerDocument):{},c=t.offsetWidth-(s.width||t.clientWidth||r.right-r.left),h=t.offsetHeight-(s.height||t.clientHeight||r.bottom-r.top);if(c||h){var p=e(t);c-=d(p,"x"),h-=d(p,"y"),r.width-=c,r.height-=h}return f(r)}function m(t,i){var o=2<arguments.length&&void 0!==arguments[2]&&arguments[2],r=a(10),s="HTML"===i.nodeName,l=p(t),d=p(i),h=n(t),u=e(i),m=parseFloat(u.borderTopWidth,10),g=parseFloat(u.borderLeftWidth,10);o&&s&&(d.top=R(d.top,0),d.left=R(d.left,0));var _=f({top:l.top-d.top-m,left:l.left-d.left-g,width:l.width,height:l.height});if(_.marginTop=0,_.marginLeft=0,!r&&s){var v=parseFloat(u.marginTop,10),y=parseFloat(u.marginLeft,10);_.top-=m-v,_.bottom-=m-v,_.left-=g-y,_.right-=g-y,_.marginTop=v,_.marginLeft=y}return(r&&!o?i.contains(h):i===h&&"BODY"!==h.nodeName)&&(_=c(_,i)),_}function g(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],i=t.ownerDocument.documentElement,n=m(t,i),a=R(i.clientWidth,window.innerWidth||0),o=R(i.clientHeight,window.innerHeight||0),r=e?0:l(i),s=e?0:l(i,"left");return f({top:r-n.top+n.marginTop,left:s-n.left+n.marginLeft,width:a,height:o})}function _(t){var n=t.nodeName;return"BODY"!==n&&"HTML"!==n&&("fixed"===e(t,"position")||_(i(t)))}function v(t){if(!t||!t.parentElement||a())return document.documentElement;for(var i=t.parentElement;i&&"none"===e(i,"transform");)i=i.parentElement;return i||document.documentElement}function y(t,e,a,o){var r=4<arguments.length&&void 0!==arguments[4]&&arguments[4],l={top:0,left:0},c=r?v(t):s(t,e);if("viewport"===o)l=g(c,r);else{var d;"scrollParent"===o?"BODY"===(d=n(i(e))).nodeName&&(d=t.ownerDocument.documentElement):d="window"===o?t.ownerDocument.documentElement:o;var h=m(d,c,r);if("HTML"!==d.nodeName||_(c))l=h;else{var f=u(t.ownerDocument),p=f.height,y=f.width;l.top+=h.top-h.marginTop,l.bottom=p+h.top,l.left+=h.left-h.marginLeft,l.right=y+h.left}}var b="number"==typeof(a=a||0);return l.left+=b?a:a.left||0,l.top+=b?a:a.top||0,l.right-=b?a:a.right||0,l.bottom-=b?a:a.bottom||0,l}function b(t,e,i,n,a){var o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var r=y(i,n,o,a),s={top:{width:r.width,height:e.top-r.top},right:{width:r.right-e.right,height:r.height},bottom:{width:r.width,height:r.bottom-e.bottom},left:{width:e.left-r.left,height:r.height}},l=Object.keys(s).map(function(t){return K({key:t},s[t],{area:function(t){return t.width*t.height}(s[t])})}).sort(function(t,e){return e.area-t.area}),c=l.filter(function(t){return t.width>=i.clientWidth&&t.height>=i.clientHeight}),d=0<c.length?c[0].key:l[0].key,h=t.split("-")[1];return d+(h?"-"+h:"")}function x(t,e,i){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return m(i,n?v(e):s(e,i),n)}function T(t){var e=getComputedStyle(t),i=parseFloat(e.marginTop)+parseFloat(e.marginBottom),n=parseFloat(e.marginLeft)+parseFloat(e.marginRight);return{width:t.offsetWidth+n,height:t.offsetHeight+i}}function w(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(t){return e[t]})}function k(t,e,i){i=i.split("-")[0];var n=T(t),a={width:n.width,height:n.height},o=-1!==["right","left"].indexOf(i),r=o?"top":"left",s=o?"left":"top",l=o?"height":"width",c=o?"width":"height";return a[r]=e[r]+e[l]/2-n[l]/2,a[s]=i===s?e[s]-n[c]:e[w(s)],a}function L(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function D(e,i,n){return(void 0===n?e:e.slice(0,function(t,e,i){if(Array.prototype.findIndex)return t.findIndex(function(t){return t[e]===i});var n=L(t,function(t){return t[e]===i});return t.indexOf(n)}(e,"name",n))).forEach(function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&t(n)&&(i.offsets.popper=f(i.offsets.popper),i.offsets.reference=f(i.offsets.reference),i=n(i,e))}),i}function S(t,e){return t.some(function(t){return t.enabled&&t.name===e})}function M(t){for(var e=[!1,"ms","Webkit","Moz","O"],i=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<e.length;n++){var a=e[n],o=a?""+a+i:t;if(void 0!==document.body.style[o])return o}return null}function C(t){var e=t.ownerDocument;return e?e.defaultView:window}function E(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function A(t,e){Object.keys(e).forEach(function(i){var n="";-1!==["width","height","top","right","bottom","left"].indexOf(i)&&E(e[i])&&(n="px"),t.style[i]=e[i]+n})}function I(t,e,i){var n=L(t,function(t){return t.name===e}),a=!!n&&t.some(function(t){return t.name===i&&t.enabled&&t.order<n.order});if(!a){var o="`"+e+"`";console.warn("`"+i+"` modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return a}function N(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],i=G.indexOf(t),n=G.slice(i+1).concat(G.slice(0,i));return e?n.reverse():n}for(var P=Math.min,O=Math.round,F=Math.floor,R=Math.max,B="undefined"!=typeof window&&"undefined"!=typeof document,j=["Edge","Trident","Firefox"],H=0,z=0;z<j.length;z+=1)if(B&&0<=navigator.userAgent.indexOf(j[z])){H=1;break}var W=B&&window.Promise?function(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then(function(){e=!1,t()}))}}:function(t){var e=!1;return function(){e||(e=!0,setTimeout(function(){e=!1,t()},H))}},U=B&&!(!window.MSInputMethodContext||!document.documentMode),q=B&&/MSIE 10/.test(navigator.userAgent),V=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},Y=function(){function t(t,e){for(var i,n=0;n<e.length;n++)(i=e[n]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),$=function(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t},K=Object.assign||function(t){for(var e,i=1;i<arguments.length;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},Q=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],G=Q.slice(3),Z=function(){function e(i,n){var a=this,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};V(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(a.update)},this.update=W(this.update.bind(this)),this.options=K({},e.Defaults,o),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=i&&i.jquery?i[0]:i,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(K({},e.Defaults.modifiers,o.modifiers)).forEach(function(t){a.options.modifiers[t]=K({},e.Defaults.modifiers[t]||{},o.modifiers?o.modifiers[t]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(t){return K({name:t},a.options.modifiers[t])}).sort(function(t,e){return t.order-e.order}),this.modifiers.forEach(function(e){e.enabled&&t(e.onLoad)&&e.onLoad(a.reference,a.popper,a.options,e,a.state)}),this.update();var r=this.options.eventsEnabled;r&&this.enableEventListeners(),this.state.eventsEnabled=r}return Y(e,[{key:"update",value:function(){return(function(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=x(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=b(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=k(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=D(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}).call(this)}},{key:"destroy",value:function(){return(function(){return this.state.isDestroyed=!0,S(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[M("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}).call(this)}},{key:"enableEventListeners",value:function(){return(function(){this.state.eventsEnabled||(this.state=function(t,e,i,a){i.updateBound=a,C(t).addEventListener("resize",i.updateBound,{passive:!0});var o=n(t);return function t(e,i,a,o){var r="BODY"===e.nodeName,s=r?e.ownerDocument.defaultView:e;s.addEventListener(i,a,{passive:!0}),r||t(n(s.parentNode),i,a,o),o.push(s)}(o,"scroll",i.updateBound,i.scrollParents),i.scrollElement=o,i.eventsEnabled=!0,i}(this.reference,0,this.state,this.scheduleUpdate))}).call(this)}},{key:"disableEventListeners",value:function(){return(function(){var t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(t=this.state,C(this.reference).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}).call(this)}}]),e}();return Z.Utils=("undefined"==typeof window?global:window).PopperUtils,Z.placements=Q,Z.Defaults={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(t){var e=t.placement,i=e.split("-")[0],n=e.split("-")[1];if(n){var a=t.offsets,o=a.reference,r=a.popper,s=-1!==["bottom","top"].indexOf(i),l=s?"left":"top",c=s?"width":"height",d={start:$({},l,o[l]),end:$({},l,o[l]+o[c]-r[c])};t.offsets.popper=K({},r,d[n])}return t}},offset:{order:200,enabled:!0,fn:function(t,e){var i,n=e.offset,a=t.offsets,o=a.popper,r=a.reference,s=t.placement.split("-")[0];return i=E(+n)?[+n,0]:function(t,e,i,n){var a=[0,0],o=-1!==["right","left"].indexOf(n),r=t.split(/(\+|\-)/).map(function(t){return t.trim()}),s=r.indexOf(L(r,function(t){return-1!==t.search(/,|\s/)}));r[s]&&-1===r[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,c=-1===s?[r]:[r.slice(0,s).concat([r[s].split(l)[0]]),[r[s].split(l)[1]].concat(r.slice(s+1))];return(c=c.map(function(t,n){var a=(1===n?!o:o)?"height":"width",r=!1;return t.reduce(function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,r=!0,t):r?(t[t.length-1]+=e,r=!1,t):t.concat(e)},[]).map(function(t){return function(t,e,i,n){var a=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+a[1],r=a[2];if(!o)return t;if(0===r.indexOf("%")){var s;switch(r){case"%p":s=i;break;case"%":case"%r":default:s=n}return f(s)[e]/100*o}return"vh"===r||"vw"===r?("vh"===r?R(document.documentElement.clientHeight,window.innerHeight||0):R(document.documentElement.clientWidth,window.innerWidth||0))/100*o:o}(t,a,e,i)})})).forEach(function(t,e){t.forEach(function(i,n){E(i)&&(a[e]+=i*("-"===t[n-1]?-1:1))})}),a}(n,o,r,s),"left"===s?(o.top+=i[0],o.left-=i[1]):"right"===s?(o.top+=i[0],o.left+=i[1]):"top"===s?(o.left+=i[0],o.top-=i[1]):"bottom"===s&&(o.left+=i[0],o.top+=i[1]),t.popper=o,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(t,e){var i=e.boundariesElement||o(t.instance.popper);t.instance.reference===i&&(i=o(i));var n=M("transform"),a=t.instance.popper.style,r=a.top,s=a.left,l=a[n];a.top="",a.left="",a[n]="";var c=y(t.instance.popper,t.instance.reference,e.padding,i,t.positionFixed);a.top=r,a.left=s,a[n]=l,e.boundaries=c;var d=t.offsets.popper,h={primary:function(t){var i=d[t];return d[t]<c[t]&&!e.escapeWithReference&&(i=R(d[t],c[t])),$({},t,i)},secondary:function(t){var i="right"===t?"left":"top",n=d[i];return d[t]>c[t]&&!e.escapeWithReference&&(n=P(d[i],c[t]-("right"===t?d.width:d.height))),$({},i,n)}};return e.priority.forEach(function(t){var e=-1===["left","top"].indexOf(t)?"secondary":"primary";d=K({},d,h[e](t))}),t.offsets.popper=d,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(t){var e=t.offsets,i=e.popper,n=e.reference,a=t.placement.split("-")[0],o=F,r=-1!==["top","bottom"].indexOf(a),s=r?"right":"bottom",l=r?"left":"top",c=r?"width":"height";return i[s]<o(n[l])&&(t.offsets.popper[l]=o(n[l])-i[c]),i[l]>o(n[s])&&(t.offsets.popper[l]=o(n[s])),t}},arrow:{order:500,enabled:!0,fn:function(t,i){var n;if(!I(t.instance.modifiers,"arrow","keepTogether"))return t;var a=i.element;if("string"==typeof a){if(!(a=t.instance.popper.querySelector(a)))return t}else if(!t.instance.popper.contains(a))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var o=t.placement.split("-")[0],r=t.offsets,s=r.popper,l=r.reference,c=-1!==["left","right"].indexOf(o),d=c?"height":"width",h=c?"Top":"Left",u=h.toLowerCase(),p=c?"left":"top",m=c?"bottom":"right",g=T(a)[d];l[m]-g<s[u]&&(t.offsets.popper[u]-=s[u]-(l[m]-g)),l[u]+g>s[m]&&(t.offsets.popper[u]+=l[u]+g-s[m]),t.offsets.popper=f(t.offsets.popper);var _=l[u]+l[d]/2-g/2,v=e(t.instance.popper),y=parseFloat(v["margin"+h],10),b=parseFloat(v["border"+h+"Width"],10),x=_-t.offsets.popper[u]-y-b;return x=R(P(s[d]-g,x),0),t.arrowElement=a,t.offsets.arrow=($(n={},u,O(x)),$(n,p,""),n),t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(t,e){if(S(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var i=y(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),n=t.placement.split("-")[0],a=w(n),o=t.placement.split("-")[1]||"",r=[];switch(e.behavior){case"flip":r=[n,a];break;case"clockwise":r=N(n);break;case"counterclockwise":r=N(n,!0);break;default:r=e.behavior}return r.forEach(function(s,l){if(n!==s||r.length===l+1)return t;n=t.placement.split("-")[0],a=w(n);var c=t.offsets.popper,d=t.offsets.reference,h=F,u="left"===n&&h(c.right)>h(d.left)||"right"===n&&h(c.left)<h(d.right)||"top"===n&&h(c.bottom)>h(d.top)||"bottom"===n&&h(c.top)<h(d.bottom),f=h(c.left)<h(i.left),p=h(c.right)>h(i.right),m=h(c.top)<h(i.top),g=h(c.bottom)>h(i.bottom),_="left"===n&&f||"right"===n&&p||"top"===n&&m||"bottom"===n&&g,v=-1!==["top","bottom"].indexOf(n),y=!!e.flipVariations&&(v&&"start"===o&&f||v&&"end"===o&&p||!v&&"start"===o&&m||!v&&"end"===o&&g);(u||_||y)&&(t.flipped=!0,(u||_)&&(n=r[l+1]),y&&(o="end"===o?"start":"start"===o?"end":o),t.placement=n+(o?"-"+o:""),t.offsets.popper=K({},t.offsets.popper,k(t.instance.popper,t.offsets.reference,t.placement)),t=D(t.instance.modifiers,t,"flip"))}),t},behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:function(t){var e=t.placement,i=e.split("-")[0],n=t.offsets,a=n.popper,o=n.reference,r=-1!==["left","right"].indexOf(i),s=-1===["top","left"].indexOf(i);return a[r?"left":"top"]=o[i]-(s?a[r?"width":"height"]:0),t.placement=w(e),t.offsets.popper=f(a),t}},hide:{order:800,enabled:!0,fn:function(t){if(!I(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,i=L(t.instance.modifiers,function(t){return"preventOverflow"===t.name}).boundaries;if(e.bottom<i.top||e.left>i.right||e.top>i.bottom||e.right<i.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function(t,e){var i=e.x,n=e.y,a=t.offsets.popper,r=L(t.instance.modifiers,function(t){return"applyStyle"===t.name}).gpuAcceleration;void 0!==r&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s,l,c=void 0===r?e.gpuAcceleration:r,d=o(t.instance.popper),h=p(d),u={position:a.position},f={left:F(a.left),top:O(a.top),bottom:O(a.bottom),right:F(a.right)},m="bottom"===i?"top":"bottom",g="right"===n?"left":"right",_=M("transform");if(l="bottom"==m?"HTML"===d.nodeName?-d.clientHeight+f.bottom:-h.height+f.bottom:f.top,s="right"==g?"HTML"===d.nodeName?-d.clientWidth+f.right:-h.width+f.right:f.left,c&&_)u[_]="translate3d("+s+"px, "+l+"px, 0)",u[m]=0,u[g]=0,u.willChange="transform";else{var v="right"==g?-1:1;u[m]=l*("bottom"==m?-1:1),u[g]=s*v,u.willChange=m+", "+g}return t.attributes=K({},{"x-placement":t.placement},t.attributes),t.styles=K({},u,t.styles),t.arrowStyles=K({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(t){return A(t.instance.popper,t.styles),function(t,e){Object.keys(e).forEach(function(i){!1===e[i]?t.removeAttribute(i):t.setAttribute(i,e[i])})}(t.instance.popper,t.attributes),t.arrowElement&&Object.keys(t.arrowStyles).length&&A(t.arrowElement,t.arrowStyles),t},onLoad:function(t,e,i,n,a){var o=x(a,e,t,i.positionFixed),r=b(i.placement,o,e,t,i.modifiers.flip.boundariesElement,i.modifiers.flip.padding);return e.setAttribute("x-placement",r),A(e,{position:i.positionFixed?"fixed":"absolute"}),i},gpuAcceleration:void 0}}},Z}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("jquery"),require("popper.js")):"function"==typeof define&&define.amd?define(["exports","jquery","popper.js"],e):e(t.bootstrap={},t.jQuery,t.Popper)}(this,function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}function o(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),n.forEach(function(e){var n,a,o;o=i[a=e],a in(n=t)?Object.defineProperty(n,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[a]=o})}return t}e=e&&e.hasOwnProperty("default")?e.default:e,i=i&&i.hasOwnProperty("default")?i.default:i;var r,s,l,c,d,h,u,f,p,m,g,_,v,y,b,x,T,w,k,L,D,S,M,C,E,A,I,N,P,O,F,R,B,j,H,z,W,U,q,V,Y,$,K,Q,G,Z,X,J,tt,et,it,nt,at,ot,rt,st,lt,ct,dt,ht,ut,ft,pt,mt,gt,_t,vt,yt,bt,xt,Tt,wt,kt,Lt,Dt,St,Mt,Ct,Et,At,It,Nt,Pt,Ot,Ft,Rt,Bt,jt,Ht,zt,Wt,Ut,qt,Vt,Yt,$t,Kt,Qt,Gt,Zt,Xt,Jt,te,ee,ie,ne,ae,oe,re,se,le,ce,de,he,ue,fe,pe,me,ge,_e,ve,ye,be,xe,Te,we,ke,Le,De,Se,Me,Ce,Ee,Ae,Ie,Ne,Pe,Oe,Fe,Re,Be,je,He,ze,We,Ue,qe,Ve,Ye,$e,Ke,Qe,Ge,Ze,Xe,Je,ti,ei,ii,ni,ai,oi,ri,si,li,ci,di,hi,ui,fi,pi,mi,gi,_i,vi,yi,bi,xi,Ti,wi,ki,Li,Di,Si,Mi,Ci,Ei=function(t){var e="transitionend",i={TRANSITION_END:"bsTransitionEnd",getUID:function(t){for(;t+=~~(1e6*Math.random()),document.getElementById(t););return t},getSelectorFromElement:function(t){var e=t.getAttribute("data-target");e&&"#"!==e||(e=t.getAttribute("href")||"");try{return document.querySelector(e)?e:null}catch(t){return null}},getTransitionDurationFromElement:function(e){if(!e)return 0;var i=t(e).css("transition-duration");return parseFloat(i)?(i=i.split(",")[0],1e3*parseFloat(i)):0},reflow:function(t){return t.offsetHeight},triggerTransitionEnd:function(i){t(i).trigger(e)},supportsTransitionEnd:function(){return Boolean(e)},isElement:function(t){return(t[0]||t).nodeType},typeCheckConfig:function(t,e,n){for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a)){var o=n[a],r=e[a],s=r&&i.isElement(r)?"element":{}.toString.call(r).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(o).test(s))throw new Error(t.toUpperCase()+': Option "'+a+'" provided type "'+s+'" but expected type "'+o+'".')}}};return t.fn.emulateTransitionEnd=function(e){var n=this,a=!1;return t(this).one(i.TRANSITION_END,function(){a=!0}),setTimeout(function(){a||i.triggerTransitionEnd(n)},e),this},t.event.special[i.TRANSITION_END]={bindType:e,delegateType:e,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}},i}(e),Ai=(c="."+(l="bs.alert"),d=(r=e).fn[s="alert"],h={CLOSE:"close"+c,CLOSED:"closed"+c,CLICK_DATA_API:"click"+c+".data-api"},u="alert",f="fade",p="show",m=function(){function t(t){this._element=t}var e=t.prototype;return e.close=function(t){var e=this._element;t&&(e=this._getRootElement(t)),this._triggerCloseEvent(e).isDefaultPrevented()||this._removeElement(e)},e.dispose=function(){r.removeData(this._element,l),this._element=null},e._getRootElement=function(t){var e=Ei.getSelectorFromElement(t),i=!1;return e&&(i=document.querySelector(e)),i||(i=r(t).closest("."+u)[0]),i},e._triggerCloseEvent=function(t){var e=r.Event(h.CLOSE);return r(t).trigger(e),e},e._removeElement=function(t){var e=this;if(r(t).removeClass(p),r(t).hasClass(f)){var i=Ei.getTransitionDurationFromElement(t);r(t).one(Ei.TRANSITION_END,function(i){return e._destroyElement(t,i)}).emulateTransitionEnd(i)}else this._destroyElement(t)},e._destroyElement=function(t){r(t).detach().trigger(h.CLOSED).remove()},t._jQueryInterface=function(e){return this.each(function(){var i=r(this),n=i.data(l);n||(n=new t(this),i.data(l,n)),"close"===e&&n[e](this)})},t._handleDismiss=function(t){return function(e){e&&e.preventDefault(),t.close(this)}},a(t,null,[{key:"VERSION",get:function(){return"4.1.3"}}]),t}(),r(document).on(h.CLICK_DATA_API,'[data-dismiss="alert"]',m._handleDismiss(new m)),r.fn[s]=m._jQueryInterface,r.fn[s].Constructor=m,r.fn[s].noConflict=function(){return r.fn[s]=d,m._jQueryInterface},m),Ii=(y="."+(v="bs.button"),x=(g=e).fn[_="button"],T="active",k='[data-toggle^="button"]',L='[data-toggle="buttons"]',D="input",S=".active",M=".btn",C={CLICK_DATA_API:"click"+y+(b=".data-api"),FOCUS_BLUR_DATA_API:(w="focus")+y+b+" blur"+y+b},E=function(){function t(t){this._element=t}var e=t.prototype;return e.toggle=function(){var t=!0,e=!0,i=g(this._element).closest(L)[0];if(i){var n=this._element.querySelector(D);if(n){if("radio"===n.type)if(n.checked&&this._element.classList.contains(T))t=!1;else{var a=i.querySelector(S);a&&g(a).removeClass(T)}if(t){if(n.hasAttribute("disabled")||i.hasAttribute("disabled")||n.classList.contains("disabled")||i.classList.contains("disabled"))return;n.checked=!this._element.classList.contains(T),g(n).trigger("change")}n.focus(),e=!1}}e&&this._element.setAttribute("aria-pressed",!this._element.classList.contains(T)),t&&g(this._element).toggleClass(T)},e.dispose=function(){g.removeData(this._element,v),this._element=null},t._jQueryInterface=function(e){return this.each(function(){var i=g(this).data(v);i||(i=new t(this),g(this).data(v,i)),"toggle"===e&&i[e]()})},a(t,null,[{key:"VERSION",get:function(){return"4.1.3"}}]),t}(),g(document).on(C.CLICK_DATA_API,k,function(t){t.preventDefault();var e=t.target;g(e).hasClass("btn")||(e=g(e).closest(M)),E._jQueryInterface.call(g(e),"toggle")}).on(C.FOCUS_BLUR_DATA_API,k,function(t){var e=g(t.target).closest(M)[0];g(e).toggleClass(w,/^focus(in)?$/.test(t.type))}),g.fn[_]=E._jQueryInterface,g.fn[_].Constructor=E,g.fn[_].noConflict=function(){return g.fn[_]=x,E._jQueryInterface},E),Ni=(P="."+(N="bs.carousel"),F=(A=e).fn[I="carousel"],R={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0},B={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean"},j="next",H="prev",z="left",W="right",U={SLIDE:"slide"+P,SLID:"slid"+P,KEYDOWN:"keydown"+P,MOUSEENTER:"mouseenter"+P,MOUSELEAVE:"mouseleave"+P,TOUCHEND:"touchend"+P,LOAD_DATA_API:"load"+P+(O=".data-api"),CLICK_DATA_API:"click"+P+O},q="carousel",V="active",Y="slide",$="carousel-item-right",K="carousel-item-left",Q="carousel-item-next",G="carousel-item-prev",Z=".active",X=".active.carousel-item",J=".carousel-item",tt=".carousel-item-next, .carousel-item-prev",et=".carousel-indicators",it="[data-slide], [data-slide-to]",nt='[data-ride="carousel"]',at=function(){function t(t,e){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this._config=this._getConfig(e),this._element=A(t)[0],this._indicatorsElement=this._element.querySelector(et),this._addEventListeners()}var e=t.prototype;return e.next=function(){this._isSliding||this._slide(j)},e.nextWhenVisible=function(){!document.hidden&&A(this._element).is(":visible")&&"hidden"!==A(this._element).css("visibility")&&this.next()},e.prev=function(){this._isSliding||this._slide(H)},e.pause=function(t){t||(this._isPaused=!0),this._element.querySelector(tt)&&(Ei.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},e.cycle=function(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},e.to=function(t){var e=this;this._activeElement=this._element.querySelector(X);var i=this._getItemIndex(this._activeElement);if(!(t>this._items.length-1||t<0))if(this._isSliding)A(this._element).one(U.SLID,function(){return e.to(t)});else{if(i===t)return this.pause(),void this.cycle();this._slide(i<t?j:H,this._items[t])}},e.dispose=function(){A(this._element).off(P),A.removeData(this._element,N),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},e._getConfig=function(t){return t=o({},R,t),Ei.typeCheckConfig(I,t,B),t},e._addEventListeners=function(){var t=this;this._config.keyboard&&A(this._element).on(U.KEYDOWN,function(e){return t._keydown(e)}),"hover"===this._config.pause&&(A(this._element).on(U.MOUSEENTER,function(e){return t.pause(e)}).on(U.MOUSELEAVE,function(e){return t.cycle(e)}),"ontouchstart"in document.documentElement&&A(this._element).on(U.TOUCHEND,function(){t.pause(),t.touchTimeout&&clearTimeout(t.touchTimeout),t.touchTimeout=setTimeout(function(e){return t.cycle(e)},500+t._config.interval)}))},e._keydown=function(t){if(!/input|textarea/i.test(t.target.tagName))switch(t.which){case 37:t.preventDefault(),this.prev();break;case 39:t.preventDefault(),this.next()}},e._getItemIndex=function(t){return this._items=t&&t.parentNode?[].slice.call(t.parentNode.querySelectorAll(J)):[],this._items.indexOf(t)},e._getItemByDirection=function(t,e){var i=t===j,n=t===H,a=this._getItemIndex(e);if((n&&0===a||i&&a===this._items.length-1)&&!this._config.wrap)return e;var o=(a+(t===H?-1:1))%this._items.length;return-1===o?this._items[this._items.length-1]:this._items[o]},e._triggerSlideEvent=function(t,e){var i=this._getItemIndex(t),n=this._getItemIndex(this._element.querySelector(X)),a=A.Event(U.SLIDE,{relatedTarget:t,direction:e,from:n,to:i});return A(this._element).trigger(a),a},e._setActiveIndicatorElement=function(t){if(this._indicatorsElement){var e=[].slice.call(this._indicatorsElement.querySelectorAll(Z));A(e).removeClass(V);var i=this._indicatorsElement.children[this._getItemIndex(t)];i&&A(i).addClass(V)}},e._slide=function(t,e){var i,n,a,o=this,r=this._element.querySelector(X),s=this._getItemIndex(r),l=e||r&&this._getItemByDirection(t,r),c=this._getItemIndex(l),d=Boolean(this._interval);if(t===j?(i=K,n=Q,a=z):(i=$,n=G,a=W),l&&A(l).hasClass(V))this._isSliding=!1;else if(!this._triggerSlideEvent(l,a).isDefaultPrevented()&&r&&l){this._isSliding=!0,d&&this.pause(),this._setActiveIndicatorElement(l);var h=A.Event(U.SLID,{relatedTarget:l,direction:a,from:s,to:c});if(A(this._element).hasClass(Y)){A(l).addClass(n),Ei.reflow(l),A(r).addClass(i),A(l).addClass(i);var u=Ei.getTransitionDurationFromElement(r);A(r).one(Ei.TRANSITION_END,function(){A(l).removeClass(i+" "+n).addClass(V),A(r).removeClass(V+" "+n+" "+i),o._isSliding=!1,setTimeout(function(){return A(o._element).trigger(h)},0)}).emulateTransitionEnd(u)}else A(r).removeClass(V),A(l).addClass(V),this._isSliding=!1,A(this._element).trigger(h);d&&this.cycle()}},t._jQueryInterface=function(e){return this.each(function(){var i=A(this).data(N),n=o({},R,A(this).data());"object"==typeof e&&(n=o({},n,e));var a="string"==typeof e?e:n.slide;if(i||(i=new t(this,n),A(this).data(N,i)),"number"==typeof e)i.to(e);else if("string"==typeof a){if(void 0===i[a])throw new TypeError('No method named "'+a+'"');i[a]()}else n.interval&&(i.pause(),i.cycle())})},t._dataApiClickHandler=function(e){var i=Ei.getSelectorFromElement(this);if(i){var n=A(i)[0];if(n&&A(n).hasClass(q)){var a=o({},A(n).data(),A(this).data()),r=this.getAttribute("data-slide-to");r&&(a.interval=!1),t._jQueryInterface.call(A(n),a),r&&A(n).data(N).to(r),e.preventDefault()}}},a(t,null,[{key:"VERSION",get:function(){return"4.1.3"}},{key:"Default",get:function(){return R}}]),t}(),A(document).on(U.CLICK_DATA_API,it,at._dataApiClickHandler),A(window).on(U.LOAD_DATA_API,function(){for(var t=[].slice.call(document.querySelectorAll(nt)),e=0,i=t.length;e<i;e++){var n=A(t[e]);at._jQueryInterface.call(n,n.data())}}),A.fn[I]=at._jQueryInterface,A.fn[I].Constructor=at,A.fn[I].noConflict=function(){return A.fn[I]=F,at._jQueryInterface},at),Pi=(lt="."+(st="bs.collapse"),ct=(ot=e).fn[rt="collapse"],dt={toggle:!0,parent:""},ht={toggle:"boolean",parent:"(string|element)"},ut={SHOW:"show"+lt,SHOWN:"shown"+lt,HIDE:"hide"+lt,HIDDEN:"hidden"+lt,CLICK_DATA_API:"click"+lt+".data-api"},ft="show",pt="collapse",mt="collapsing",gt="collapsed",_t="width",vt=".show, .collapsing",yt='[data-toggle="collapse"]',bt=function(){function t(t,e){this._isTransitioning=!1,this._element=t,this._config=this._getConfig(e),this._triggerArray=ot.makeArray(document.querySelectorAll('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'));for(var i=[].slice.call(document.querySelectorAll(yt)),n=0,a=i.length;n<a;n++){var o=i[n],r=Ei.getSelectorFromElement(o),s=[].slice.call(document.querySelectorAll(r)).filter(function(e){return e===t});null!==r&&0<s.length&&(this._selector=r,this._triggerArray.push(o))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var e=t.prototype;return e.toggle=function(){ot(this._element).hasClass(ft)?this.hide():this.show()},e.show=function(){var e,i,n=this;if(!(this._isTransitioning||ot(this._element).hasClass(ft)||(this._parent&&0===(e=[].slice.call(this._parent.querySelectorAll(vt)).filter(function(t){return t.getAttribute("data-parent")===n._config.parent})).length&&(e=null),e&&(i=ot(e).not(this._selector).data(st))&&i._isTransitioning))){var a=ot.Event(ut.SHOW);if(ot(this._element).trigger(a),!a.isDefaultPrevented()){e&&(t._jQueryInterface.call(ot(e).not(this._selector),"hide"),i||ot(e).data(st,null));var o=this._getDimension();ot(this._element).removeClass(pt).addClass(mt),this._element.style[o]=0,this._triggerArray.length&&ot(this._triggerArray).removeClass(gt).attr("aria-expanded",!0),this.setTransitioning(!0);var r="scroll"+(o[0].toUpperCase()+o.slice(1)),s=Ei.getTransitionDurationFromElement(this._element);ot(this._element).one(Ei.TRANSITION_END,function(){ot(n._element).removeClass(mt).addClass(pt).addClass(ft),n._element.style[o]="",n.setTransitioning(!1),ot(n._element).trigger(ut.SHOWN)}).emulateTransitionEnd(s),this._element.style[o]=this._element[r]+"px"}}},e.hide=function(){var t=this;if(!this._isTransitioning&&ot(this._element).hasClass(ft)){var e=ot.Event(ut.HIDE);if(ot(this._element).trigger(e),!e.isDefaultPrevented()){var i=this._getDimension();this._element.style[i]=this._element.getBoundingClientRect()[i]+"px",Ei.reflow(this._element),ot(this._element).addClass(mt).removeClass(pt).removeClass(ft);var n=this._triggerArray.length;if(0<n)for(var a=0;a<n;a++){var o=this._triggerArray[a],r=Ei.getSelectorFromElement(o);null!==r&&(ot([].slice.call(document.querySelectorAll(r))).hasClass(ft)||ot(o).addClass(gt).attr("aria-expanded",!1))}this.setTransitioning(!0),this._element.style[i]="";var s=Ei.getTransitionDurationFromElement(this._element);ot(this._element).one(Ei.TRANSITION_END,function(){t.setTransitioning(!1),ot(t._element).removeClass(mt).addClass(pt).trigger(ut.HIDDEN)}).emulateTransitionEnd(s)}}},e.setTransitioning=function(t){this._isTransitioning=t},e.dispose=function(){ot.removeData(this._element,st),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},e._getConfig=function(t){return(t=o({},dt,t)).toggle=Boolean(t.toggle),Ei.typeCheckConfig(rt,t,ht),t},e._getDimension=function(){return ot(this._element).hasClass(_t)?_t:"height"},e._getParent=function(){var e=this,i=null;Ei.isElement(this._config.parent)?(i=this._config.parent,void 0!==this._config.parent.jquery&&(i=this._config.parent[0])):i=document.querySelector(this._config.parent);var n=[].slice.call(i.querySelectorAll('[data-toggle="collapse"][data-parent="'+this._config.parent+'"]'));return ot(n).each(function(i,n){e._addAriaAndCollapsedClass(t._getTargetFromElement(n),[n])}),i},e._addAriaAndCollapsedClass=function(t,e){if(t){var i=ot(t).hasClass(ft);e.length&&ot(e).toggleClass(gt,!i).attr("aria-expanded",i)}},t._getTargetFromElement=function(t){var e=Ei.getSelectorFromElement(t);return e?document.querySelector(e):null},t._jQueryInterface=function(e){return this.each(function(){var i=ot(this),n=i.data(st),a=o({},dt,i.data(),"object"==typeof e&&e?e:{});if(!n&&a.toggle&&/show|hide/.test(e)&&(a.toggle=!1),n||(n=new t(this,a),i.data(st,n)),"string"==typeof e){if(void 0===n[e])throw new TypeError('No method named "'+e+'"');n[e]()}})},a(t,null,[{key:"VERSION",get:function(){return"4.1.3"}},{key:"Default",get:function(){return dt}}]),t}(),ot(document).on(ut.CLICK_DATA_API,yt,function(t){"A"===t.currentTarget.tagName&&t.preventDefault();var e=ot(this),i=Ei.getSelectorFromElement(this),n=[].slice.call(document.querySelectorAll(i));ot(n).each(function(){var t=ot(this),i=t.data(st)?"toggle":e.data();bt._jQueryInterface.call(t,i)})}),ot.fn[rt]=bt._jQueryInterface,ot.fn[rt].Constructor=bt,ot.fn[rt].noConflict=function(){return ot.fn[rt]=ct,bt._jQueryInterface},bt),Oi=(kt="."+(wt="bs.dropdown"),Lt=".data-api",Dt=(xt=e).fn[Tt="dropdown"],St=new RegExp("38|40|27"),Mt={HIDE:"hide"+kt,HIDDEN:"hidden"+kt,SHOW:"show"+kt,SHOWN:"shown"+kt,CLICK:"click"+kt,CLICK_DATA_API:"click"+kt+Lt,KEYDOWN_DATA_API:"keydown"+kt+Lt,KEYUP_DATA_API:"keyup"+kt+Lt},Ct="disabled",Et="show",At="dropright",It="dropleft",Nt="dropdown-menu-right",Pt="position-static",Ot='[data-toggle="dropdown"]',Ft=".dropdown form",Rt=".dropdown-menu",Bt=".navbar-nav",jt=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",Ht="top-start",zt="top-end",Wt="bottom-start",Ut="bottom-end",qt="right-start",Vt="left-start",Yt={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic"},$t={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string"},Kt=function(){function t(t,e){this._element=t,this._popper=null,this._config=this._getConfig(e),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var e=t.prototype;return e.toggle=function(){if(!this._element.disabled&&!xt(this._element).hasClass(Ct)){var e=t._getParentFromElement(this._element),n=xt(this._menu).hasClass(Et);if(t._clearMenus(),!n){var a={relatedTarget:this._element},o=xt.Event(Mt.SHOW,a);if(xt(e).trigger(o),!o.isDefaultPrevented()){if(!this._inNavbar){if(void 0===i)throw new TypeError("Bootstrap dropdown require Popper.js (https://popper.js.org)");var r=this._element;"parent"===this._config.reference?r=e:Ei.isElement(this._config.reference)&&(r=this._config.reference,void 0!==this._config.reference.jquery&&(r=this._config.reference[0])),"scrollParent"!==this._config.boundary&&xt(e).addClass(Pt),this._popper=new i(r,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===xt(e).closest(Bt).length&&xt(document.body).children().on("mouseover",null,xt.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),xt(this._menu).toggleClass(Et),xt(e).toggleClass(Et).trigger(xt.Event(Mt.SHOWN,a))}}}},e.dispose=function(){xt.removeData(this._element,wt),xt(this._element).off(kt),this._element=null,(this._menu=null)!==this._popper&&(this._popper.destroy(),this._popper=null)},e.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},e._addEventListeners=function(){var t=this;xt(this._element).on(Mt.CLICK,function(e){e.preventDefault(),e.stopPropagation(),t.toggle()})},e._getConfig=function(t){return t=o({},this.constructor.Default,xt(this._element).data(),t),Ei.typeCheckConfig(Tt,t,this.constructor.DefaultType),t},e._getMenuElement=function(){if(!this._menu){var e=t._getParentFromElement(this._element);e&&(this._menu=e.querySelector(Rt))}return this._menu},e._getPlacement=function(){var t=xt(this._element.parentNode),e=Wt;return t.hasClass("dropup")?(e=Ht,xt(this._menu).hasClass(Nt)&&(e=zt)):t.hasClass(At)?e=qt:t.hasClass(It)?e=Vt:xt(this._menu).hasClass(Nt)&&(e=Ut),e},e._detectNavbar=function(){return 0<xt(this._element).closest(".navbar").length},e._getPopperConfig=function(){var t=this,e={};"function"==typeof this._config.offset?e.fn=function(e){return e.offsets=o({},e.offsets,t._config.offset(e.offsets)||{}),e}:e.offset=this._config.offset;var i={placement:this._getPlacement(),modifiers:{offset:e,flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(i.modifiers.applyStyle={enabled:!1}),i},t._jQueryInterface=function(e){return this.each(function(){var i=xt(this).data(wt);if(i||(i=new t(this,"object"==typeof e?e:null),xt(this).data(wt,i)),"string"==typeof e){if(void 0===i[e])throw new TypeError('No method named "'+e+'"');i[e]()}})},t._clearMenus=function(e){if(!e||3!==e.which&&("keyup"!==e.type||9===e.which))for(var i=[].slice.call(document.querySelectorAll(Ot)),n=0,a=i.length;n<a;n++){var o=t._getParentFromElement(i[n]),r=xt(i[n]).data(wt),s={relatedTarget:i[n]};if(e&&"click"===e.type&&(s.clickEvent=e),r){var l=r._menu;if(xt(o).hasClass(Et)&&!(e&&("click"===e.type&&/input|textarea/i.test(e.target.tagName)||"keyup"===e.type&&9===e.which)&&xt.contains(o,e.target))){var c=xt.Event(Mt.HIDE,s);xt(o).trigger(c),c.isDefaultPrevented()||("ontouchstart"in document.documentElement&&xt(document.body).children().off("mouseover",null,xt.noop),i[n].setAttribute("aria-expanded","false"),xt(l).removeClass(Et),xt(o).removeClass(Et).trigger(xt.Event(Mt.HIDDEN,s)))}}}},t._getParentFromElement=function(t){var e,i=Ei.getSelectorFromElement(t);return i&&(e=document.querySelector(i)),e||t.parentNode},t._dataApiKeydownHandler=function(e){if((/input|textarea/i.test(e.target.tagName)?!(32===e.which||27!==e.which&&(40!==e.which&&38!==e.which||xt(e.target).closest(Rt).length)):St.test(e.which))&&(e.preventDefault(),e.stopPropagation(),!this.disabled&&!xt(this).hasClass(Ct))){var i=t._getParentFromElement(this),n=xt(i).hasClass(Et);if((n||27===e.which&&32===e.which)&&(!n||27!==e.which&&32!==e.which)){var a=[].slice.call(i.querySelectorAll(jt));if(0!==a.length){var o=a.indexOf(e.target);38===e.which&&0<o&&o--,40===e.which&&o<a.length-1&&o++,o<0&&(o=0),a[o].focus()}}else{if(27===e.which){var r=i.querySelector(Ot);xt(r).trigger("focus")}xt(this).trigger("click")}}},a(t,null,[{key:"VERSION",get:function(){return"4.1.3"}},{key:"Default",get:function(){return Yt}},{key:"DefaultType",get:function(){return $t}}]),t}(),xt(document).on(Mt.KEYDOWN_DATA_API,Ot,Kt._dataApiKeydownHandler).on(Mt.KEYDOWN_DATA_API,Rt,Kt._dataApiKeydownHandler).on(Mt.CLICK_DATA_API+" "+Mt.KEYUP_DATA_API,Kt._clearMenus).on(Mt.CLICK_DATA_API,Ot,function(t){t.preventDefault(),t.stopPropagation(),Kt._jQueryInterface.call(xt(this),"toggle")}).on(Mt.CLICK_DATA_API,Ft,function(t){t.stopPropagation()}),xt.fn[Tt]=Kt._jQueryInterface,xt.fn[Tt].Constructor=Kt,xt.fn[Tt].noConflict=function(){return xt.fn[Tt]=Dt,Kt._jQueryInterface},Kt),Fi=(Xt="."+(Zt="bs.modal"),Jt=(Qt=e).fn[Gt="modal"],te={backdrop:!0,keyboard:!0,focus:!0,show:!0},ee={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},ie={HIDE:"hide"+Xt,HIDDEN:"hidden"+Xt,SHOW:"show"+Xt,SHOWN:"shown"+Xt,FOCUSIN:"focusin"+Xt,RESIZE:"resize"+Xt,CLICK_DISMISS:"click.dismiss"+Xt,KEYDOWN_DISMISS:"keydown.dismiss"+Xt,MOUSEUP_DISMISS:"mouseup.dismiss"+Xt,MOUSEDOWN_DISMISS:"mousedown.dismiss"+Xt,CLICK_DATA_API:"click"+Xt+".data-api"},ne="modal-scrollbar-measure",ae="modal-backdrop",oe="modal-open",re="fade",se="show",le=".modal-dialog",ce='[data-toggle="modal"]',de='[data-dismiss="modal"]',he=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",ue=".sticky-top",fe=function(){function t(t,e){this._config=this._getConfig(e),this._element=t,this._dialog=t.querySelector(le),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._scrollbarWidth=0}var e=t.prototype;return e.toggle=function(t){return this._isShown?this.hide():this.show(t)},e.show=function(t){var e=this;if(!this._isTransitioning&&!this._isShown){Qt(this._element).hasClass(re)&&(this._isTransitioning=!0);var i=Qt.Event(ie.SHOW,{relatedTarget:t});Qt(this._element).trigger(i),this._isShown||i.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),Qt(document.body).addClass(oe),this._setEscapeEvent(),this._setResizeEvent(),Qt(this._element).on(ie.CLICK_DISMISS,de,function(t){return e.hide(t)}),Qt(this._dialog).on(ie.MOUSEDOWN_DISMISS,function(){Qt(e._element).one(ie.MOUSEUP_DISMISS,function(t){Qt(t.target).is(e._element)&&(e._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return e._showElement(t)}))}},e.hide=function(t){var e=this;if(t&&t.preventDefault(),!this._isTransitioning&&this._isShown){var i=Qt.Event(ie.HIDE);if(Qt(this._element).trigger(i),this._isShown&&!i.isDefaultPrevented()){this._isShown=!1;var n=Qt(this._element).hasClass(re);if(n&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),Qt(document).off(ie.FOCUSIN),Qt(this._element).removeClass(se),Qt(this._element).off(ie.CLICK_DISMISS),Qt(this._dialog).off(ie.MOUSEDOWN_DISMISS),n){var a=Ei.getTransitionDurationFromElement(this._element);Qt(this._element).one(Ei.TRANSITION_END,function(t){return e._hideModal(t)}).emulateTransitionEnd(a)}else this._hideModal()}}},e.dispose=function(){Qt.removeData(this._element,Zt),Qt(window,document,this._element,this._backdrop).off(Xt),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._scrollbarWidth=null},e.handleUpdate=function(){this._adjustDialog()},e._getConfig=function(t){return t=o({},te,t),Ei.typeCheckConfig(Gt,t,ee),t},e._showElement=function(t){var e=this,i=Qt(this._element).hasClass(re);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.scrollTop=0,i&&Ei.reflow(this._element),Qt(this._element).addClass(se),this._config.focus&&this._enforceFocus();var n=Qt.Event(ie.SHOWN,{relatedTarget:t}),a=function(){e._config.focus&&e._element.focus(),e._isTransitioning=!1,Qt(e._element).trigger(n)};if(i){var o=Ei.getTransitionDurationFromElement(this._element);Qt(this._dialog).one(Ei.TRANSITION_END,a).emulateTransitionEnd(o)}else a()},e._enforceFocus=function(){var t=this;Qt(document).off(ie.FOCUSIN).on(ie.FOCUSIN,function(e){document!==e.target&&t._element!==e.target&&0===Qt(t._element).has(e.target).length&&t._element.focus()})},e._setEscapeEvent=function(){var t=this;this._isShown&&this._config.keyboard?Qt(this._element).on(ie.KEYDOWN_DISMISS,function(e){27===e.which&&(e.preventDefault(),t.hide())}):this._isShown||Qt(this._element).off(ie.KEYDOWN_DISMISS)},e._setResizeEvent=function(){var t=this;this._isShown?Qt(window).on(ie.RESIZE,function(e){return t.handleUpdate(e)}):Qt(window).off(ie.RESIZE)},e._hideModal=function(){var t=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._isTransitioning=!1,this._showBackdrop(function(){Qt(document.body).removeClass(oe),t._resetAdjustments(),t._resetScrollbar(),Qt(t._element).trigger(ie.HIDDEN)})},e._removeBackdrop=function(){this._backdrop&&(Qt(this._backdrop).remove(),this._backdrop=null)},e._showBackdrop=function(t){var e=this,i=Qt(this._element).hasClass(re)?re:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className=ae,i&&this._backdrop.classList.add(i),Qt(this._backdrop).appendTo(document.body),Qt(this._element).on(ie.CLICK_DISMISS,function(t){e._ignoreBackdropClick?e._ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"===e._config.backdrop?e._element.focus():e.hide())}),i&&Ei.reflow(this._backdrop),Qt(this._backdrop).addClass(se),!t)return;if(!i)return void t();var n=Ei.getTransitionDurationFromElement(this._backdrop);Qt(this._backdrop).one(Ei.TRANSITION_END,t).emulateTransitionEnd(n)}else if(!this._isShown&&this._backdrop){Qt(this._backdrop).removeClass(se);var a=function(){e._removeBackdrop(),t&&t()};if(Qt(this._element).hasClass(re)){var o=Ei.getTransitionDurationFromElement(this._backdrop);Qt(this._backdrop).one(Ei.TRANSITION_END,a).emulateTransitionEnd(o)}else a()}else t&&t()},e._adjustDialog=function(){var t=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&t&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!t&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},e._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},e._checkScrollbar=function(){var t=document.body.getBoundingClientRect();this._isBodyOverflowing=t.left+t.right<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},e._setScrollbar=function(){var t=this;if(this._isBodyOverflowing){var e=[].slice.call(document.querySelectorAll(he)),i=[].slice.call(document.querySelectorAll(ue));Qt(e).each(function(e,i){var n=i.style.paddingRight,a=Qt(i).css("padding-right");Qt(i).data("padding-right",n).css("padding-right",parseFloat(a)+t._scrollbarWidth+"px")}),Qt(i).each(function(e,i){var n=i.style.marginRight,a=Qt(i).css("margin-right");Qt(i).data("margin-right",n).css("margin-right",parseFloat(a)-t._scrollbarWidth+"px")});var n=document.body.style.paddingRight,a=Qt(document.body).css("padding-right");Qt(document.body).data("padding-right",n).css("padding-right",parseFloat(a)+this._scrollbarWidth+"px")}},e._resetScrollbar=function(){var t=[].slice.call(document.querySelectorAll(he));Qt(t).each(function(t,e){var i=Qt(e).data("padding-right");Qt(e).removeData("padding-right"),e.style.paddingRight=i||""});var e=[].slice.call(document.querySelectorAll(""+ue));Qt(e).each(function(t,e){var i=Qt(e).data("margin-right");void 0!==i&&Qt(e).css("margin-right",i).removeData("margin-right")});var i=Qt(document.body).data("padding-right");Qt(document.body).removeData("padding-right"),document.body.style.paddingRight=i||""},e._getScrollbarWidth=function(){var t=document.createElement("div");t.className=ne,document.body.appendChild(t);var e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e},t._jQueryInterface=function(e,i){return this.each(function(){var n=Qt(this).data(Zt),a=o({},te,Qt(this).data(),"object"==typeof e&&e?e:{});if(n||(n=new t(this,a),Qt(this).data(Zt,n)),"string"==typeof e){if(void 0===n[e])throw new TypeError('No method named "'+e+'"');n[e](i)}else a.show&&n.show(i)})},a(t,null,[{key:"VERSION",get:function(){return"4.1.3"}},{key:"Default",get:function(){return te}}]),t}(),Qt(document).on(ie.CLICK_DATA_API,ce,function(t){var e,i=this,n=Ei.getSelectorFromElement(this);n&&(e=document.querySelector(n));var a=Qt(e).data(Zt)?"toggle":o({},Qt(e).data(),Qt(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||t.preventDefault();var r=Qt(e).one(ie.SHOW,function(t){t.isDefaultPrevented()||r.one(ie.HIDDEN,function(){Qt(i).is(":visible")&&i.focus()})});fe._jQueryInterface.call(Qt(e),a,this)}),Qt.fn[Gt]=fe._jQueryInterface,Qt.fn[Gt].Constructor=fe,Qt.fn[Gt].noConflict=function(){return Qt.fn[Gt]=Jt,fe._jQueryInterface},fe),Ri=(_e="."+(ge="bs.tooltip"),ve=(pe=e).fn[me="tooltip"],ye="bs-tooltip",be=new RegExp("(^|\\s)"+ye+"\\S+","g"),we={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!(Te={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"}),selector:!(xe={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)"}),placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent"},Le="out",De={HIDE:"hide"+_e,HIDDEN:"hidden"+_e,SHOW:(ke="show")+_e,SHOWN:"shown"+_e,INSERTED:"inserted"+_e,CLICK:"click"+_e,FOCUSIN:"focusin"+_e,FOCUSOUT:"focusout"+_e,MOUSEENTER:"mouseenter"+_e,MOUSELEAVE:"mouseleave"+_e},Se="fade",Me="show",Ce=".tooltip-inner",Ee="hover",Ae="focus",Ie=function(){function t(t,e){if(void 0===i)throw new TypeError("Bootstrap tooltips require Popper.js (https://popper.js.org)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=t,this.config=this._getConfig(e),this.tip=null,this._setListeners()}var e=t.prototype;return e.enable=function(){this._isEnabled=!0},e.disable=function(){this._isEnabled=!1},e.toggleEnabled=function(){this._isEnabled=!this._isEnabled},e.toggle=function(t){if(this._isEnabled)if(t){var e=this.constructor.DATA_KEY,i=pe(t.currentTarget).data(e);i||(i=new this.constructor(t.currentTarget,this._getDelegateConfig()),pe(t.currentTarget).data(e,i)),i._activeTrigger.click=!i._activeTrigger.click,i._isWithActiveTrigger()?i._enter(null,i):i._leave(null,i)}else{if(pe(this.getTipElement()).hasClass(Me))return void this._leave(null,this);this._enter(null,this)}},e.dispose=function(){clearTimeout(this._timeout),pe.removeData(this.element,this.constructor.DATA_KEY),pe(this.element).off(this.constructor.EVENT_KEY),pe(this.element).closest(".modal").off("hide.bs.modal"),this.tip&&pe(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,(this._activeTrigger=null)!==this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},e.show=function(){var t=this;if("none"===pe(this.element).css("display"))throw new Error("Please use show on visible elements");var e=pe.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){pe(this.element).trigger(e);var n=pe.contains(this.element.ownerDocument.documentElement,this.element);if(e.isDefaultPrevented()||!n)return;var a=this.getTipElement(),o=Ei.getUID(this.constructor.NAME);a.setAttribute("id",o),this.element.setAttribute("aria-describedby",o),this.setContent(),this.config.animation&&pe(a).addClass(Se);var r="function"==typeof this.config.placement?this.config.placement.call(this,a,this.element):this.config.placement,s=this._getAttachment(r);this.addAttachmentClass(s);var l=!1===this.config.container?document.body:pe(document).find(this.config.container);pe(a).data(this.constructor.DATA_KEY,this),pe.contains(this.element.ownerDocument.documentElement,this.tip)||pe(a).appendTo(l),pe(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new i(this.element,a,{placement:s,modifiers:{offset:{offset:this.config.offset},flip:{behavior:this.config.fallbackPlacement},arrow:{element:".arrow"},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(e){e.originalPlacement!==e.placement&&t._handlePopperPlacementChange(e)},onUpdate:function(e){t._handlePopperPlacementChange(e)}}),pe(a).addClass(Me),"ontouchstart"in document.documentElement&&pe(document.body).children().on("mouseover",null,pe.noop);var c=function(){t.config.animation&&t._fixTransition();var e=t._hoverState;t._hoverState=null,pe(t.element).trigger(t.constructor.Event.SHOWN),e===Le&&t._leave(null,t)};if(pe(this.tip).hasClass(Se)){var d=Ei.getTransitionDurationFromElement(this.tip);pe(this.tip).one(Ei.TRANSITION_END,c).emulateTransitionEnd(d)}else c()}},e.hide=function(t){var e=this,i=this.getTipElement(),n=pe.Event(this.constructor.Event.HIDE),a=function(){e._hoverState!==ke&&i.parentNode&&i.parentNode.removeChild(i),e._cleanTipClass(),e.element.removeAttribute("aria-describedby"),pe(e.element).trigger(e.constructor.Event.HIDDEN),null!==e._popper&&e._popper.destroy(),t&&t()};if(pe(this.element).trigger(n),!n.isDefaultPrevented()){if(pe(i).removeClass(Me),"ontouchstart"in document.documentElement&&pe(document.body).children().off("mouseover",null,pe.noop),this._activeTrigger.click=!1,this._activeTrigger[Ae]=!1,this._activeTrigger[Ee]=!1,pe(this.tip).hasClass(Se)){var o=Ei.getTransitionDurationFromElement(i);pe(i).one(Ei.TRANSITION_END,a).emulateTransitionEnd(o)}else a();this._hoverState=""}},e.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},e.isWithContent=function(){return Boolean(this.getTitle())},e.addAttachmentClass=function(t){pe(this.getTipElement()).addClass(ye+"-"+t)},e.getTipElement=function(){return this.tip=this.tip||pe(this.config.template)[0],this.tip},e.setContent=function(){var t=this.getTipElement();this.setElementContent(pe(t.querySelectorAll(Ce)),this.getTitle()),pe(t).removeClass(Se+" "+Me)},e.setElementContent=function(t,e){var i=this.config.html;"object"==typeof e&&(e.nodeType||e.jquery)?i?pe(e).parent().is(t)||t.empty().append(e):t.text(pe(e).text()):t[i?"html":"text"](e)},e.getTitle=function(){var t=this.element.getAttribute("data-original-title");return t||(t="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),t},e._getAttachment=function(t){return Te[t.toUpperCase()]},e._setListeners=function(){var t=this;this.config.trigger.split(" ").forEach(function(e){if("click"===e)pe(t.element).on(t.constructor.Event.CLICK,t.config.selector,function(e){return t.toggle(e)});else if("manual"!==e){var i=e===Ee?t.constructor.Event.MOUSEENTER:t.constructor.Event.FOCUSIN,n=e===Ee?t.constructor.Event.MOUSELEAVE:t.constructor.Event.FOCUSOUT;pe(t.element).on(i,t.config.selector,function(e){return t._enter(e)}).on(n,t.config.selector,function(e){return t._leave(e)})}pe(t.element).closest(".modal").on("hide.bs.modal",function(){return t.hide()})}),this.config.selector?this.config=o({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},e._fixTitle=function(){var t=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==t)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},e._enter=function(t,e){var i=this.constructor.DATA_KEY;(e=e||pe(t.currentTarget).data(i))||(e=new this.constructor(t.currentTarget,this._getDelegateConfig()),pe(t.currentTarget).data(i,e)),t&&(e._activeTrigger["focusin"===t.type?Ae:Ee]=!0),pe(e.getTipElement()).hasClass(Me)||e._hoverState===ke?e._hoverState=ke:(clearTimeout(e._timeout),e._hoverState=ke,e.config.delay&&e.config.delay.show?e._timeout=setTimeout(function(){e._hoverState===ke&&e.show()},e.config.delay.show):e.show())},e._leave=function(t,e){var i=this.constructor.DATA_KEY;(e=e||pe(t.currentTarget).data(i))||(e=new this.constructor(t.currentTarget,this._getDelegateConfig()),pe(t.currentTarget).data(i,e)),t&&(e._activeTrigger["focusout"===t.type?Ae:Ee]=!1),e._isWithActiveTrigger()||(clearTimeout(e._timeout),e._hoverState=Le,e.config.delay&&e.config.delay.hide?e._timeout=setTimeout(function(){e._hoverState===Le&&e.hide()},e.config.delay.hide):e.hide())},e._isWithActiveTrigger=function(){for(var t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1},e._getConfig=function(t){return"number"==typeof(t=o({},this.constructor.Default,pe(this.element).data(),"object"==typeof t&&t?t:{})).delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),Ei.typeCheckConfig(me,t,this.constructor.DefaultType),t},e._getDelegateConfig=function(){var t={};if(this.config)for(var e in this.config)this.constructor.Default[e]!==this.config[e]&&(t[e]=this.config[e]);return t},e._cleanTipClass=function(){var t=pe(this.getTipElement()),e=t.attr("class").match(be);null!==e&&e.length&&t.removeClass(e.join(""))},e._handlePopperPlacementChange=function(t){this.tip=t.instance.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(t.placement))},e._fixTransition=function(){var t=this.getTipElement(),e=this.config.animation;null===t.getAttribute("x-placement")&&(pe(t).removeClass(Se),this.config.animation=!1,this.hide(),this.show(),this.config.animation=e)},t._jQueryInterface=function(e){return this.each(function(){var i=pe(this).data(ge),n="object"==typeof e&&e;if((i||!/dispose|hide/.test(e))&&(i||(i=new t(this,n),pe(this).data(ge,i)),"string"==typeof e)){if(void 0===i[e])throw new TypeError('No method named "'+e+'"');i[e]()}})},a(t,null,[{key:"VERSION",get:function(){return"4.1.3"}},{key:"Default",get:function(){return we}},{key:"NAME",get:function(){return me}},{key:"DATA_KEY",get:function(){return ge}},{key:"Event",get:function(){return De}},{key:"EVENT_KEY",get:function(){return _e}},{key:"DefaultType",get:function(){return xe}}]),t}(),pe.fn[me]=Ie._jQueryInterface,pe.fn[me].Constructor=Ie,pe.fn[me].noConflict=function(){return pe.fn[me]=ve,Ie._jQueryInterface},Ie),Bi=(Fe="."+(Oe="bs.popover"),Re=(Ne=e).fn[Pe="popover"],Be="bs-popover",je=new RegExp("(^|\\s)"+Be+"\\S+","g"),He=o({},Ri.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),ze=o({},Ri.DefaultType,{content:"(string|element|function)"}),We=".popover-header",Ue=".popover-body",qe={HIDE:"hide"+Fe,HIDDEN:"hidden"+Fe,SHOW:"show"+Fe,SHOWN:"shown"+Fe,INSERTED:"inserted"+Fe,CLICK:"click"+Fe,FOCUSIN:"focusin"+Fe,FOCUSOUT:"focusout"+Fe,MOUSEENTER:"mouseenter"+Fe,MOUSELEAVE:"mouseleave"+Fe},Ve=function(t){var e,i;function n(){return t.apply(this,arguments)||this}i=t,(e=n).prototype=Object.create(i.prototype),(e.prototype.constructor=e).__proto__=i;var o=n.prototype;return o.isWithContent=function(){return this.getTitle()||this._getContent()},o.addAttachmentClass=function(t){Ne(this.getTipElement()).addClass(Be+"-"+t)},o.getTipElement=function(){return this.tip=this.tip||Ne(this.config.template)[0],this.tip},o.setContent=function(){var t=Ne(this.getTipElement());this.setElementContent(t.find(We),this.getTitle());var e=this._getContent();"function"==typeof e&&(e=e.call(this.element)),this.setElementContent(t.find(Ue),e),t.removeClass("fade show")},o._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},o._cleanTipClass=function(){var t=Ne(this.getTipElement()),e=t.attr("class").match(je);null!==e&&0<e.length&&t.removeClass(e.join(""))},n._jQueryInterface=function(t){return this.each(function(){var e=Ne(this).data(Oe),i="object"==typeof t?t:null;if((e||!/destroy|hide/.test(t))&&(e||(e=new n(this,i),Ne(this).data(Oe,e)),"string"==typeof t)){if(void 0===e[t])throw new TypeError('No method named "'+t+'"');e[t]()}})},a(n,null,[{key:"VERSION",get:function(){return"4.1.3"}},{key:"Default",get:function(){return He}},{key:"NAME",get:function(){return Pe}},{key:"DATA_KEY",get:function(){return Oe}},{key:"Event",get:function(){return qe}},{key:"EVENT_KEY",get:function(){return Fe}},{key:"DefaultType",get:function(){return ze}}]),n}(Ri),Ne.fn[Pe]=Ve._jQueryInterface,Ne.fn[Pe].Constructor=Ve,Ne.fn[Pe].noConflict=function(){return Ne.fn[Pe]=Re,Ve._jQueryInterface},Ve),ji=(Qe="."+(Ke="bs.scrollspy"),Ge=(Ye=e).fn[$e="scrollspy"],Ze={offset:10,method:"auto",target:""},Xe={offset:"number",method:"string",target:"(string|element)"},Je={ACTIVATE:"activate"+Qe,SCROLL:"scroll"+Qe,LOAD_DATA_API:"load"+Qe+".data-api"},ti="dropdown-item",ei="active",ii='[data-spy="scroll"]',ni=".active",ai=".nav, .list-group",oi=".nav-link",ri=".nav-item",si=".list-group-item",li=".dropdown",ci=".dropdown-item",di=".dropdown-toggle",hi="position",ui=function(){function t(t,e){var i=this;this._element=t,this._scrollElement="BODY"===t.tagName?window:t,this._config=this._getConfig(e),this._selector=this._config.target+" "+oi+","+this._config.target+" "+si+","+this._config.target+" "+ci,this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,Ye(this._scrollElement).on(Je.SCROLL,function(t){return i._process(t)}),this.refresh(),this._process()}var e=t.prototype;return e.refresh=function(){var t=this,e="auto"===this._config.method?this._scrollElement===this._scrollElement.window?"offset":hi:this._config.method,i=e===hi?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),[].slice.call(document.querySelectorAll(this._selector)).map(function(t){var n,a=Ei.getSelectorFromElement(t);if(a&&(n=document.querySelector(a)),n){var o=n.getBoundingClientRect();if(o.width||o.height)return[Ye(n)[e]().top+i,a]}return null}).filter(function(t){return t}).sort(function(t,e){return t[0]-e[0]}).forEach(function(e){t._offsets.push(e[0]),t._targets.push(e[1])})},e.dispose=function(){Ye.removeData(this._element,Ke),Ye(this._scrollElement).off(Qe),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},e._getConfig=function(t){if("string"!=typeof(t=o({},Ze,"object"==typeof t&&t?t:{})).target){var e=Ye(t.target).attr("id");e||(e=Ei.getUID($e),Ye(t.target).attr("id",e)),t.target="#"+e}return Ei.typeCheckConfig($e,t,Xe),t},e._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},e._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},e._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},e._process=function(){var t=this._getScrollTop()+this._config.offset,e=this._getScrollHeight(),i=this._config.offset+e-this._getOffsetHeight();if(this._scrollHeight!==e&&this.refresh(),i<=t){var n=this._targets[this._targets.length-1];this._activeTarget!==n&&this._activate(n)}else{if(this._activeTarget&&t<this._offsets[0]&&0<this._offsets[0])return this._activeTarget=null,void this._clear();for(var a=this._offsets.length;a--;)this._activeTarget!==this._targets[a]&&t>=this._offsets[a]&&(void 0===this._offsets[a+1]||t<this._offsets[a+1])&&this._activate(this._targets[a])}},e._activate=function(t){this._activeTarget=t,this._clear();var e=this._selector.split(",");e=e.map(function(e){return e+'[data-target="'+t+'"],'+e+'[href="'+t+'"]'});var i=Ye([].slice.call(document.querySelectorAll(e.join(","))));i.hasClass(ti)?(i.closest(li).find(di).addClass(ei),i.addClass(ei)):(i.addClass(ei),i.parents(ai).prev(oi+", "+si).addClass(ei),i.parents(ai).prev(ri).children(oi).addClass(ei)),Ye(this._scrollElement).trigger(Je.ACTIVATE,{relatedTarget:t})},e._clear=function(){var t=[].slice.call(document.querySelectorAll(this._selector));Ye(t).filter(ni).removeClass(ei)},t._jQueryInterface=function(e){return this.each(function(){var i=Ye(this).data(Ke);if(i||(i=new t(this,"object"==typeof e&&e),Ye(this).data(Ke,i)),"string"==typeof e){if(void 0===i[e])throw new TypeError('No method named "'+e+'"');i[e]()}})},a(t,null,[{key:"VERSION",get:function(){return"4.1.3"}},{key:"Default",get:function(){return Ze}}]),t}(),Ye(window).on(Je.LOAD_DATA_API,function(){for(var t=[].slice.call(document.querySelectorAll(ii)),e=t.length;e--;){var i=Ye(t[e]);ui._jQueryInterface.call(i,i.data())}}),Ye.fn[$e]=ui._jQueryInterface,Ye.fn[$e].Constructor=ui,Ye.fn[$e].noConflict=function(){return Ye.fn[$e]=Ge,ui._jQueryInterface},ui),Hi=(mi="."+(pi="bs.tab"),gi=(fi=e).fn.tab,_i={HIDE:"hide"+mi,HIDDEN:"hidden"+mi,SHOW:"show"+mi,SHOWN:"shown"+mi,CLICK_DATA_API:"click"+mi+".data-api"},vi="dropdown-menu",yi="active",bi="disabled",xi="show",Ti=".dropdown",wi=".nav, .list-group",ki=".active",Li="> li > .active",Di='[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',Si=".dropdown-toggle",Mi="> .dropdown-menu .active",Ci=function(){function t(t){this._element=t}var e=t.prototype;return e.show=function(){var t=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&fi(this._element).hasClass(yi)||fi(this._element).hasClass(bi))){var e,i,n=fi(this._element).closest(wi)[0],a=Ei.getSelectorFromElement(this._element);if(n){var o="UL"===n.nodeName?Li:ki;i=(i=fi.makeArray(fi(n).find(o)))[i.length-1]}var r=fi.Event(_i.HIDE,{relatedTarget:this._element}),s=fi.Event(_i.SHOW,{relatedTarget:i});if(i&&fi(i).trigger(r),fi(this._element).trigger(s),!s.isDefaultPrevented()&&!r.isDefaultPrevented()){a&&(e=document.querySelector(a)),this._activate(this._element,n);var l=function(){var e=fi.Event(_i.HIDDEN,{relatedTarget:t._element}),n=fi.Event(_i.SHOWN,{relatedTarget:i});fi(i).trigger(e),fi(t._element).trigger(n)};e?this._activate(e,e.parentNode,l):l()}}},e.dispose=function(){fi.removeData(this._element,pi),this._element=null},e._activate=function(t,e,i){var n=this,a=("UL"===e.nodeName?fi(e).find(Li):fi(e).children(ki))[0],o=i&&a&&fi(a).hasClass("fade"),r=function(){return n._transitionComplete(t,a,i)};if(a&&o){var s=Ei.getTransitionDurationFromElement(a);fi(a).one(Ei.TRANSITION_END,r).emulateTransitionEnd(s)}else r()},e._transitionComplete=function(t,e,i){if(e){fi(e).removeClass(xi+" "+yi);var n=fi(e.parentNode).find(Mi)[0];n&&fi(n).removeClass(yi),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!1)}if(fi(t).addClass(yi),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!0),Ei.reflow(t),fi(t).addClass(xi),t.parentNode&&fi(t.parentNode).hasClass(vi)){var a=fi(t).closest(Ti)[0];if(a){var o=[].slice.call(a.querySelectorAll(Si));fi(o).addClass(yi)}t.setAttribute("aria-expanded",!0)}i&&i()},t._jQueryInterface=function(e){return this.each(function(){var i=fi(this),n=i.data(pi);if(n||(n=new t(this),i.data(pi,n)),"string"==typeof e){if(void 0===n[e])throw new TypeError('No method named "'+e+'"');n[e]()}})},a(t,null,[{key:"VERSION",get:function(){return"4.1.3"}}]),t}(),fi(document).on(_i.CLICK_DATA_API,Di,function(t){t.preventDefault(),Ci._jQueryInterface.call(fi(this),"show")}),fi.fn.tab=Ci._jQueryInterface,fi.fn.tab.Constructor=Ci,fi.fn.tab.noConflict=function(){return fi.fn.tab=gi,Ci._jQueryInterface},Ci);!function(t){if(void 0===t)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1===e[0]&&9===e[1]&&e[2]<1||4<=e[0])throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}(e),t.Util=Ei,t.Alert=Ai,t.Button=Ii,t.Carousel=Ni,t.Collapse=Pi,t.Dropdown=Oi,t.Modal=Fi,t.Popover=Bi,t.Scrollspy=ji,t.Tab=Hi,t.Tooltip=Ri,Object.defineProperty(t,"__esModule",{value:!0})}),function(t){t.TL={VERSION:"0.1",_originalL:t.TL}}(this),TL.debug=!1,TL.Bind=function(t,e){return function(){return t.apply(e,arguments)}},trace=function(t){TL.debug&&(window.console?console.log(t):"undefined"!=typeof jsTrace&&jsTrace.send(t))},TL_Error.prototype=Object.create(Error.prototype),TL_Error.prototype.constructor=TL_Error,TL.Error=TL_Error,TL.Util={mergeData:function(t,e){var i;for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},extend:function(t){for(var e=Array.prototype.slice.call(arguments,1),i=0,n=e.length;n>i;i++)TL.Util.mergeData(t,e[i]||{});return t},isEven:function(t){return t==parseFloat(t)?!(t%2):void 0},isTrue:function(t){return null!=t&&(1==t||"true"==String(t).toLowerCase()||1==Number(t))},findArrayNumberByUniqueID:function(t,e,i,n){for(var a=n||0,o=0;o<e.length;o++)e[o].data[i]==t&&(a=o);return a},convertUnixTime:function(t){var e,i,n,a=[],o={ymd:"",time:"",time_array:[],date_array:[],full_array:[]};o.ymd=t.split(" ")[0],o.time=t.split(" ")[1],o.date_array=o.ymd.split("-"),o.time_array=o.time.split(":"),o.full_array=o.date_array.concat(o.time_array);for(var r=0;r<o.full_array.length;r++)a.push(parseInt(o.full_array[r]));return i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],n=(e=new Date(a[0],a[1],a[2],a[3],a[4],a[5])).getFullYear(),i[e.getMonth()]+", "+e.getDate()+" "+n},setData:function(t,e){t.data=TL.Util.extend({},t.data,e),""===t.data.unique_id&&(t.data.unique_id=TL.Util.unique_ID(6))},stamp:function(){var t=0,e="_tl_id";return function(i){return i[e]=i[e]||++t,i[e]}}(),isArray:function(){if(Array.isArray)return Array.isArray;var t=Object.prototype.toString,e=t.call([]);return function(i){return t.call(i)===e}}(),getRandomNumber:function(t){return Math.floor(Math.random()*t)},unique_ID:function(t,e){var i=function(t){for(var e="",i=0;t>i;i++)e+="abcdefghijklmnopqurstuvwxyz".substr(Math.floor(32*Math.random()),1);return e};return e?e+"-"+i(t):"tl-"+i(t)},ensureUniqueKey:function(t,e){if(e||(e=TL.Util.unique_ID(6)),!(e in t))return e;var i=e.match(/^(.+)(-\d+)?$/)[1],n=[];for(key in t)key.match(/^(.+?)(-\d+)?$/)[1]==i&&n.push(key);e=i+"-"+(n.length+1);for(var a=n.length;-1!=n.indexOf(e);a++)e=i+"-"+a;return e},htmlify:function(t){return t.match(/<p>[\s\S]*?<\/p>/)?t:"<p>"+t+"</p>"},unhtmlify:function(t){return(t=t.replace(/(<[^>]*>)+/g,"")).replace('"',"'")},linkify:function(t){var e=function(t,e,i){return i||(i=""),e&&e.length>30&&(e=e.substring(0,30)+"\u2026"),i+"<a class='tl-makelink' href='"+t+"' onclick='void(0)'>"+e+"</a>"};return t.replace(/\b(?:https?|ftp):\/\/([a-z0-9-+&@#\/%?=~_|!:,.;]*[a-z0-9-+&@#\/%=~_|])/gim,function(t,i,n,a){if(n>0){var o=a[n-1];if('"'==o||"'"==o||"="==o)return t}return e(t,i)}).replace(/(^|[^\/>])(www\.[\S]+(\b|$))/gim,function(t,i,n){return e("http://"+n,n,i)}).replace(/([a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+)/gim,function(t,i){return e("mailto:"+i,i)})},unlinkify:function(t){return t?t=(t=t.replace(/<a\b[^>]*>/i,"")).replace(/<\/a>/i,""):t},getParamString:function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i+"="+t[i]);return"?"+e.join("&")},formatNum:function(t,e){var i=Math.pow(10,e||5);return Math.round(t*i)/i},falseFn:function(){return!1},requestAnimFrame:function(){function t(t){window.setTimeout(t,1e3/60)}var e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||t;return function(i,n,a,o){i=n?TL.Util.bind(i,n):i,a&&e===t?i():e(i,o)}}(),bind:function(t,e){return function(){return t.apply(e,arguments)}},template:function(t,e){return t.replace(/\{ *([\w_]+) *\}/g,function(t,i){var n=e[i];if(!e.hasOwnProperty(i))throw new TL.Error("template_value_err",t);return n})},hexToRgb:function(t){TL.Util.css_named_colors[t.toLowerCase()]&&(t=TL.Util.css_named_colors[t.toLowerCase()]),t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,e,i,n){return e+e+i+i+n+n});var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null},rgbToHex:function(t){var e,i,n;if("object"==typeof t)e=t.r,i=t.g,n=t.b;else if("function"==typeof t.match){var a=t.match(/^rgb\((\d+),(\d+),(\d+)\)$/);a&&(e=a[1],i=a[2],n=a[3])}if(isNaN(e)||isNaN(n)||isNaN(i))throw new TL.Error("invalid_rgb_err");return"#"+TL.Util.intToHexString(e)+TL.Util.intToHexString(i)+TL.Util.intToHexString(n)},colorObjToHex:function(t){return TL.Util.rgbToHex("rgb("+[t.r,t.g,t.b].join(",")+")")},css_named_colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},ratio:{square:function(t){var e={w:0,h:0};return t.w>t.h&&t.h>0?(e.h=t.h,e.w=t.h):(e.w=t.w,e.h=t.w),e},r16_9:function(t){return null!==t.w&&""!==t.w?Math.round(t.w/16*9):null!==t.h&&""!==t.h?Math.round(t.h/9*16):0},r4_3:function(t){return null!==t.w&&""!==t.w?Math.round(t.w/4*3):null!==t.h&&""!==t.h?Math.round(t.h/3*4):void 0}},getObjectAttributeByIndex:function(t,e){if(void 0!==t){var i=0;for(var n in t){if(e===i)return t[n];i++}return""}return""},getUrlVars:function(t){var e,i,n,a=[];(e=t.toString()).match("&#038;")?e=e.replace("&#038;","&"):e.match("&#38;")?e=e.replace("&#38;","&"):e.match("&amp;")&&(e=e.replace("&amp;","&")),n=e.slice(e.indexOf("?")+1).split("&");for(var o=0;o<n.length;o++)i=n[o].split("="),a.push(i[0]),a[i[0]]=i[1];return a},trim:function(t){return t&&"function"==typeof t.replace?t.replace(/^\s+|\s+$/g,""):""},slugify:function(t){t=(t=TL.Util.trim(t)).toLowerCase();for(var e="\xe3\xe0\xe1\xe4\xe2\u1ebd\xe8\xe9\xeb\xea\xec\xed\xef\xee\xf5\xf2\xf3\xf6\xf4\xf9\xfa\xfc\xfb\xf1\xe7\xb7/_,:;",i=0,n=e.length;n>i;i++)t=t.replace(new RegExp(e.charAt(i),"g"),"aaaaaeeeeeiiiiooooouuuunc------".charAt(i));return(t=t.replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")).replace(/^([0-9])/,"_$1")},maxDepth:function(t){for(var e=[],i=0,n=0;n<t.length;n++){if(e.push(t[n]),e.length>1){for(var a=e[e.length-1],o=-1,r=0;r<e.length-1;r++)e[r][1]<a[0]&&(o=r);o>=0&&(e=e.slice(o+1))}e.length>i&&(i=e.length)}return i},pad:function(t,e){for(t=String(t),e=e||2;t.length<e;)t="0"+t;return t},intToHexString:function(t){return TL.Util.pad(parseInt(t,10).toString(16))},findNextGreater:function(t,e,i){for(var n=0;n<t.length;n++)if(e<t[n])return t[n];return i||e},findNextLesser:function(t,e,i){for(var n=t.length-1;n>=0;n--)if(e>t[n])return t[n];return i||e},isEmptyObject:function(t){var e=[];if(Object.keys)e=Object.keys(t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.push(i);for(var n=0;n<e.length;n++){var a=e[n];if(null!=t[a]&&"string"!=typeof t[a])return!1;if(0!=TL.Util.trim(t[a]).length)return!1}return!0},parseYouTubeTime:function(t){if("string"==typeof t){if(parts=t.match(/^\s*(\d+h)?(\d+m)?(\d+s)?\s*/i)){var e=parseInt(parts[1])||0,i=parseInt(parts[2])||0;return(parseInt(parts[3])||0)+60*i+60*e*60}}else if("number"==typeof t)return t;return 0},transformImageURL:function(t){return t.replace(/(.*)www.dropbox.com\/(.*)/,"$1dl.dropboxusercontent.com/$2")},base58:function(t){var e="123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ",i=e.length;return{encode:function(t){if("number"!=typeof t||t!==parseInt(t))throw'"encode" only accepts integers.';for(var n="";t;){var a=t%i;t=Math.floor(t/i),n=e[a].toString()+n}return n},decode:function(t){if("string"!=typeof t)throw'"decode" only accepts strings.';for(var n=0;t;){var a=e.indexOf(t[0]);if(0>a)throw'"decode" can\'t find "'+t[0]+'" in the alphabet: "'+e+'"';n+=a*Math.pow(i,t.length-1),t=t.substring(1)}return n}}}()},function(t){var e,i=function(){function t(t){return null==t?String(t):H[z.call(t)]||"object"}function e(e){return"function"==t(e)}function i(t){return null!=t&&t==t.window}function n(t){return null!=t&&t.nodeType==t.DOCUMENT_NODE}function a(e){return"object"==t(e)}function o(t){return a(t)&&!i(t)&&Object.getPrototypeOf(t)==Object.prototype}function r(t){return"number"==typeof t.length}function s(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function l(t){return t in S?S[t]:S[t]=new RegExp("(^|\\s)"+t+"(\\s|$)")}function c(t,e){return"number"!=typeof e||M[s(t)]?e:e+"px"}function d(t){return"children"in t?w.call(t.children):v.map(t.childNodes,function(t){return 1==t.nodeType?t:void 0})}function h(t,e){return null==e?v(t):v(t).filter(e)}function u(t,i,n,a){return e(i)?i.call(t,n,a):i}function f(t,e,i){null==i?t.removeAttribute(e):t.setAttribute(e,i)}function p(t,e){var i=t.className,n=i&&i.baseVal!==g;return e===g?n?i.baseVal:i:void(n?i.baseVal=e:t.className=e)}function m(t){var e;try{return t?"true"==t||"false"!=t&&("null"==t?null:/^0/.test(t)||isNaN(e=Number(t))?/^[\[\{]/.test(t)?v.parseJSON(t):t:e):t}catch(e){return t}}var g,_,v,y,b,x,T=[],w=T.slice,k=T.filter,L=window.document,D={},S={},M={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},C=/^\s*<(\w+|!)[^>]*>/,E=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,A=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,I=/^(?:body|html)$/i,N=/([A-Z])/g,P=["val","css","html","text","data","width","height","offset"],O=L.createElement("table"),F=L.createElement("tr"),R={tr:L.createElement("tbody"),tbody:O,thead:O,tfoot:O,td:F,th:F,"*":L.createElement("div")},B=/complete|loaded|interactive/,j=/^[\w-]*$/,H={},z=H.toString,W={},U=L.createElement("div"),q={tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},V=Array.isArray||function(t){return t instanceof Array};return W.matches=function(t,e){if(!e||!t||1!==t.nodeType)return!1;var i=t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.matchesSelector;if(i)return i.call(t,e);var n,a=t.parentNode,o=!a;return o&&(a=U).appendChild(t),n=~W.qsa(a,e).indexOf(t),o&&U.removeChild(t),n},b=function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})},x=function(t){return k.call(t,function(e,i){return t.indexOf(e)==i})},W.fragment=function(t,e,i){var n,a,r;return E.test(t)&&(n=v(L.createElement(RegExp.$1))),n||(t.replace&&(t=t.replace(A,"<$1></$2>")),e===g&&(e=C.test(t)&&RegExp.$1),e in R||(e="*"),(r=R[e]).innerHTML=""+t,n=v.each(w.call(r.childNodes),function(){r.removeChild(this)})),o(i)&&(a=v(n),v.each(i,function(t,e){P.indexOf(t)>-1?a[t](e):a.attr(t,e)})),n},W.Z=function(t,e){return(t=t||[]).__proto__=v.fn,t.selector=e||"",t},W.isZ=function(t){return t instanceof W.Z},W.init=function(t,i){var n;if(!t)return W.Z();if("string"==typeof t)if("<"==(t=t.trim())[0]&&C.test(t))n=W.fragment(t,RegExp.$1,i),t=null;else{if(i!==g)return v(i).find(t);n=W.qsa(L,t)}else{if(e(t))return v(L).ready(t);if(W.isZ(t))return t;if(V(t))n=function(t){return k.call(t,function(t){return null!=t})}(t);else if(a(t))n=[t],t=null;else if(C.test(t))n=W.fragment(t.trim(),RegExp.$1,i),t=null;else{if(i!==g)return v(i).find(t);n=W.qsa(L,t)}}return W.Z(n,t)},(v=function(t,e){return W.init(t,e)}).extend=function(t){var e,i=w.call(arguments,1);return"boolean"==typeof t&&(e=t,t=i.shift()),i.forEach(function(i){!function t(e,i,n){for(_ in i)n&&(o(i[_])||V(i[_]))?(o(i[_])&&!o(e[_])&&(e[_]={}),V(i[_])&&!V(e[_])&&(e[_]=[]),t(e[_],i[_],n)):i[_]!==g&&(e[_]=i[_])}(t,i,e)}),t},W.qsa=function(t,e){var i,a="#"==e[0],o=!a&&"."==e[0],r=a||o?e.slice(1):e,s=j.test(r);return n(t)&&s&&a?(i=t.getElementById(r))?[i]:[]:1!==t.nodeType&&9!==t.nodeType?[]:w.call(s&&!a?o?t.getElementsByClassName(r):t.getElementsByTagName(e):t.querySelectorAll(e))},v.contains=function(t,e){return t!==e&&t.contains(e)},v.type=t,v.isFunction=e,v.isWindow=i,v.isArray=V,v.isPlainObject=o,v.isEmptyObject=function(t){var e;for(e in t)return!1;return!0},v.inArray=function(t,e,i){return T.indexOf.call(e,t,i)},v.camelCase=b,v.trim=function(t){return null==t?"":String.prototype.trim.call(t)},v.uuid=0,v.support={},v.expr={},v.map=function(t,e){var i,n,a,o=[];if(r(t))for(n=0;n<t.length;n++)null!=(i=e(t[n],n))&&o.push(i);else for(a in t)null!=(i=e(t[a],a))&&o.push(i);return function(t){return t.length>0?v.fn.concat.apply([],t):t}(o)},v.each=function(t,e){var i,n;if(r(t)){for(i=0;i<t.length;i++)if(!1===e.call(t[i],i,t[i]))return t}else for(n in t)if(!1===e.call(t[n],n,t[n]))return t;return t},v.grep=function(t,e){return k.call(t,e)},window.JSON&&(v.parseJSON=JSON.parse),v.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){H["[object "+e+"]"]=e.toLowerCase()}),v.fn={forEach:T.forEach,reduce:T.reduce,push:T.push,sort:T.sort,indexOf:T.indexOf,concat:T.concat,map:function(t){return v(v.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return v(w.apply(this,arguments))},ready:function(t){return B.test(L.readyState)&&L.body?t(v):L.addEventListener("DOMContentLoaded",function(){t(v)},!1),this},get:function(t){return t===g?w.call(this):this[t>=0?t:t+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(t){return T.every.call(this,function(e,i){return!1!==t.call(e,i,e)}),this},filter:function(t){return e(t)?this.not(this.not(t)):v(k.call(this,function(e){return W.matches(e,t)}))},add:function(t,e){return v(x(this.concat(v(t,e))))},is:function(t){return this.length>0&&W.matches(this[0],t)},not:function(t){var i=[];if(e(t)&&t.call!==g)this.each(function(e){t.call(this,e)||i.push(this)});else{var n="string"==typeof t?this.filter(t):r(t)&&e(t.item)?w.call(t):v(t);this.forEach(function(t){n.indexOf(t)<0&&i.push(t)})}return v(i)},has:function(t){return this.filter(function(){return a(t)?v.contains(this,t):v(this).find(t).size()})},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){var t=this[0];return t&&!a(t)?t:v(t)},last:function(){var t=this[this.length-1];return t&&!a(t)?t:v(t)},find:function(t){var e=this;return"object"==typeof t?v(t).filter(function(){var t=this;return T.some.call(e,function(e){return v.contains(e,t)})}):1==this.length?v(W.qsa(this[0],t)):this.map(function(){return W.qsa(this,t)})},closest:function(t,e){var i=this[0],a=!1;for("object"==typeof t&&(a=v(t));i&&!(a?a.indexOf(i)>=0:W.matches(i,t));)i=i!==e&&!n(i)&&i.parentNode;return v(i)},parents:function(t){for(var e=[],i=this;i.length>0;)i=v.map(i,function(t){return(t=t.parentNode)&&!n(t)&&e.indexOf(t)<0?(e.push(t),t):void 0});return h(e,t)},parent:function(t){return h(x(this.pluck("parentNode")),t)},children:function(t){return h(this.map(function(){return d(this)}),t)},contents:function(){return this.map(function(){return w.call(this.childNodes)})},siblings:function(t){return h(this.map(function(t,e){return k.call(d(e.parentNode),function(t){return t!==e})}),t)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(t){return v.map(this,function(e){return e[t]})},show:function(){return this.each(function(){var t,e,i;"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=(D[t=this.nodeName]||(e=L.createElement(t),L.body.appendChild(e),i=getComputedStyle(e,"").getPropertyValue("display"),e.parentNode.removeChild(e),"none"==i&&(i="block"),D[t]=i),D[t]))})},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){var i=e(t);if(this[0]&&!i)var n=v(t).get(0),a=n.parentNode||this.length>1;return this.each(function(e){v(this).wrapAll(i?t.call(this,e):a?n.cloneNode(!0):n)})},wrapAll:function(t){if(this[0]){v(this[0]).before(t=v(t));for(var e;(e=t.children()).length;)t=e.first();v(t).append(this)}return this},wrapInner:function(t){var i=e(t);return this.each(function(e){var n=v(this),a=n.contents(),o=i?t.call(this,e):t;a.length?a.wrapAll(o):n.append(o)})},unwrap:function(){return this.parent().each(function(){v(this).replaceWith(v(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(t){return this.each(function(){var e=v(this);(t===g?"none"==e.css("display"):t)?e.show():e.hide()})},prev:function(t){return v(this.pluck("previousElementSibling")).filter(t||"*")},next:function(t){return v(this.pluck("nextElementSibling")).filter(t||"*")},html:function(t){return 0===arguments.length?this.length>0?this[0].innerHTML:null:this.each(function(e){var i=this.innerHTML;v(this).empty().append(u(this,t,e,i))})},text:function(t){return 0===arguments.length?this.length>0?this[0].textContent:null:this.each(function(){this.textContent=t===g?"":""+t})},attr:function(t,e){var i;return"string"==typeof t&&e===g?0==this.length||1!==this[0].nodeType?g:"value"==t&&"INPUT"==this[0].nodeName?this.val():!(i=this[0].getAttribute(t))&&t in this[0]?this[0][t]:i:this.each(function(i){if(1===this.nodeType)if(a(t))for(_ in t)f(this,_,t[_]);else f(this,t,u(this,e,i,this.getAttribute(t)))})},removeAttr:function(t){return this.each(function(){1===this.nodeType&&f(this,t)})},prop:function(t,e){return t=q[t]||t,e===g?this[0]&&this[0][t]:this.each(function(i){this[t]=u(this,e,i,this[t])})},data:function(t,e){var i=this.attr("data-"+t.replace(N,"-$1").toLowerCase(),e);return null!==i?m(i):g},val:function(t){return 0===arguments.length?this[0]&&(this[0].multiple?v(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value):this.each(function(e){this.value=u(this,t,e,this.value)})},offset:function(t){if(t)return this.each(function(e){var i=v(this),n=u(this,t,e,i.offset()),a=i.offsetParent().offset(),o={top:n.top-a.top,left:n.left-a.left};"static"==i.css("position")&&(o.position="relative"),i.css(o)});if(0==this.length)return null;var e=this[0].getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,width:Math.round(e.width),height:Math.round(e.height)}},css:function(e,i){if(arguments.length<2){var n=this[0],a=getComputedStyle(n,"");if(!n)return;if("string"==typeof e)return n.style[b(e)]||a.getPropertyValue(e);if(V(e)){var o={};return v.each(V(e)?e:[e],function(t,e){o[e]=n.style[b(e)]||a.getPropertyValue(e)}),o}}var r="";if("string"==t(e))i||0===i?r=s(e)+":"+c(e,i):this.each(function(){this.style.removeProperty(s(e))});else for(_ in e)e[_]||0===e[_]?r+=s(_)+":"+c(_,e[_])+";":this.each(function(){this.style.removeProperty(s(_))});return this.each(function(){this.style.cssText+=";"+r})},index:function(t){return t?this.indexOf(v(t)[0]):this.parent().children().indexOf(this[0])},hasClass:function(t){return!!t&&T.some.call(this,function(t){return this.test(p(t))},l(t))},addClass:function(t){return t?this.each(function(e){y=[];var i=p(this);u(this,t,e,i).split(/\s+/g).forEach(function(t){v(this).hasClass(t)||y.push(t)},this),y.length&&p(this,i+(i?" ":"")+y.join(" "))}):this},removeClass:function(t){return this.each(function(e){return t===g?p(this,""):(y=p(this),u(this,t,e,y).split(/\s+/g).forEach(function(t){y=y.replace(l(t)," ")}),void p(this,y.trim()))})},toggleClass:function(t,e){return t?this.each(function(i){var n=v(this);u(this,t,i,p(this)).split(/\s+/g).forEach(function(t){(e===g?!n.hasClass(t):e)?n.addClass(t):n.removeClass(t)})}):this},scrollTop:function(t){if(this.length){var e="scrollTop"in this[0];return t===g?e?this[0].scrollTop:this[0].pageYOffset:this.each(e?function(){this.scrollTop=t}:function(){this.scrollTo(this.scrollX,t)})}},scrollLeft:function(t){if(this.length){var e="scrollLeft"in this[0];return t===g?e?this[0].scrollLeft:this[0].pageXOffset:this.each(e?function(){this.scrollLeft=t}:function(){this.scrollTo(t,this.scrollY)})}},position:function(){if(this.length){var t=this[0],e=this.offsetParent(),i=this.offset(),n=I.test(e[0].nodeName)?{top:0,left:0}:e.offset();return i.top-=parseFloat(v(t).css("margin-top"))||0,i.left-=parseFloat(v(t).css("margin-left"))||0,n.top+=parseFloat(v(e[0]).css("border-top-width"))||0,n.left+=parseFloat(v(e[0]).css("border-left-width"))||0,{top:i.top-n.top,left:i.left-n.left}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||L.body;t&&!I.test(t.nodeName)&&"static"==v(t).css("position");)t=t.offsetParent;return t})}},v.fn.detach=v.fn.remove,["width","height"].forEach(function(t){var e=t.replace(/./,function(t){return t[0].toUpperCase()});v.fn[t]=function(a){var o,r=this[0];return a===g?i(r)?r["inner"+e]:n(r)?r.documentElement["scroll"+e]:(o=this.offset())&&o[t]:this.each(function(e){(r=v(this)).css(t,u(this,a,e,r[t]()))})}}),["after","prepend","before","append"].forEach(function(e,i){var n=i%2;v.fn[e]=function(){var e,a,o=v.map(arguments,function(i){return"object"==(e=t(i))||"array"==e||null==i?i:W.fragment(i)}),r=this.length>1;return o.length<1?this:this.each(function(t,e){a=n?e:e.parentNode,e=0==i?e.nextSibling:1==i?e.firstChild:2==i?e:null,o.forEach(function(t){if(r)t=t.cloneNode(!0);else if(!a)return v(t).remove();!function t(e,i){for(var n in i(e),e.childNodes)t(e.childNodes[n],i)}(a.insertBefore(t,e),function(t){null==t.nodeName||"SCRIPT"!==t.nodeName.toUpperCase()||t.type&&"text/javascript"!==t.type||t.src||window.eval.call(window,t.innerHTML)})})})},v.fn[n?e+"To":"insert"+(i?"Before":"After")]=function(t){return v(t)[e](this),this}}),W.Z.prototype=v.fn,W.uniq=x,W.deserializeValue=m,v.zepto=W,v}();window.Zepto=i,void 0===window.$&&(window.$=i),function(t){function e(t){return t._zid||(t._zid=h++)}function i(t,i,a,o){if((i=n(i)).ns)var r=new RegExp("(?:^| )"+i.ns.replace(" "," .* ?")+"(?: |$)");return(m[e(t)]||[]).filter(function(t){return!(!t||i.e&&t.e!=i.e||i.ns&&!r.test(t.ns)||a&&e(t.fn)!==e(a)||o&&t.sel!=o)})}function n(t){var e=(""+t).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}function a(t,e){return t.del&&!_&&t.e in v||!!e}function o(t){return y[t]||_&&v[t]||t}function r(i,r,s,c,h,u,f){var p=e(i),g=m[p]||(m[p]=[]);r.split(/\s/).forEach(function(e){if("ready"==e)return t(document).ready(s);var r=n(e);r.fn=s,r.sel=h,r.e in y&&(s=function(e){var i=e.relatedTarget;return!i||i!==this&&!t.contains(this,i)?r.fn.apply(this,arguments):void 0}),r.del=u;var p=u||s;r.proxy=function(t){if(!(t=l(t)).isImmediatePropagationStopped()){t.data=c;var e=p.apply(i,t._args==d?[t]:[t].concat(t._args));return!1===e&&(t.preventDefault(),t.stopPropagation()),e}},r.i=g.length,g.push(r),"addEventListener"in i&&i.addEventListener(o(r.e),r.proxy,a(r,f))})}function s(t,n,r,s,l){var c=e(t);(n||"").split(/\s/).forEach(function(e){i(t,e,r,s).forEach(function(e){delete m[c][e.i],"removeEventListener"in t&&t.removeEventListener(o(e.e),e.proxy,a(e,l))})})}function l(e,i){return(i||!e.isDefaultPrevented)&&(i||(i=e),t.each(w,function(t,n){var a=i[t];e[t]=function(){return this[n]=b,a&&a.apply(i,arguments)},e[n]=x}),(i.defaultPrevented!==d?i.defaultPrevented:"returnValue"in i?!1===i.returnValue:i.getPreventDefault&&i.getPreventDefault())&&(e.isDefaultPrevented=b)),e}function c(t){var e,i={originalEvent:t};for(e in t)T.test(e)||t[e]===d||(i[e]=t[e]);return l(i,t)}var d,h=1,u=Array.prototype.slice,f=t.isFunction,p=function(t){return"string"==typeof t},m={},g={},_="onfocusin"in window,v={focus:"focusin",blur:"focusout"},y={mouseenter:"mouseover",mouseleave:"mouseout"};g.click=g.mousedown=g.mouseup=g.mousemove="MouseEvents",t.event={add:r,remove:s},t.proxy=function(i,n){if(f(i)){var a=function(){return i.apply(n,arguments)};return a._zid=e(i),a}if(p(n))return t.proxy(i[n],i);throw new TypeError("expected function")},t.fn.bind=function(t,e,i){return this.on(t,e,i)},t.fn.unbind=function(t,e){return this.off(t,e)},t.fn.one=function(t,e,i,n){return this.on(t,e,i,n,1)};var b=function(){return!0},x=function(){return!1},T=/^([A-Z]|returnValue$|layer[XY]$)/,w={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};t.fn.delegate=function(t,e,i){return this.on(e,t,i)},t.fn.undelegate=function(t,e,i){return this.off(e,t,i)},t.fn.live=function(e,i){return t(document.body).delegate(this.selector,e,i),this},t.fn.die=function(e,i){return t(document.body).undelegate(this.selector,e,i),this},t.fn.on=function(e,i,n,a,o){var l,h,m=this;return e&&!p(e)?(t.each(e,function(t,e){m.on(t,i,n,e,o)}),m):(p(i)||f(a)||!1===a||(a=n,n=i,i=d),(f(n)||!1===n)&&(a=n,n=d),!1===a&&(a=x),m.each(function(d,f){o&&(l=function(t){return s(f,t.type,a),a.apply(this,arguments)}),i&&(h=function(e){var n,o=t(e.target).closest(i,f).get(0);return o&&o!==f?(n=t.extend(c(e),{currentTarget:o,liveFired:f}),(l||a).apply(o,[n].concat(u.call(arguments,1)))):void 0}),r(f,e,a,n,i,h||l)}))},t.fn.off=function(e,i,n){var a=this;return e&&!p(e)?(t.each(e,function(t,e){a.off(t,i,e)}),a):(p(i)||f(n)||!1===n||(n=i,i=d),!1===n&&(n=x),a.each(function(){s(this,e,n,i)}))},t.fn.trigger=function(e,i){return(e=p(e)||t.isPlainObject(e)?t.Event(e):l(e))._args=i,this.each(function(){"dispatchEvent"in this?this.dispatchEvent(e):t(this).triggerHandler(e,i)})},t.fn.triggerHandler=function(e,n){var a,o;return this.each(function(r,s){(a=c(p(e)?t.Event(e):e))._args=n,a.target=s,t.each(i(s,e.type||e),function(t,e){return o=e.proxy(a),!a.isImmediatePropagationStopped()&&void 0})}),o},"focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(e){t.fn[e]=function(t){return t?this.bind(e,t):this.trigger(e)}}),["focus","blur"].forEach(function(e){t.fn[e]=function(t){return t?this.bind(e,t):this.each(function(){try{this[e]()}catch(t){}}),this}}),t.Event=function(t,e){p(t)||(t=(e=t).type);var i=document.createEvent(g[t]||"Events"),n=!0;if(e)for(var a in e)"bubbles"==a?n=!!e[a]:i[a]=e[a];return i.initEvent(t,n,!0),l(i)}}(i),function(t){function e(e,i,n,a){return e.global?function(e,i,n){var a=t.Event(i);return t(e).trigger(a,n),!a.isDefaultPrevented()}(i||p,n,a):void 0}function i(i){i.global&&0==t.active++&&e(i,null,"ajaxStart")}function n(t,i){var n=i.context;return!1!==i.beforeSend.call(n,t,i)&&!1!==e(i,n,"ajaxBeforeSend",[t,i])&&void e(i,n,"ajaxSend",[t,i])}function a(t,i,n,a){var o=n.context,s="success";n.success.call(o,t,s,i),a&&a.resolveWith(o,[t,s,i]),e(n,o,"ajaxSuccess",[i,n,t]),r(s,i,n)}function o(t,i,n,a,o){var s=a.context;a.error.call(s,n,i,t),o&&o.rejectWith(s,[n,i,t]),e(a,s,"ajaxError",[n,a,t||i]),r(i,n,a)}function r(i,n,a){var o=a.context;a.complete.call(o,n,i),e(a,o,"ajaxComplete",[n,a]),function(i){i.global&&!--t.active&&e(i,null,"ajaxStop")}(a)}function s(){}function l(t){return t&&(t=t.split(";",2)[0]),t&&(t==y?"html":t==v?"json":g.test(t)?"script":_.test(t)&&"xml")||"text"}function c(t,e){return""==e?t:(t+"&"+e).replace(/[&?]{1,2}/,"?")}function d(e,i,n,a){var o=!t.isFunction(i);return{url:e,data:o?i:void 0,success:o?t.isFunction(n)?n:void 0:i,dataType:o&&a||n}}var h,u,f=0,p=window.document,m=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,g=/^(?:text|application)\/javascript/i,_=/^(?:text|application)\/xml/i,v="application/json",y="text/html",b=/^\s*$/;t.active=0,t.ajaxJSONP=function(e,i){if(!("type"in e))return t.ajax(e);var r,s,l=e.jsonpCallback,c=(t.isFunction(l)?l():l)||"jsonp"+ ++f,d=p.createElement("script"),h=window[c],u=function(e){t(d).triggerHandler("error",e||"abort")},m={abort:u};return i&&i.promise(m),t(d).on("load error",function(n,l){clearTimeout(s),t(d).off().remove(),"error"!=n.type&&r?a(r[0],m,e,i):o(null,l||"error",m,e,i),window[c]=h,r&&t.isFunction(h)&&h(r[0]),h=r=void 0}),!1===n(m,e)?(u("abort"),m):(window[c]=function(){r=arguments},d.src=e.url.replace(/\?(.+)=\?/,"?$1="+c),p.head.appendChild(d),e.timeout>0&&(s=setTimeout(function(){u("timeout")},e.timeout)),m)},t.ajaxSettings={type:"GET",beforeSend:s,success:s,error:s,complete:s,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:v,xml:"application/xml, text/xml",html:y,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},t.ajax=function(e){var r=t.extend({},e||{}),d=t.Deferred&&t.Deferred();for(h in t.ajaxSettings)void 0===r[h]&&(r[h]=t.ajaxSettings[h]);i(r),r.crossDomain||(r.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(r.url)&&RegExp.$2!=window.location.host),r.url||(r.url=window.location.toString()),function(e){e.processData&&e.data&&"string"!=t.type(e.data)&&(e.data=t.param(e.data,e.traditional)),!e.data||e.type&&"GET"!=e.type.toUpperCase()||(e.url=c(e.url,e.data),e.data=void 0)}(r),!1===r.cache&&(r.url=c(r.url,"_="+Date.now()));var f=r.dataType,p=/\?.+=\?/.test(r.url);if("jsonp"==f||p)return p||(r.url=c(r.url,r.jsonp?r.jsonp+"=?":!1===r.jsonp?"":"callback=?")),t.ajaxJSONP(r,d);var m,g=r.accepts[f],_={},v=function(t,e){_[t.toLowerCase()]=[t,e]},y=/^([\w-]+:)\/\//.test(r.url)?RegExp.$1:window.location.protocol,x=r.xhr(),T=x.setRequestHeader;if(d&&d.promise(x),r.crossDomain||v("X-Requested-With","XMLHttpRequest"),v("Accept",g||"*/*"),(g=r.mimeType||g)&&(g.indexOf(",")>-1&&(g=g.split(",",2)[0]),x.overrideMimeType&&x.overrideMimeType(g)),(r.contentType||!1!==r.contentType&&r.data&&"GET"!=r.type.toUpperCase())&&v("Content-Type",r.contentType||"application/x-www-form-urlencoded"),r.headers)for(u in r.headers)v(u,r.headers[u]);if(x.setRequestHeader=v,x.onreadystatechange=function(){if(4==x.readyState){x.onreadystatechange=s,clearTimeout(m);var e,i=!1;if(x.status>=200&&x.status<300||304==x.status||0==x.status&&"file:"==y){f=f||l(r.mimeType||x.getResponseHeader("content-type")),e=x.responseText;try{"script"==f?(0,eval)(e):"xml"==f?e=x.responseXML:"json"==f&&(e=b.test(e)?null:t.parseJSON(e))}catch(t){i=t}i?o(i,"parsererror",x,r,d):a(e,x,r,d)}else o(x.statusText||null,x.status?"error":"abort",x,r,d)}},!1===n(x,r))return x.abort(),o(null,"abort",x,r,d),x;if(r.xhrFields)for(u in r.xhrFields)x[u]=r.xhrFields[u];var w=!("async"in r)||r.async;for(u in x.open(r.type,r.url,w,r.username,r.password),_)T.apply(x,_[u]);return r.timeout>0&&(m=setTimeout(function(){x.onreadystatechange=s,x.abort(),o(null,"timeout",x,r,d)},r.timeout)),x.send(r.data?r.data:null),x},t.get=function(){return t.ajax(d.apply(null,arguments))},t.post=function(){var e=d.apply(null,arguments);return e.type="POST",t.ajax(e)},t.getJSON=function(){var e=d.apply(null,arguments);return e.dataType="json",t.ajax(e)},t.fn.load=function(e,i,n){if(!this.length)return this;var a,o=this,r=e.split(/\s/),s=d(e,i,n),l=s.success;return r.length>1&&(s.url=r[0],a=r[1]),s.success=function(e){o.html(a?t("<div>").html(e.replace(m,"")).find(a):e),l&&l.apply(o,arguments)},t.ajax(s),this};var x=encodeURIComponent;t.param=function(e,i){var n=[];return n.add=function(t,e){this.push(x(t)+"="+x(e))},function e(i,n,a,o){var r,s=t.isArray(n),l=t.isPlainObject(n);t.each(n,function(n,c){r=t.type(c),o&&(n=a?o:o+"["+(l||"object"==r||"array"==r?n:"")+"]"),!o&&s?i.add(c.name,c.value):"array"==r||!a&&"object"==r?e(i,c,a,n):i.add(n,c)})}(n,e,i),n.join("&").replace(/%20/g,"+")}}(i),(e=i).fn.serializeArray=function(){var t,i=[];return e([].slice.call(this.get(0).elements)).each(function(){var n=(t=e(this)).attr("type");"fieldset"!=this.nodeName.toLowerCase()&&!this.disabled&&"submit"!=n&&"reset"!=n&&"button"!=n&&("radio"!=n&&"checkbox"!=n||this.checked)&&i.push({name:t.attr("name"),value:t.val()})}),i},e.fn.serialize=function(){var t=[];return this.serializeArray().forEach(function(e){t.push(encodeURIComponent(e.name)+"="+encodeURIComponent(e.value))}),t.join("&")},e.fn.submit=function(t){if(t)this.bind("submit",t);else if(this.length){var i=e.Event("submit");this.eq(0).trigger(i),i.isDefaultPrevented()||this.get(0).submit()}return this},function(t){"__proto__"in{}||t.extend(t.zepto,{Z:function(e,i){return t.extend(e=e||[],t.fn),e.selector=i||"",e.__Z=!0,e},isZ:function(e){return"array"===t.type(e)&&"__Z"in e}});try{getComputedStyle(void 0)}catch(t){var e=getComputedStyle;window.getComputedStyle=function(t,i){try{return e(t,i)}catch(t){return null}}}}(i),t.getJSON=i.getJSON,t.ajax=i.ajax}(TL),TL.Class=function(){},TL.Class.extend=function(t){var e=function(){this.initialize&&this.initialize.apply(this,arguments)},i=function(){};i.prototype=this.prototype;var n=new i;for(var a in n.constructor=e,e.prototype=n,e.superclass=this.prototype,this)this.hasOwnProperty(a)&&"prototype"!==a&&"superclass"!==a&&(e[a]=this[a]);return t.statics&&(TL.Util.extend(e,t.statics),delete t.statics),t.includes&&(TL.Util.extend.apply(null,[n].concat(t.includes)),delete t.includes),t.options&&n.options&&(t.options=TL.Util.extend({},n.options,t.options)),TL.Util.extend(n,t),e.extend=TL.Class.extend,e.include=function(t){TL.Util.extend(this.prototype,t)},e},TL.Events={addEventListener:function(t,e,i){var n=this._tl_events=this._tl_events||{};return n[t]=n[t]||[],n[t].push({action:e,context:i||this}),this},hasEventListeners:function(t){var e="_tl_events";return e in this&&t in this[e]&&this[e][t].length>0},removeEventListener:function(t,e,i){if(!this.hasEventListeners(t))return this;for(var n=0,a=this._tl_events,o=a[t].length;o>n;n++)if(a[t][n].action===e&&(!i||a[t][n].context===i))return a[t].splice(n,1),this;return this},fireEvent:function(t,e){if(!this.hasEventListeners(t))return this;for(var i=TL.Util.mergeData({type:t,target:this},e),n=this._tl_events[t].slice(),a=0,o=n.length;o>a;a++)n[a].action.call(n[a].context||this,i);return this}},TL.Events.on=TL.Events.addEventListener,TL.Events.off=TL.Events.removeEventListener,TL.Events.fire=TL.Events.fireEvent,function(){var t=navigator.userAgent.toLowerCase(),e=document.documentElement,i="ActiveXObject"in window,n=-1!==t.indexOf("webkit"),a=-1!==t.indexOf("phantom"),o=-1!==t.search("android [23]"),r="undefined"!=typeof orientation,s=navigator.msPointerEnabled&&navigator.msMaxTouchPoints&&!window.PointerEvent,l=window.PointerEvent&&navigator.pointerEnabled&&navigator.maxTouchPoints||s,c=i&&"transition"in e.style,d="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!o,h="MozPerspective"in e.style,u="OTransition"in e.style,f=(window,"devicePixelRatio"in window&&window.devicePixelRatio>1);if(!f&&"matchMedia"in window){var p=window.matchMedia("(min-resolution:144dpi)");f=p&&p.matches}var m=!window.L_NO_TOUCH&&!a&&(l||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch);TL.Browser={ie:i,ua:t,ie9:Boolean(i&&t.match(/MSIE 9/i)),ielt9:i&&!document.addEventListener,webkit:n,firefox:-1!==t.indexOf("gecko")&&!n&&!window.opera&&!i,android:-1!==t.indexOf("android"),android23:o,chrome:-1!==t.indexOf("chrome"),edge:-1!==t.indexOf("edge/"),ie3d:c,webkit3d:d,gecko3d:h,opera3d:u,any3d:!window.L_DISABLE_3D&&(c||d||h||u)&&!a,mobile:r,mobileWebkit:r&&n,mobileWebkit3d:r&&d,mobileOpera:r&&window.opera,touch:!!m,msPointer:!!s,pointer:!!l,retina:!!f,orientation:function(){var t="portrait";return window.innerWidth>window.innerHeight&&(t="landscape"),Math.abs(window.orientation),trace(t),t}}}(),TL.Load=function(){function t(t){var i=0,n=!1;for(i=0;i<e.length;i++)e[i]==t&&(n=!0);return!!n||(e.push(t),!1)}var e=[];return{css:function(e,i,n,a){t(e)?i():TL.LoadIt.css(e,i,n,a)},js:function(e,i,n,a){t(e)?i():TL.LoadIt.js(e,i,n,a)}}}(),TL.LoadIt=function(t){function e(e,i){var n,a=t.createElement(e);for(n in i)i.hasOwnProperty(n)&&a.setAttribute(n,i[n]);return a}function i(t){var e,i,a=l[t];a&&(e=a.callback,(i=a.urls).shift(),c=0,i.length||(e&&e.call(a.context,a.obj),l[t]=null,d[t].length&&n(t)))}function n(n,c,h,u,f){var p,m,g,_,v,y,b=function(){i(n)},x="css"===n,T=[];if(r||function(){var e=navigator.userAgent;((r={async:!0===t.createElement("script").async}).webkit=/AppleWebKit\//.test(e))||(r.ie=/MSIE/.test(e))||(r.opera=/Opera/.test(e))||(r.gecko=/Gecko\//.test(e))||(r.unknown=!0)}(),c)if(c="string"==typeof c?[c]:c.concat(),x||r.async||r.gecko||r.opera)d[n].push({urls:c,callback:h,obj:u,context:f});else for(p=0,m=c.length;m>p;++p)d[n].push({urls:[c[p]],callback:p===m-1?h:null,obj:u,context:f});if(!l[n]&&(_=l[n]=d[n].shift())){for(s||(s=t.head||t.getElementsByTagName("head")[0]),p=0,m=(v=_.urls).length;m>p;++p)y=v[p],x?g=r.gecko?e("style"):e("link",{href:y,rel:"stylesheet"}):(g=e("script",{src:y})).async=!1,g.className="lazyload",g.setAttribute("charset","utf-8"),r.ie&&!x?g.onreadystatechange=function(){/loaded|complete/.test(g.readyState)&&(g.onreadystatechange=null,b())}:x&&(r.gecko||r.webkit)?r.webkit?(_.urls[p]=g.href,o()):(g.innerHTML='@import "'+y+'";',a(g)):g.onload=g.onerror=b,T.push(g);for(p=0,m=T.length;m>p;++p)s.appendChild(T[p])}}function a(t){var e;try{e=!!t.sheet.cssRules}catch(n){return void(200>(c+=1)?setTimeout(function(){a(t)},50):e&&i("css"))}i("css")}function o(){var t,e=l.css;if(e){for(t=h.length;--t>=0;)if(h[t].href===e.urls[0]){i("css");break}c+=1,e&&(200>c?setTimeout(o,50):i("css"))}}var r,s,l={},c=0,d={css:[],js:[]},h=t.styleSheets;return{css:function(t,e,i,a){n("css",t,e,i,a)},js:function(t,e,i,a){n("js",t,e,i,a)}}}(this.document),TL.TimelineConfig=TL.Class.extend({includes:[],initialize:function(t){if(this.title="",this.scale="",this.events=[],this.eras=[],this.event_dict={},this.messages={errors:[],warnings:[]},"object"==typeof t&&t.events){if(this.scale=t.scale,this.events=[],this._ensureValidScale(t.events),t.title){var e=this._assignID(t.title);this._tidyFields(t.title),this.title=t.title,this.event_dict[e]=this.title}for(var i=0;i<t.events.length;i++)try{this.addEvent(t.events[i],!0)}catch(t){this.logError(t)}if(t.eras)for(i=0;i<t.eras.length;i++)try{this.addEra(t.eras[i],!0)}catch(t){this.logError("Era "+i+": "+t)}TL.DateUtil.sortByDate(this.events),TL.DateUtil.sortByDate(this.eras)}},logError:function(t){trace(t),this.messages.errors.push(t)},getErrors:function(t){return t?this.messages.errors.join(t):this.messages.errors},validate:function(){(void 0===this.events||void 0===this.events.length||0==this.events.length)&&this.logError("Timeline configuration has no events.");for(var t=0;t<this.eras.length;t++)void 0!==this.eras[t].start_date&&void 0!==this.eras[t].end_date||this.logError("All eras must have start and end dates. ["+(this.eras[t].text&&this.eras[t].text.headline?this.eras[t].text.headline:"era "+(t+1))+"]")},isValid:function(){return 0==this.messages.errors.length},addEvent:function(t,e){var i=this._assignID(t);if(void 0===t.start_date)throw new TL.Error("missing_start_date_err",i);return this._processDates(t),this._tidyFields(t),this.events.push(t),this.event_dict[i]=t,e||TL.DateUtil.sortByDate(this.events),i},addEra:function(t,e){var i=this._assignID(t);if(void 0===t.start_date)throw new TL.Error("missing_start_date_err",i);return this._processDates(t),this._tidyFields(t),this.eras.push(t),this.event_dict[i]=t,e||TL.DateUtil.sortByDate(this.eras),i},_assignID:function(t){var e=t.unique_id;return TL.Util.trim(e)||(e=t.text?TL.Util.slugify(t.text.headline):null),t.unique_id=TL.Util.ensureUniqueKey(this.event_dict,e),t.unique_id},_makeUniqueIdentifiers:function(t,e){for(var i=[t],n=0;n<e.length;n++)TL.Util.trim(e[n].unique_id)&&(e[n].unique_id=TL.Util.slugify(e[n].unique_id),-1==i.indexOf(e[n].unique_id)?i.push(e[n].unique_id):e[n].unique_id="");if(i.length!=e.length+1)for(n=0;n<e.length;n++)if(!e[n].unique_id){var a=e[n].text?TL.Util.slugify(e[n].text.headline):null;a||(a=TL.Util.unique_ID(6)),-1!=i.indexOf(a)&&(a=a+"-"+n),i.push(a),e[n].unique_id=a}},_ensureValidScale:function(t){if(!this.scale){trace("Determining scale dynamically"),this.scale="human";for(var e=0;e<t.length;e++){if("cosmological"==t[e].scale){this.scale="cosmological";break}if(t[e].start_date&&void 0!==t[e].start_date.year){var i=new TL.BigDate(t[e].start_date).data.date_obj.year;if(-271820>i||i>275759){this.scale="cosmological";break}}}}TL.DateUtil.SCALE_DATE_CLASSES[this.scale]||this.logError("Don't know how to process dates on scale "+this.scale)},_processDates:function(t){var e=TL.DateUtil.SCALE_DATE_CLASSES[this.scale];if(!(t.start_date instanceof e)){var i=t.start_date;if(t.start_date=new e(i),void 0!==t.end_date&&!(t.end_date instanceof e)){var n=t.end_date,a=!0;for(property in i)a=a&&i[property]==n[property];a?(trace("End date same as start date is redundant; dropping end date"),delete t.end_date):t.end_date=new e(n)}}},getEarliestDate:function(){var t=this.events[0].start_date;return this.eras&&this.eras.length>0&&this.eras[0].start_date.isBefore(t)?this.eras[0].start_date:t},getLatestDate:function(){for(var t=[],e=0;e<this.events.length;e++)t.push(this.events[e].end_date?{date:this.events[e].end_date}:{date:this.events[e].start_date});for(e=0;e<this.eras.length;e++)t.push(this.eras[e].end_date?{date:this.eras[e].end_date}:{date:this.eras[e].start_date});return TL.DateUtil.sortByDate(t,"date"),t.slice(-1)[0].date},_tidyFields:function(t){function e(t,e,i){i||(i=""),t.hasOwnProperty(e)||(t[e]=i)}t.group&&(t.group=TL.Util.trim(t.group)),t.text||(t.text={}),e(t.text,"text"),e(t.text,"headline")}}),function(t){function e(t){parts={key:null,worksheet:0};var e=/\bkey=([-_A-Za-z0-9]+)&?/i,i=/docs.google.com\/spreadsheets(.*?)\/d\//;if(t.match(e))parts.key=t.match(e)[1];else if(t.match(i)){var n=t.search(i)+t.match(i)[0].length,a=t.substr(n);parts.key=a.split("/")[0],t.match(/\?gid=(\d+)/)&&(parts.worksheet=t.match(/\?gid=(\d+)/)[1])}else t.match(/^\b[-_A-Za-z0-9]+$/)&&(parts.key=t);return parts.key?parts:null}function i(e){var i={};for(k in e)0==k.indexOf("gsx$")&&(i[k.substr(4)]=e[k].$t);if(t.Util.isEmptyObject(i))return null;var n={media:{caption:i.mediacaption||"",credit:i.mediacredit||"",url:i.media||"",thumbnail:i.mediathumbnail||""},text:{headline:i.headline||"",text:i.text||""},group:i.tag||"",type:i.type||""};return i.startdate&&(n.start_date=t.Date.parseDate(i.startdate)),i.enddate&&(n.end_date=t.Date.parseDate(i.enddate)),n}function n(e){function i(t){return t?t.replace(/[\s,]+/g,""):void 0}var n={};for(k in e)0==k.indexOf("gsx$")&&(n[k.substr(4)]=t.Util.trim(e[k].$t));if(t.Util.isEmptyObject(n))return null;var a={media:{caption:n.mediacaption||"",credit:n.mediacredit||"",url:n.media||"",thumbnail:n.mediathumbnail||""},text:{headline:n.headline||"",text:n.text||""},start_date:{year:i(n.year),month:i(n.month)||"",day:i(n.day)||""},end_date:{year:i(n.endyear)||"",month:i(n.endmonth)||"",day:i(n.endday)||""},display_date:n.displaydate||"",type:n.type||""};if(n.time&&t.Util.mergeData(a.start_date,t.DateUtil.parseTime(n.time)),n.endtime&&t.Util.mergeData(a.end_date,t.DateUtil.parseTime(n.endtime)),n.group&&(a.group=n.group),""==a.end_date.year){var o=a.end_date;delete a.end_date,(""!=o.month||""!=o.day||""!=o.time)&&(a.text.headline||trace("Invalid end date for spreadsheet row. Must have a year if any other date fields are specified."),trace(e))}return n.background&&(a.background=n.background.match(/^(https?:)?\/\/?/)?{url:n.background}:{color:n.background}),a}var a=function(e){if(void 0===e.feed.entry||0==e.feed.entry.length)throw new t.Error("empty_feed_err");var a=e.feed.entry[0];if(void 0!==a.gsx$startdate)return i;if(void 0!==a.gsx$year)return n;throw new t.Error("invalid_data_format_err")},o=function(i){i="https://spreadsheets.google.com/feeds/list/"+e(i).key+"/1/public/values?alt=json";var n=t.ajax({url:i,async:!1});return n=JSON.parse(n.responseText),r(n)},r=function(t){for(var e={events:[],errors:[],warnings:[],eras:[]},i=a(t),n=0;n<t.feed.entry.length;n++)try{var o=i(t.feed.entry[n]);if(o){var r="event";void 0!==o.type&&(r=o.type,delete o.type),"title"==r?e.title?(e.warnings.push("Multiple title slides detected."),e.events.push(o)):e.title=o:"era"==r?e.eras.push(o):e.events.push(o)}}catch(t){t.message&&(t=t.message),e.errors.push(t+" ["+n+"]")}return e};t.ConfigFactory={parseGoogleSpreadsheetURL:e,googleFeedJSONtoTimelineJSON:r,fromGoogle:function(t){return console.warn("TL.ConfigFactory.fromGoogle is deprecated and will be removed soon. Use TL.ConfigFactory.makeConfig(url,callback)"),o(t)},makeConfig:function(i,n){var a;if(e(i)){try{var r=o(i)}catch(e){return(a=new t.TimelineConfig).logError("NetworkError"==e.name?new t.Error("network_err"):"TL.Error"==e.name?e:new t.Error("unknown_read_err",e.name)),void n(a)}if(a=new t.TimelineConfig(r),r.errors)for(var s=0;s<r.errors.length;s++)a.logError(r.errors[s]);n(a)}else t.ajax({url:i,dataType:"json",success:function(e){try{a=new t.TimelineConfig(e)}catch(e){(a=new t.TimelineConfig).logError(e)}n(a)},error:function(e,i,o){a=new t.TimelineConfig,o="parsererror"==i?new t.Error("invalid_url_err"):new t.Error("unknown_read_err",i),a.logError(o),n(a)}})}}}(TL),TL.Language=function(t){for(k in TL.Language.languages.en)this[k]=TL.Language.languages.en[k];if(t&&t.language&&"string"==typeof t.language&&"en"!=t.language){var e=t.language;if(!(e in TL.Language.languages)){if(/\.json$/.test(e))var i=e;else{var n="/locale/"+e+".json",a=t.script_path||TL.Timeline.source_path;/\/$/.test(a)&&(n=n.substr(1)),i=a+n}var o=TL.ajax({url:i,async:!1});if(200!=o.status)throw"Could not load language ["+e+"]: "+o.statusText;TL.Language.languages[e]=JSON.parse(o.responseText)}TL.Util.mergeData(this,TL.Language.languages[e])}},TL.Language.formatNumber=function(t,e){if(e.match(/%(\.(\d+))?f/)){var i=e.match(/%(\.(\d+))?f/),n=i[0];return i[2]&&(t=t.toFixed(i[2])),e.replace(n,t)}return e},TL.Language.prototype.mergeData=function(t){for(k in TL.Language.languages.en)t[k]&&("object"==typeof this[k]?TL.Util.mergeData(t[k],this[k]):this[k]=t[k])},TL.Language.fallback={messages:{}},TL.Language.prototype.getMessage=function(t){return this.messages[t]||TL.Language.fallback.messages[t]||t},TL.Language.prototype._=TL.Language.prototype.getMessage,TL.Language.prototype.formatDate=function(t,e){return t.constructor==Date?this.formatJSDate(t,e):t.constructor==TL.BigYear?this.formatBigYear(t,e):t.data&&t.data.date_obj?this.formatDate(t.data.date_obj,e):(trace("Unfamiliar date presented for formatting"),t.toString())},TL.Language.prototype.formatBigYear=function(t,e){var i=t.year,n=this.bigdateformats[e]||this.bigdateformats.fallback;if(n){for(var a=0;a<n.length;a++){var o=n[a];if(Math.abs(i/o[0])>1)return TL.Language.formatNumber(Math.abs(i/o[0]),o[1])}return i.toString()}return trace("Language file dateformats missing cosmological. Falling back."),TL.Language.formatNumber(i,e)},TL.Language.prototype.formatJSDate=function(t,e){var i=this,n=function(t,e){var n=i.period_labels[t];return n&&(t=12>e?n[0]:n[1]),"<span class='tl-timeaxis-timesuffix'>"+t+"</span>"};e||(e="full");var a=this.dateformats[e]||TL.Language.fallback.dateformats[e];a||(a=e);var o=t.getDate(),r=t.getDay(),s=t.getMonth(),l=t.getFullYear(),c=t.getHours(),d=t.getMinutes(),h=t.getSeconds(),u=t.getMilliseconds(),f=t.getTimezoneOffset(),p={d:o,dd:TL.Util.pad(o),ddd:this.date.day_abbr[r],dddd:this.date.day[r],m:s+1,mm:TL.Util.pad(s+1),mmm:this.date.month_abbr[s],mmmm:this.date.month[s],yy:String(l).slice(2),yyyy:0>l&&this.has_negative_year_modifier()?Math.abs(l):l,h:c%12||12,hh:TL.Util.pad(c%12||12),H:c,HH:TL.Util.pad(c),M:d,MM:TL.Util.pad(d),s:h,ss:TL.Util.pad(h),l:TL.Util.pad(u,3),L:TL.Util.pad(u>99?Math.round(u/10):u),t:n("t",c),tt:n("tt",c),T:n("T",c),TT:n("TT",c),Z:(String(t).match(/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g)||[""]).pop().replace(/[^-+\dA-Z]/g,""),o:(f>0?"-":"+")+TL.Util.pad(100*Math.floor(Math.abs(f)/60)+Math.abs(f)%60,4),S:["th","st","nd","rd"][o%10>3?0:(o%100-o%10!=10)*o%10]},m=a.replace(TL.Language.DATE_FORMAT_TOKENS,function(t){return t in p?p[t]:t.slice(1,t.length-1)});return this._applyEra(m,l)},TL.Language.prototype.has_negative_year_modifier=function(){return Boolean(this.era_labels.negative_year.prefix||this.era_labels.negative_year.suffix)},TL.Language.prototype._applyEra=function(t,e){var i=0>e?this.era_labels.negative_year:this.era_labels.positive_year,n="";return i.prefix&&(n+="<span>"+i.prefix+"</span> "),n+=t,i.suffix&&(n+=" <span>"+i.suffix+"</span>"),n},TL.Language.DATE_FORMAT_TOKENS=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,TL.Language.languages={en:{name:"English",lang:"en",api:{wikipedia:"en"},messages:{loading:"Loading",wikipedia:"From Wikipedia, the free encyclopedia",error:"Error",contract_timeline:"Contract Timeline",return_to_title:"Return to Title",loading_content:"Loading Content",expand_timeline:"Expand Timeline",loading_timeline:"Loading Timeline... ",swipe_to_navigate:"Swipe to Navigate<br><span class='tl-button'>OK</span>",unknown_read_err:"An unexpected error occurred trying to read your spreadsheet data",invalid_url_err:"Unable to read Timeline data. Make sure your URL is for a Google Spreadsheet or a Timeline JSON file.",network_err:"Unable to read your Google Spreadsheet. Make sure you have published it to the web.",empty_feed_err:"No data entries found",missing_start_date_err:"Missing start_date",invalid_data_format_err:"Header row has been modified.",date_compare_err:"Can't compare TL.Dates on different scales",invalid_scale_err:"Invalid scale",invalid_date_err:"Invalid date: month, day and year must be numbers.",invalid_separator_error:"Invalid time: misuse of : or . as separator.",invalid_hour_err:"Invalid time (hour)",invalid_minute_err:"Invalid time (minute)",invalid_second_err:"Invalid time (second)",invalid_fractional_err:"Invalid time (fractional seconds)",invalid_second_fractional_err:"Invalid time (seconds and fractional seconds)",invalid_year_err:"Invalid year",flickr_notfound_err:"Photo not found or private",flickr_invalidurl_err:"Invalid Flickr URL",imgur_invalidurl_err:"Invalid Imgur URL",twitter_invalidurl_err:"Invalid Twitter URL",twitter_load_err:"Unable to load Tweet",twitterembed_invalidurl_err:"Invalid Twitter Embed url",wikipedia_load_err:"Unable to load Wikipedia entry",youtube_invalidurl_err:"Invalid YouTube URL",spotify_invalid_url:"Invalid Spotify URL",template_value_err:"No value provided for variable",invalid_rgb_err:"Invalid RGB argument",time_scale_scale_err:"Don't know how to get date from time for scale",axis_helper_no_options_err:"Axis helper must be configured with options",axis_helper_scale_err:"No AxisHelper available for scale",invalid_integer_option:"Invalid option value\u2014must be a whole number."},date:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],month_abbr:["Jan.","Feb.","March","April","May","June","July","Aug.","Sept.","Oct.","Nov.","Dec."],day:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],day_abbr:["Sun.","Mon.","Tues.","Wed.","Thurs.","Fri.","Sat."]},era_labels:{positive_year:{prefix:"",suffix:""},negative_year:{prefix:"",suffix:"BCE"}},period_labels:{t:["a","p"],tt:["am","pm"],T:["A","P"],TT:["AM","PM"]},dateformats:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"mmm d",full:"mmmm d',' yyyy",time:"h:MM:ss TT' <small>'mmmm d',' yyyy'</small>'",time_short:"h:MM:ss TT",time_no_seconds_short:"h:MM TT",time_no_minutes_short:"h TT",time_no_seconds_small_date:"h:MM TT' <small>'mmmm d',' yyyy'</small>'",time_milliseconds:"l",full_long:"mmm d',' yyyy 'at' h:MM TT",full_long_small_date:"h:MM TT' <small>mmm d',' yyyy'</small>'"},bigdateformats:{fallback:[[1e9,"%.2f billion years ago"],[1e6,"%.1f million years ago"],[1e3,"%.1f thousand years ago"],[1,"%f years ago"]],compact:[[1e9,"%.2f bya"],[1e6,"%.1f mya"],[1e3,"%.1f kya"],[1,"%f years ago"]],verbose:[[1e9,"%.2f billion years ago"],[1e6,"%.1f million years ago"],[1e3,"%.1f thousand years ago"],[1,"%f years ago"]]}}},TL.Language.fallback=new TL.Language,TL.I18NMixins={getLanguage:function(){return this.options&&this.options.language?this.options.language:(trace("Expected a language option"),TL.Language.fallback)},_:function(t){return this.getLanguage()._(t)}},TL.Easings={ease:[.25,.1,.25,1],linear:[0,0,1,1],easein:[.42,0,1,1],easeout:[0,0,.58,1],easeinout:[.42,0,.58,1]},TL.Ease={KeySpline:function(t){function e(t,e){return 1-3*e+3*t}function i(t,e){return 3*e-6*t}function n(t){return 3*t}function a(t,a,o){return((e(a,o)*t+i(a,o))*t+n(a))*t}function o(t,a,o){return 3*e(a,o)*t*t+2*i(a,o)*t+n(a)}this.get=function(e){return t[0]==t[1]&&t[2]==t[3]?e:a(function(e){for(var i=e,n=0;4>n;++n){var r=o(i,t[0],t[2]);if(0==r)return i;i-=(a(i,t[0],t[2])-e)/r}return i}(e),t[1],t[3])}},easeInSpline:function(t){return new TL.Ease.KeySpline(TL.Easings.easein).get(t)},easeInOutExpo:function(t){return new TL.Ease.KeySpline(TL.Easings.easein).get(t)},easeOut:function(t){return Math.sin(t*Math.PI/2)},easeOutStrong:function(t){return 1==t?1:1-Math.pow(2,-10*t)},easeIn:function(t){return t*t},easeInStrong:function(t){return 0==t?0:Math.pow(2,10*(t-1))},easeOutBounce:function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInBack:function(t){var e=1.70158;return t*t*((e+1)*t-e)},easeOutBack:function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},bounce:function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bouncePast:function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?2-(7.5625*(t-=1.5/2.75)*t+.75):2.5/2.75>t?2-(7.5625*(t-=2.25/2.75)*t+.9375):2-(7.5625*(t-=2.625/2.75)*t+.984375)},swingTo:function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},swingFrom:function(t){var e=1.70158;return t*t*((e+1)*t-e)},elastic:function(t){return-1*Math.pow(4,-8*t)*Math.sin(2*(6*t-1)*Math.PI/2)+1},spring:function(t){return 1-Math.cos(4.5*t*Math.PI)*Math.exp(6*-t)},blink:function(t,e){return Math.round(t*(e||5))%2},pulse:function(t,e){return-Math.cos(t*((e||5)-.5)*2*Math.PI)/2+.5},wobble:function(t){return-Math.cos(t*Math.PI*9*t)/2+.5},sinusoidal:function(t){return-Math.cos(t*Math.PI)/2+.5},flicker:function(t){return t+=(Math.random()-.5)/5,easings.sinusoidal(0>t?0:t>1?1:t)},mirror:function(t){return easings.sinusoidal(.5>t?2*t:1-2*(t-.5))},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return.5>t?2*t*t:(4-2*t)*t-1},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return.5>t?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return.5>t?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return.5>t?16*t*t*t*t*t:1+16*--t*t*t*t*t}},TL.Animate=function(t,e){return new tlanimate(t,e)},window.tlanimate=function(){function t(e){var i,n=N.length;for(g&&e>1e12&&(e=_()),y&&(e=_()),i=n;i--;)N[i](e);N.length&&I(t)}function e(e){1===N.push(e)&&I(t)}function i(t,e){var i,n={};return(i=t.match(k))&&(n.rotate=h(i[1],e?e.rotate:null)),(i=t.match(L))&&(n.scale=h(i[1],e?e.scale:null)),(i=t.match(D))&&(n.skewx=h(i[1],e?e.skewx:null),n.skewy=h(i[3],e?e.skewy:null)),(i=t.match(S))&&(n.translatex=h(i[1],e?e.translatex:null),n.translatey=h(i[3],e?e.translatey:null)),n}function n(t){var e="";return"rotate"in t&&(e+="rotate("+t.rotate+"deg) "),"scale"in t&&(e+="scale("+t.scale+") "),"translatex"in t&&(e+="translate("+t.translatex+"px,"+t.translatey+"px) "),"skewx"in t&&(e+="skew("+t.skewx+"deg,"+t.skewy+"deg)"),e}function a(t){var e=t.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)/);return(e?function(t,e,i){return"#"+(1<<24|t<<16|e<<8|i).toString(16).slice(1)}(e[1],e[2],e[3]):t).replace(/#(\w)(\w)(\w)$/,"#$1$1$2$2$3$3")}function o(t){return t.replace(/-(.)/g,function(t,e){return e.toUpperCase()})}function r(t){return"function"==typeof t}function s(t){return Math.sin(t*Math.PI/2)}function l(t,i,n,a,o,l){a=r(a)?a:u.easings[a]||s;var c=t||b,d=this,h=l-o,f=_(),p=0,m=0;return e(function t(e){var r=e-f;return r>c||p?(l=isFinite(l)?l:1,p?m&&i(l):i(l),function(e){var i,n=function(t,e,i){if(Array.prototype.indexOf)return t.indexOf(e);for(i=0;i<t.length;++i)if(t[i]===e)return i}(N,t);n>=0&&(i=N.slice(n+1),N.length=n,N=N.concat(i))}(),n&&n.apply(d)):void i(isFinite(l)?h*a(r/c)+o:a(r/c))}),{stop:function(t){p=1,m=t,t||(n=null)}}}function c(t,e){var i,n,a=t.length,o=[];for(i=0;a>i;++i)o[i]=[t[i][0],t[i][1]];for(n=1;a>n;++n)for(i=0;a-n>i;++i)o[i][0]=(1-e)*o[i][0]+e*o[parseInt(i+1,10)][0],o[i][1]=(1-e)*o[i][1]+e*o[parseInt(i+1,10)][1];return[o[0][0],o[0][1]]}function d(t,e,i,n,a,o,r){if("transform"==a){for(var s in r={},i[o][a])r[s]=s in n[o][a]?Math.round(((n[o][a][s]-i[o][a][s])*t+i[o][a][s])*b)/b:i[o][a][s];return r}return"string"==typeof i[o][a]?function(t,e,i){var n,a,o,r,s=[];for(n=0;6>n;n++)o=Math.min(15,parseInt(e.charAt(n),16)),r=Math.min(15,parseInt(i.charAt(n),16)),a=Math.floor((r-o)*t+o),s[n]=(a=a>15?15:0>a?0:a).toString(16);return"#"+s.join("")}(t,i[o][a],n[o][a]):(r=Math.round(((n[o][a]-i[o][a])*t+i[o][a])*b)/b,a in M||(r+=e[o][a]||"px"),r)}function h(t,e,i,n,a){return(i=T.exec(t))?(a=parseFloat(i[2]))&&e+("+"==i[1]?1:-1)*a:parseFloat(t)}function u(t,e){var s,u,f,p=t?p=isFinite(t.length)?t:[t]:[],m=e.complete,g=e.duration,_=e.easing,v=e.bezier,y=[],b=[],T=[],k=[];for(v&&(u=e.left,f=e.top,delete e.right,delete e.bottom,delete e.left,delete e.top),s=p.length;s--;){if(y[s]={},b[s]={},T[s]={},v){var L=A(p[s],"left"),D=A(p[s],"top"),S=[h(r(u)?u(p[s]):u||0,parseFloat(L)),h(r(f)?f(p[s]):f||0,parseFloat(D))];k[s]=r(v)?v(p[s],S):v,k[s].push(S),k[s].unshift([parseInt(L,10),parseInt(D,10)])}for(var M in e){switch(M){case"complete":case"duration":case"easing":case"bezier":continue}var I,N=A(p[s],M),P=r(e[M])?e[M](p[s]):e[M];"string"!=typeof P||!x.test(P)||x.test(N)?(y[s][M]="transform"==M?i(N):"string"==typeof P&&x.test(P)?a(N).slice(1):parseFloat(N),b[s][M]="transform"==M?i(P,y[s][M]):"string"==typeof P&&"#"==P.charAt(0)?a(P).slice(1):h(P,parseFloat(N)),"string"==typeof P&&(I=P.match(w))&&(T[s][M]=I[1])):delete e[M]}}return l.apply(p,[g,function(t,i,a){for(s=p.length;s--;)for(var r in v&&(a=c(k[s],t),p[s].style.left=a[0]+"px",p[s].style.top=a[1]+"px"),e)i=d(t,T,y,b,r,s),"transform"==r?p[s].style[C]=n(i):"opacity"!=r||E?p[s].style[o(r)]=i:p[s].style.filter="alpha(opacity="+100*i+")"},m,_])}var f=document,p=window,m=p.performance,g=m&&(m.now||m.webkitNow||m.msNow||m.mozNow),_=g?function(){return g.call(m)}:function(){return+new Date},v=f.documentElement,y=!1,b=1e3,x=/^rgb\(|#/,T=/^([+\-])=([\d\.]+)/,w=/^(?:[\+\-]=?)?\d+(?:\.\d+)?(%|in|cm|mm|em|ex|pt|pc|px)$/,k=/rotate\(((?:[+\-]=)?([\-\d\.]+))deg\)/,L=/scale\(((?:[+\-]=)?([\d\.]+))\)/,D=/skew\(((?:[+\-]=)?([\-\d\.]+))deg, ?((?:[+\-]=)?([\-\d\.]+))deg\)/,S=/translate\(((?:[+\-]=)?([\-\d\.]+))px, ?((?:[+\-]=)?([\-\d\.]+))px\)/,M={lineHeight:1,zoom:1,zIndex:1,opacity:1,transform:1},C=function(){var t,e=f.createElement("a").style,i=["webkitTransform","MozTransform","OTransform","msTransform","Transform"];for(t=0;t<i.length;t++)if(i[t]in e)return i[t]}(),E=void 0!==f.createElement("a").style.opacity,A=f.defaultView&&f.defaultView.getComputedStyle?function(t,e){e=o(e="transform"==e?C:e);var i=null,n=f.defaultView.getComputedStyle(t,"");return n&&(i=n[e]),t.style[e]||i}:v.currentStyle?function(t,e){if("opacity"==(e=o(e))){var i=100;try{i=t.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(e){try{i=t.filters("alpha").opacity}catch(t){}}return i/100}return t.style[e]||(t.currentStyle?t.currentStyle[e]:null)}:function(t,e){return t.style[o(e)]},I=p.requestAnimationFrame||p.webkitRequestAnimationFrame||p.mozRequestAnimationFrame||p.msRequestAnimationFrame||p.oRequestAnimationFrame||function(t){p.setTimeout(function(){t(+new Date)},17)},N=[];return I(function(t){y=t>1e12!=_()>1e12}),u.tween=l,u.getStyle=A,u.bezier=c,u.transform=C,u.parseTransform=i,u.formatTransform=n,u.easings={},u}(),TL.Point=function(t,e,i){this.x=i?Math.round(t):t,this.y=i?Math.round(e):e},TL.Point.prototype={add:function(t){return this.clone()._add(t)},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(t)},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t,e){return new TL.Point(this.x/t,this.y/t,e)},multiplyBy:function(t){return new TL.Point(this.x*t,this.y*t)},distanceTo:function(t){var e=t.x-this.x,i=t.y-this.y;return Math.sqrt(e*e+i*i)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},clone:function(){return new TL.Point(this.x,this.y)},toString:function(){return"Point("+TL.Util.formatNum(this.x)+", "+TL.Util.formatNum(this.y)+")"}},TL.DomMixins={show:function(t){t||(this._el.container.style.display="block")},hide:function(){this._el.container.style.display="none"},addTo:function(t){t.appendChild(this._el.container),this.onAdd()},removeFrom:function(t){t.removeChild(this._el.container),this.onRemove()},animatePosition:function(t,e){var i={duration:this.options.duration,easing:this.options.ease};for(var n in t)t.hasOwnProperty(n)&&(i[n]=t[n]+"px");this.animator&&this.animator.stop(),this.animator=TL.Animate(e,i)},onLoaded:function(){this.fire("loaded",this.data)},onAdd:function(){this.fire("added",this.data)},onRemove:function(){this.fire("removed",this.data)},setPosition:function(t,e){for(var i in t)t.hasOwnProperty(i)&&(e?e.style[i]=t[i]+"px":this._el.container.style[i]=t[i]+"px")},getPosition:function(){return TL.Dom.getPosition(this._el.container)}},TL.Dom={get:function(t){return"string"==typeof t?document.getElementById(t):t},getByClass:function(t){return t?document.getElementsByClassName(t):void 0},create:function(t,e,i){var n=document.createElement(t);return n.className=e,i&&i.appendChild(n),n},createText:function(t,e){var i=document.createTextNode(t);return e&&e.appendChild(i),i},getTranslateString:function(t){return TL.Dom.TRANSLATE_OPEN+t.x+"px,"+t.y+"px"+TL.Dom.TRANSLATE_CLOSE},setPosition:function(t,e){t._tl_pos=e,TL.Browser.webkit3d?(t.style[TL.Dom.TRANSFORM]=TL.Dom.getTranslateString(e),TL.Browser.android&&(t.style["-webkit-perspective"]="1000",t.style["-webkit-backface-visibility"]="hidden")):(t.style.left=e.x+"px",t.style.top=e.y+"px")},getPosition:function(t){for(var e={x:0,y:0};t&&!isNaN(t.offsetLeft)&&!isNaN(t.offsetTop);)e.x+=t.offsetLeft,e.y+=t.offsetTop,t=t.offsetParent;return e},testProp:function(t){for(var e=document.documentElement.style,i=0;i<t.length;i++)if(t[i]in e)return t[i];return!1}},TL.Util.mergeData(TL.Dom,{TRANSITION:TL.Dom.testProp(["transition","webkitTransition","OTransition","MozTransition","msTransition"]),TRANSFORM:TL.Dom.testProp(["transformProperty","WebkitTransform","OTransform","MozTransform","msTransform"]),TRANSLATE_OPEN:"translate"+(TL.Browser.webkit3d?"3d(":"("),TRANSLATE_CLOSE:TL.Browser.webkit3d?",0)":")"}),TL.DomUtil={get:function(t){return"string"==typeof t?document.getElementById(t):t},getStyle:function(t,e){var i=t.style[e];if(!i&&t.currentStyle&&(i=t.currentStyle[e]),!i||"auto"===i){var n=document.defaultView.getComputedStyle(t,null);i=n?n[e]:null}return"auto"===i?null:i},getViewportOffset:function(t){var e=0,i=0,n=t,a=document.body;do{if(e+=n.offsetTop||0,i+=n.offsetLeft||0,n.offsetParent===a&&"absolute"===TL.DomUtil.getStyle(n,"position"))break;n=n.offsetParent}while(n);n=t;do{if(n===a)break;e-=n.scrollTop||0,i-=n.scrollLeft||0,n=n.parentNode}while(n);return new TL.Point(i,e)},create:function(t,e,i){var n=document.createElement(t);return n.className=e,i&&i.appendChild(n),n},disableTextSelection:function(){document.selection&&document.selection.empty&&document.selection.empty(),this._onselectstart||(this._onselectstart=document.onselectstart,document.onselectstart=TL.Util.falseFn)},enableTextSelection:function(){document.onselectstart=this._onselectstart,this._onselectstart=null},hasClass:function(t,e){return t.className.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(t.className)},addClass:function(t,e){TL.DomUtil.hasClass(t,e)||(t.className+=(t.className?" ":"")+e)},removeClass:function(t,e){t.className=t.className.replace(/(\S+)\s*/g,function(t,i){return i===e?"":t}).replace(/^\s+/,"")},setOpacity:function(t,e){TL.Browser.ie?t.style.filter="alpha(opacity="+Math.round(100*e)+")":t.style.opacity=e},testProp:function(t){for(var e=document.documentElement.style,i=0;i<t.length;i++)if(t[i]in e)return t[i];return!1},getTranslateString:function(t){return TL.DomUtil.TRANSLATE_OPEN+t.x+"px,"+t.y+"px"+TL.DomUtil.TRANSLATE_CLOSE},getScaleString:function(t,e){return TL.DomUtil.getTranslateString(e)+" scale("+t+") "+TL.DomUtil.getTranslateString(e.multiplyBy(-1))},setPosition:function(t,e){t._tl_pos=e,TL.Browser.webkit3d?(t.style[TL.DomUtil.TRANSFORM]=TL.DomUtil.getTranslateString(e),TL.Browser.android&&(t.style["-webkit-perspective"]="1000",t.style["-webkit-backface-visibility"]="hidden")):(t.style.left=e.x+"px",t.style.top=e.y+"px")},getPosition:function(t){return t._tl_pos}},TL.DomEvent={addListener:function(t,e,i,n){var a=TL.Util.stamp(i),o="_tl_"+e+a;if(!t[o]){var r=function(e){return i.call(n||t,e||TL.DomEvent._getEvent())};if(TL.Browser.touch&&"dblclick"===e&&this.addDoubleTapListener)this.addDoubleTapListener(t,r,a);else if("addEventListener"in t)if("mousewheel"===e)t.addEventListener("DOMMouseScroll",r,!1),t.addEventListener(e,r,!1);else if("mouseenter"===e||"mouseleave"===e){var s=r;t.addEventListener("mouseenter"===e?"mouseover":"mouseout",r=function(e){return TL.DomEvent._checkMouse(t,e)?s(e):void 0},!1)}else t.addEventListener(e,r,!1);else"attachEvent"in t&&t.attachEvent("on"+e,r);t[o]=r}},removeListener:function(t,e,i){var n=TL.Util.stamp(i),a="_tl_"+e+n,o=t[a];o&&(TL.Browser.touch&&"dblclick"===e&&this.removeDoubleTapListener?this.removeDoubleTapListener(t,n):"removeEventListener"in t?"mousewheel"===e?(t.removeEventListener("DOMMouseScroll",o,!1),t.removeEventListener(e,o,!1)):t.removeEventListener("mouseenter"===e||"mouseleave"===e?"mouseenter"===e?"mouseover":"mouseout":e,o,!1):"detachEvent"in t&&t.detachEvent("on"+e,o),t[a]=null)},_checkMouse:function(t,e){var i=e.relatedTarget;if(!i)return!0;try{for(;i&&i!==t;)i=i.parentNode}catch(t){return!1}return i!==t},_getEvent:function(){var t=window.event;if(!t)for(var e=arguments.callee.caller;e&&(!(t=e.arguments[0])||window.Event!==t.constructor);)e=e.caller;return t},stopPropagation:function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},disableClickPropagation:function(t){TL.DomEvent.addListener(t,TL.Draggable.START,TL.DomEvent.stopPropagation),TL.DomEvent.addListener(t,"click",TL.DomEvent.stopPropagation),TL.DomEvent.addListener(t,"dblclick",TL.DomEvent.stopPropagation)},preventDefault:function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},stop:function(t){TL.DomEvent.preventDefault(t),TL.DomEvent.stopPropagation(t)},getWheelDelta:function(t){var e=0;return t.wheelDelta&&(e=t.wheelDelta/120),t.detail&&(e=-t.detail/3),e}},TL.StyleSheet=TL.Class.extend({includes:[TL.Events],_el:{},initialize:function(){this.style=document.createElement("style"),this.style.appendChild(document.createTextNode("")),document.head.appendChild(this.style),this.sheet=this.style.sheet},addRule:function(t,e,i){var n=0;i&&(n=i),"insertRule"in this.sheet?this.sheet.insertRule(t+"{"+e+"}",n):"addRule"in this.sheet&&this.sheet.addRule(t,e,n)},onLoaded:function(){this._state.loaded=!0,this.fire("loaded",this.data)}}),TL.Date=TL.Class.extend({initialize:function(t,e,i){"number"==typeof t?this.data={format:"yyyy mmmm",date_obj:new Date(t)}:Date==t.constructor?this.data={format:"yyyy mmmm",date_obj:t}:(this.data=JSON.parse(JSON.stringify(t)),this._createDateObj()),this._setFormat(e,i)},setDateFormat:function(t){this.data.format=t},getDisplayDate:function(t,e){return this.data.display_date?this.data.display_date:(t||(t=TL.Language.fallback),t.constructor!=TL.Language&&(trace("First argument to getDisplayDate must be TL.Language"),t=TL.Language.fallback),t.formatDate(this.data.date_obj,e||this.data.format))},getMillisecond:function(){return this.getTime()},getTime:function(){return this.data.date_obj.getTime()},isBefore:function(t){if(!this.data.date_obj.constructor==t.data.date_obj.constructor)throw new TL.Error("date_compare_err");return"isBefore"in this.data.date_obj?this.data.date_obj.isBefore(t.data.date_obj):this.data.date_obj<t.data.date_obj},isAfter:function(t){if(!this.data.date_obj.constructor==t.data.date_obj.constructor)throw new TL.Error("date_compare_err");return"isAfter"in this.data.date_obj?this.data.date_obj.isAfter(t.data.date_obj):this.data.date_obj>t.data.date_obj},floor:function(t){for(var e=new Date(this.data.date_obj.getTime()),i=0;i<TL.Date.SCALES.length;i++)if(TL.Date.SCALES[i][2](e),TL.Date.SCALES[i][0]==t)return new TL.Date(e);throw new TL.Error("invalid_scale_err",t)},_getDateData:function(){var t={year:0,month:1,day:1,hour:0,minute:0,second:0,millisecond:0};TL.Util.mergeData(t,this.data);var e=TL.Date.DATE_PARTS;for(var i in e){if(!TL.Util.trim(t[e[i]]).match(/^-?\d*$/))throw new TL.Error("invalid_date_err",e[i]+" = '"+t[e[i]]+"'");var n=parseInt(t[e[i]]);isNaN(n)&&(n=4==i||5==i?1:0),t[e[i]]=n}return t.month>0&&t.month<=12&&(t.month=t.month-1),t},_createDateObj:function(){var t=this._getDateData();this.data.date_obj=new Date(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond),this.data.date_obj.getFullYear()!=t.year&&this.data.date_obj.setFullYear(t.year)},findBestFormat:function(t){for(var e=TL.Date.DATE_PARTS,i=0;i<e.length;i++)if(this.data[e[i]])return t?t in TL.Date.BEST_DATEFORMATS||(t="short"):t="base",TL.Date.BEST_DATEFORMATS[t][e[i]];return""},_setFormat:function(t,e){t?this.data.format=t:this.data.format||(this.data.format=this.findBestFormat()),e?this.data.format_short=e:this.data.format_short||(this.data.format_short=this.findBestFormat(!0))}}),TL.Date.makeDate=function(t){var e=new TL.Date(t);return isNaN(e.getTime())?new TL.BigDate(t):e},TL.BigYear=TL.Class.extend({initialize:function(t){if(this.year=parseInt(t),isNaN(this.year))throw new TL.Error("invalid_year_err",t)},isBefore:function(t){return this.year<t.year},isAfter:function(t){return this.year>t.year},getTime:function(){return this.year}}),function(t){t.SCALES=[["millisecond",1,function(){}],["second",1e3,function(t){t.setMilliseconds(0)}],["minute",6e4,function(t){t.setSeconds(0)}],["hour",36e5,function(t){t.setMinutes(0)}],["day",864e5,function(t){t.setHours(0)}],["month",2592e6,function(t){t.setDate(1)}],["year",31536e6,function(t){t.setMonth(0)}],["decade",31536e7,function(t){var e=t.getFullYear();t.setFullYear(e-e%10)}],["century",31536e8,function(t){var e=t.getFullYear();t.setFullYear(e-e%100)}],["millennium",31536e9,function(t){var e=t.getFullYear();t.setFullYear(e-e%1e3)}]],t.DATE_PARTS=["millisecond","second","minute","hour","day","month","year"];var e=/^([\+-]?\d+?)(-\d{2}?)?(-\d{2}?)?$/,i=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24\:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/;t.parseISODate=function(t){var e=new Date(t);if(isNaN(e))throw new TL.Error("invalid_date_err",t);return{year:e.getFullYear(),month:e.getMonth()+1,day:e.getDate(),hour:e.getHours(),minute:e.getMinutes(),second:e.getSeconds(),millisecond:e.getMilliseconds()}},t.parseDate=function(n){if(n.match(e)){var a=n.match(e).slice(1),o={year:a[0].replace("+","")};return a[1]&&(o.month=a[1].replace("-","")),a[2]&&(o.day=a[2].replace("-","")),o}if(n.match(i))return t.parseISODate(n);if(n.match(/^\-?\d+$/))return{year:n};var r={};if(n.match(/\d+\/\d+\/\d+/)){var s=n.match(/\d+\/\d+\/\d+/)[0];n=TL.Util.trim(n.replace(s,""));var l=s.split("/");r.month=l[0],r.day=l[1],r.year=l[2]}if(n.match(/\d+\/\d+/)&&(s=n.match(/\d+\/\d+/)[0],n=TL.Util.trim(n.replace(s,"")),l=s.split("/"),r.month=l[0],r.year=l[1]),n.match(":")){var c=n.split(":");r.hour=c[0],r.minute=c[1],c[2]&&(second_parts=c[2].split("."),r.second=second_parts[0],r.millisecond=second_parts[1])}return r},t.BEST_DATEFORMATS={base:{millisecond:"time_short",second:"time",minute:"time_no_seconds_small_date",hour:"time_no_seconds_small_date",day:"full",month:"month",year:"year",decade:"year",century:"year",millennium:"year",age:"fallback",epoch:"fallback",era:"fallback",eon:"fallback",eon2:"fallback"},short:{millisecond:"time_short",second:"time_short",minute:"time_no_seconds_short",hour:"time_no_minutes_short",day:"full_short",month:"month_short",year:"year",decade:"year",century:"year",millennium:"year",age:"fallback",epoch:"fallback",era:"fallback",eon:"fallback",eon2:"fallback"}}}(TL.Date),TL.BigDate=TL.Date.extend({initialize:function(t,e,i){TL.BigYear==t.constructor?this.data={date_obj:t}:(this.data=JSON.parse(JSON.stringify(t)),this._createDateObj()),this._setFormat(e,i)},_createDateObj:function(){var t=this._getDateData();this.data.date_obj=new TL.BigYear(t.year)},floor:function(t){for(var e=0;e<TL.BigDate.SCALES.length;e++)if(TL.BigDate.SCALES[e][0]==t){var i=TL.BigDate.SCALES[e][2](this.data.date_obj);return new TL.BigDate(i)}throw new TL.Error("invalid_scale_err",t)}}),function(t){var e=function(t){return function(e){var i=e.getTime();return new TL.BigYear(Math.floor(i/t)*t)}};TL.BigDate.SCALES=[["year",1,new e(1)],["decade",10,new e(10)],["century",100,new e(100)],["millennium",1e3,new e(1e3)],["age",1e6,new e(1e6)],["epoch",1e7,new e(1e7)],["era",1e8,new e(1e8)],["eon",1e9,new e(1e9)]]}(),TL.DateUtil={get:function(t){return"string"==typeof t?document.getElementById(t):t},sortByDate:function(t,e){e=e||"start_date",t.sort(function(t,i){return t[e].isBefore(i[e])?-1:t[e].isAfter(i[e])?1:0})},parseTime:function(t){var e={hour:null,minute:null,second:null,millisecond:null},i=null,n=t.match(/(\s*[AaPp]\.?[Mm]\.?\s*)$/);n&&(i=TL.Util.trim(n[0]),t=TL.Util.trim(t.substring(0,t.lastIndexOf(i))));var a=[],o=t.match(/^\s*(\d{1,2})(\d{2})\s*$/);if(o?a=o.slice(1):1==(a=t.split(":")).length&&(a=t.split(".")),a.length>4)throw new TL.Error("invalid_separator_error");if(e.hour=parseInt(a[0]),i&&"p"==i.toLowerCase()[0]&&12!=e.hour?e.hour+=12:i&&"a"==i.toLowerCase()[0]&&12==e.hour&&(e.hour=0),isNaN(e.hour)||e.hour<0||e.hour>23)throw new TL.Error("invalid_hour_err",e.hour);if(a.length>1&&(e.minute=parseInt(a[1]),isNaN(e.minute)))throw new TL.Error("invalid_minute_err",e.minute);if(a.length>2){if((a=a[2].split(/[\.,]/).concat(a.slice(3))).length>2)throw new TL.Error("invalid_second_fractional_err");if(e.second=parseInt(a[0]),isNaN(e.second))throw new TL.Error("invalid_second_err");if(2==a.length){var r=parseInt(a[1]);if(isNaN(r))throw new TL.Error("invalid_fractional_err");e.millisecond=100*r}}return e},SCALE_DATE_CLASSES:{human:TL.Date,cosmological:TL.BigDate}},TL.Draggable=TL.Class.extend({includes:TL.Events,_el:{},mousedrag:{down:"mousedown",up:"mouseup",leave:"mouseleave",move:"mousemove"},touchdrag:{down:"touchstart",up:"touchend",leave:"mouseleave",move:"touchmove"},initialize:function(t,e,i){this._el={drag:t,move:t},i&&(this._el.move=i),this.options={enable:{x:!0,y:!0},constraint:{top:!1,bottom:!1,left:!1,right:!1},momentum_multiplier:2e3,duration:1e3,ease:TL.Ease.easeInOutQuint},this.animator=null,this.dragevent=this.mousedrag,TL.Browser.touch&&(this.dragevent=this.touchdrag),this.data={sliding:!1,direction:"none",pagex:{start:0,end:0},pagey:{start:0,end:0},pos:{start:{x:0,y:0},end:{x:0,y:0}},new_pos:{x:0,y:0},new_pos_parent:{x:0,y:0},time:{start:0,end:0},touch:!1},TL.Util.mergeData(this.options,e)},enable:function(){this.data.pos.start=0,this._el.move.style.left=this.data.pos.start.x+"px",this._el.move.style.top=this.data.pos.start.y+"px",this._el.move.style.position="absolute"},disable:function(){TL.DomEvent.removeListener(this._el.drag,this.dragevent.down,this._onDragStart,this),TL.DomEvent.removeListener(this._el.drag,this.dragevent.up,this._onDragEnd,this)},stopMomentum:function(){this.animator&&this.animator.stop()},updateConstraint:function(t){this.options.constraint=t},_onDragStart:function(t){TL.Browser.touch?t.originalEvent?(this.data.pagex.start=t.originalEvent.touches[0].screenX,this.data.pagey.start=t.originalEvent.touches[0].screenY):(this.data.pagex.start=t.targetTouches[0].screenX,this.data.pagey.start=t.targetTouches[0].screenY):(this.data.pagex.start=t.pageX,this.data.pagey.start=t.pageY),this.options.enable.x&&(this._el.move.style.left=this.data.pagex.start-this._el.move.offsetWidth/2+"px"),this.options.enable.y&&(this._el.move.style.top=this.data.pagey.start-this._el.move.offsetHeight/2+"px"),this.data.pos.start=TL.Dom.getPosition(this._el.drag),this.data.time.start=(new Date).getTime(),this.fire("dragstart",this.data),TL.DomEvent.addListener(this._el.drag,this.dragevent.move,this._onDragMove,this),TL.DomEvent.addListener(this._el.drag,this.dragevent.leave,this._onDragEnd,this)},_onDragEnd:function(){this.data.sliding=!1,TL.DomEvent.removeListener(this._el.drag,this.dragevent.move,this._onDragMove,this),TL.DomEvent.removeListener(this._el.drag,this.dragevent.leave,this._onDragEnd,this),this.fire("dragend",this.data),this._momentum()},_onDragMove:function(t){t.preventDefault(),this.data.sliding=!0,TL.Browser.touch?t.originalEvent?(this.data.pagex.end=t.originalEvent.touches[0].screenX,this.data.pagey.end=t.originalEvent.touches[0].screenY):(this.data.pagex.end=t.targetTouches[0].screenX,this.data.pagey.end=t.targetTouches[0].screenY):(this.data.pagex.end=t.pageX,this.data.pagey.end=t.pageY),this.data.pos.end=TL.Dom.getPosition(this._el.drag),this.data.new_pos.x=-(this.data.pagex.start-this.data.pagex.end-this.data.pos.start.x),this.data.new_pos.y=-(this.data.pagey.start-this.data.pagey.end-this.data.pos.start.y),this.options.enable.x&&(this._el.move.style.left=this.data.new_pos.x+"px"),this.options.enable.y&&(this._el.move.style.top=this.data.new_pos.y+"px"),this.fire("dragmove",this.data)},_momentum:function(){var t={x:0,y:0,time:0},e={x:0,y:0,time:0},i=!1;TL,t.time=10*((new Date).getTime()-this.data.time.start),e.time=10*((new Date).getTime()-this.data.time.start),e.x=this.options.momentum_multiplier*(Math.abs(this.data.pagex.end)-Math.abs(this.data.pagex.start)),e.y=this.options.momentum_multiplier*(Math.abs(this.data.pagey.end)-Math.abs(this.data.pagey.start)),t.x=Math.round(e.x/e.time),t.y=Math.round(e.y/e.time),this.data.new_pos.x=Math.min(this.data.pos.end.x+t.x),this.data.new_pos.y=Math.min(this.data.pos.end.y+t.y),this.options.enable.x?this.data.new_pos.x<0&&(this.data.new_pos.x=0):this.data.new_pos.x=this.data.pos.start.x,this.options.enable.y?this.data.new_pos.y<0&&(this.data.new_pos.y=0):this.data.new_pos.y=this.data.pos.start.y,e.time<3e3&&(i=!0),Math.abs(e.x)>1e4&&(this.data.direction="left",e.x>0&&(this.data.direction="right")),Math.abs(e.y)>1e4&&(this.data.direction="up",e.y>0&&(this.data.direction="down")),this._animateMomentum(),i&&this.fire("swipe_"+this.data.direction,this.data)},_animateMomentum:function(){var t={x:this.data.new_pos.x,y:this.data.new_pos.y},e={duration:this.options.duration,easing:TL.Ease.easeOutStrong};this.options.enable.y&&((this.options.constraint.top||this.options.constraint.bottom)&&(t.y>this.options.constraint.bottom?t.y=this.options.constraint.bottom:t.y<this.options.constraint.top&&(t.y=this.options.constraint.top)),e.top=Math.floor(t.y)+"px"),this.options.enable.x&&((this.options.constraint.left||this.options.constraint.right)&&(t.x>this.options.constraint.left?t.x=this.options.constraint.left:t.x<this.options.constraint.right&&(t.x=this.options.constraint.right)),e.left=Math.floor(t.x)+"px"),this.animator=TL.Animate(this._el.move,e),this.fire("momentum",this.data)}}),TL.Swipable=TL.Class.extend({includes:TL.Events,_el:{},mousedrag:{down:"mousedown",up:"mouseup",leave:"mouseleave",move:"mousemove"},touchdrag:{down:"touchstart",up:"touchend",leave:"mouseleave",move:"touchmove"},initialize:function(t,e,i){this._el={drag:t,move:t},e&&(this._el.move=e),this.options={snap:!1,enable:{x:!0,y:!0},constraint:{top:!1,bottom:!1,left:0,right:!1},momentum_multiplier:2e3,duration:1e3,ease:TL.Ease.easeInOutQuint},this.animator=null,this.dragevent=this.mousedrag,TL.Browser.touch&&(this.dragevent=this.touchdrag),this.data={sliding:!1,direction:"none",pagex:{start:0,end:0},pagey:{start:0,end:0},pos:{start:{x:0,y:0},end:{x:0,y:0}},new_pos:{x:0,y:0},new_pos_parent:{x:0,y:0},time:{start:0,end:0},touch:!1},TL.Util.mergeData(this.options,i)},enable:function(){TL.DomEvent.addListener(this._el.drag,this.dragevent.down,this._onDragStart,this),TL.DomEvent.addListener(this._el.drag,this.dragevent.up,this._onDragEnd,this),this.data.pos.start=0,this._el.move.style.left=this.data.pos.start.x+"px",this._el.move.style.top=this.data.pos.start.y+"px",this._el.move.style.position="absolute"},disable:function(){TL.DomEvent.removeListener(this._el.drag,this.dragevent.down,this._onDragStart,this),TL.DomEvent.removeListener(this._el.drag,this.dragevent.up,this._onDragEnd,this)},stopMomentum:function(){this.animator&&this.animator.stop()},updateConstraint:function(t){this.options.constraint=t},_onDragStart:function(t){this.animator&&this.animator.stop(),TL.Browser.touch?t.originalEvent?(this.data.pagex.start=t.originalEvent.touches[0].screenX,this.data.pagey.start=t.originalEvent.touches[0].screenY):(this.data.pagex.start=t.targetTouches[0].screenX,this.data.pagey.start=t.targetTouches[0].screenY):(this.data.pagex.start=t.pageX,this.data.pagey.start=t.pageY),this.data.pos.start={x:this._el.move.offsetLeft,y:this._el.move.offsetTop},this.data.time.start=(new Date).getTime(),this.fire("dragstart",this.data),TL.DomEvent.addListener(this._el.drag,this.dragevent.move,this._onDragMove,this),TL.DomEvent.addListener(this._el.drag,this.dragevent.leave,this._onDragEnd,this)},_onDragEnd:function(){this.data.sliding=!1,TL.DomEvent.removeListener(this._el.drag,this.dragevent.move,this._onDragMove,this),TL.DomEvent.removeListener(this._el.drag,this.dragevent.leave,this._onDragEnd,this),this.fire("dragend",this.data),this._momentum()},_onDragMove:function(t){var e={x:0,y:0};this.data.sliding=!0,TL.Browser.touch?t.originalEvent?(this.data.pagex.end=t.originalEvent.touches[0].screenX,this.data.pagey.end=t.originalEvent.touches[0].screenY):(this.data.pagex.end=t.targetTouches[0].screenX,this.data.pagey.end=t.targetTouches[0].screenY):(this.data.pagex.end=t.pageX,this.data.pagey.end=t.pageY),e.x=this.data.pagex.start-this.data.pagex.end,e.y=this.data.pagey.start-this.data.pagey.end,this.data.pos.end={x:this._el.drag.offsetLeft,y:this._el.drag.offsetTop},this.data.new_pos.x=-(e.x-this.data.pos.start.x),this.data.new_pos.y=-(e.y-this.data.pos.start.y),this.options.enable.x&&Math.abs(e.x)>Math.abs(e.y)&&(t.preventDefault(),this._el.move.style.left=this.data.new_pos.x+"px"),this.options.enable.y&&Math.abs(e.y)>Math.abs(e.y)&&(t.preventDefault(),this._el.move.style.top=this.data.new_pos.y+"px"),this.fire("dragmove",this.data)},_momentum:function(){var t={x:0,y:0,time:0},e={x:0,y:0,time:0},i={x:!1,y:!1},n=!1;this.data.direction=null,t.time=10*((new Date).getTime()-this.data.time.start),e.time=10*((new Date).getTime()-this.data.time.start),e.x=this.options.momentum_multiplier*(Math.abs(this.data.pagex.end)-Math.abs(this.data.pagex.start)),e.y=this.options.momentum_multiplier*(Math.abs(this.data.pagey.end)-Math.abs(this.data.pagey.start)),t.x=Math.round(e.x/e.time),t.y=Math.round(e.y/e.time),this.data.new_pos.x=Math.min(this.data.new_pos.x+t.x),this.data.new_pos.y=Math.min(this.data.new_pos.y+t.y),this.options.enable.x?this.options.constraint.left&&this.data.new_pos.x>this.options.constraint.left&&(this.data.new_pos.x=this.options.constraint.left):this.data.new_pos.x=this.data.pos.start.x,this.options.enable.y?this.data.new_pos.y<0&&(this.data.new_pos.y=0):this.data.new_pos.y=this.data.pos.start.y,e.time<2e3&&(n=!0),this.options.enable.x&&this.options.enable.y?Math.abs(e.x)>Math.abs(e.y)?i.x=!0:i.y=!0:this.options.enable.x?Math.abs(e.x)>Math.abs(e.y)&&(i.x=!0):Math.abs(e.y)>Math.abs(e.x)&&(i.y=!0),i.x&&(Math.abs(e.x)>this._el.drag.offsetWidth/2&&(n=!0),Math.abs(e.x)>1e4&&(this.data.direction="left",e.x>0&&(this.data.direction="right"))),i.y&&(Math.abs(e.y)>this._el.drag.offsetHeight/2&&(n=!0),Math.abs(e.y)>1e4&&(this.data.direction="up",e.y>0&&(this.data.direction="down"))),e.time<1e3||this._animateMomentum(),n&&this.data.direction?this.fire("swipe_"+this.data.direction,this.data):this.data.direction?this.fire("swipe_nodirection",this.data):this.options.snap&&(this.animator.stop(),this.animator=TL.Animate(this._el.move,{top:this.data.pos.start.y,left:this.data.pos.start.x,duration:this.options.duration,easing:TL.Ease.easeOutStrong}))},_animateMomentum:function(){var t={x:this.data.new_pos.x,y:this.data.new_pos.y},e={duration:this.options.duration,easing:TL.Ease.easeOutStrong};this.options.enable.y&&((this.options.constraint.top||this.options.constraint.bottom)&&(t.y>this.options.constraint.bottom?t.y=this.options.constraint.bottom:t.y<this.options.constraint.top&&(t.y=this.options.constraint.top)),e.top=Math.floor(t.y)+"px"),this.options.enable.x&&(this.options.constraint.left&&t.x>=this.options.constraint.left&&(t.x=this.options.constraint.left),this.options.constraint.right&&t.x<this.options.constraint.right&&(t.x=this.options.constraint.right),e.left=Math.floor(t.x)+"px"),this.animator=TL.Animate(this._el.move,e),this.fire("momentum",this.data)}}),TL.MenuBar=TL.Class.extend({includes:[TL.Events,TL.DomMixins],_el:{},initialize:function(t,e,i){this._el={parent:{},container:{},button_backtostart:{},button_zoomin:{},button_zoomout:{},arrow:{},line:{},coverbar:{},grip:{}},this.collapsed=!1,this._el.container="object"==typeof t?t:TL.Dom.get(t),e&&(this._el.parent=e),this.options={width:600,height:600,duration:1e3,ease:TL.Ease.easeInOutQuint,menubar_default_y:0},this.animator={},TL.Util.mergeData(this.options,i),this._initLayout(),this._initEvents()},show:function(t){},hide:function(){},toogleZoomIn:function(t){t?TL.DomUtil.removeClass(this._el.button_zoomin,"tl-menubar-button-inactive"):TL.DomUtil.addClass(this._el.button_zoomin,"tl-menubar-button-inactive")},toogleZoomOut:function(t){t?TL.DomUtil.removeClass(this._el.button_zoomout,"tl-menubar-button-inactive"):TL.DomUtil.addClass(this._el.button_zoomout,"tl-menubar-button-inactive")},setSticky:function(t){this.options.menubar_default_y=t},setColor:function(t){this._el.container.className=t?"tl-menubar tl-menubar-inverted":"tl-menubar"},updateDisplay:function(t,e,i,n){this._updateDisplay(t,e,i,n)},_onButtonZoomIn:function(t){this.fire("zoom_in",t)},_onButtonZoomOut:function(t){this.fire("zoom_out",t)},_onButtonBackToStart:function(t){this.fire("back_to_start",t)},_initLayout:function(){this._el.button_zoomin=TL.Dom.create("span","tl-menubar-button",this._el.container),this._el.button_zoomout=TL.Dom.create("span","tl-menubar-button",this._el.container),this._el.button_backtostart=TL.Dom.create("span","tl-menubar-button",this._el.container),TL.Browser.mobile&&this._el.container.setAttribute("ontouchstart"," "),this._el.button_backtostart.innerHTML="<span class='tl-icon-goback'></span>",this._el.button_zoomin.innerHTML="<span class='tl-icon-zoom-in'></span>",this._el.button_zoomout.innerHTML="<span class='tl-icon-zoom-out'></span>"},_initEvents:function(){TL.DomEvent.addListener(this._el.button_backtostart,"click",this._onButtonBackToStart,this),TL.DomEvent.addListener(this._el.button_zoomin,"click",this._onButtonZoomIn,this),TL.DomEvent.addListener(this._el.button_zoomout,"click",this._onButtonZoomOut,this)},_updateDisplay:function(t,e){t&&(this.options.width=t),e&&(this.options.height=e)}}),TL.Message=TL.Class.extend({includes:[TL.Events,TL.DomMixins,TL.I18NMixins],_el:{},initialize:function(t,e,i){this._el={parent:{},container:{},message_container:{},loading_icon:{},message:{}},this.options={width:600,height:600,message_class:"tl-message",message_icon_class:"tl-loading-icon"},this._add_to_container=i||{},TL.Util.mergeData(this.data,t),TL.Util.mergeData(this.options,e),this._el.container=TL.Dom.create("div",this.options.message_class),i&&(i.appendChild(this._el.container),this._el.parent=i),this.animator={},this._initLayout(),this._initEvents()},updateMessage:function(t){this._updateMessage(t)},updateDisplay:function(t,e){this._updateDisplay(t,e)},_updateMessage:function(t){this._el.message.innerHTML=t||this._("loading"),!this._el.parent.atrributes&&this._add_to_container.attributes&&(this._add_to_container.appendChild(this._el.container),this._el.parent=this._add_to_container)},_onMouseClick:function(){this.fire("clicked",this.options)},_onRemove:function(){this._el.parent={}},_initLayout:function(){this._el.message_container=TL.Dom.create("div","tl-message-container",this._el.container),this._el.loading_icon=TL.Dom.create("div",this.options.message_icon_class,this._el.message_container),this._el.message=TL.Dom.create("div","tl-message-content",this._el.message_container),this._updateMessage()},_initEvents:function(){TL.DomEvent.addListener(this._el.container,"click",this._onMouseClick,this),TL.DomEvent.addListener(this,"removed",this._onRemove,this)},_updateDisplay:function(){}}),TL.MediaType=function(t,e){var i=[{type:"youtube",name:"YouTube",match_str:"^(https?:)?/*(www.)?youtube|youtu.be",cls:TL.Media.YouTube},{type:"vimeo",name:"Vimeo",match_str:"^(https?:)?/*(player.)?vimeo.com",cls:TL.Media.Vimeo},{type:"dailymotion",name:"DailyMotion",match_str:"^(https?:)?/*(www.)?dailymotion.com",cls:TL.Media.DailyMotion},{type:"vine",name:"Vine",match_str:"^(https?:)?/*(www.)?vine.co",cls:TL.Media.Vine},{type:"soundcloud",name:"SoundCloud",match_str:"^(https?:)?/*(player.)?soundcloud.com",cls:TL.Media.SoundCloud},{type:"twitter",name:"Twitter",match_str:"^(https?:)?/*(www.)?twitter.com",cls:TL.Media.Twitter},{type:"twitterembed",name:"TwitterEmbed",match_str:"<blockquote class=['\"]twitter-tweet['\"]",cls:TL.Media.Twitter},{type:"googlemaps",name:"Google Map",match_str:/google.+?\/maps\/@([-\d.]+),([-\d.]+),((?:[-\d.]+[zmayht],?)*)|google.+?\/maps\/search\/([\w\W]+)\/@([-\d.]+),([-\d.]+),((?:[-\d.]+[zmayht],?)*)|google.+?\/maps\/place\/([\w\W]+)\/@([-\d.]+),([-\d.]+),((?:[-\d.]+[zmayht],?)*)|google.+?\/maps\/dir\/([\w\W]+)\/([\w\W]+)\/@([-\d.]+),([-\d.]+),((?:[-\d.]+[zmayht],?)*)/,cls:TL.Media.GoogleMap},{type:"googleplus",name:"Google+",match_str:"^(https?:)?/*plus.google",cls:TL.Media.GooglePlus},{type:"flickr",name:"Flickr",match_str:"^(https?:)?/*(www.)?flickr.com/photos",cls:TL.Media.Flickr},{type:"flickr",name:"Flickr",match_str:"^(https?://)?flic.kr/.*",cls:TL.Media.Flickr},{type:"instagram",name:"Instagram",match_str:/^(https?:)?\/*(www.)?(instagr.am|^(https?:)?\/*(www.)?instagram.com)\/p\//,cls:TL.Media.Instagram},{type:"profile",name:"Profile",match_str:/^(https?:)?\/*(www.)?instagr.am\/[a-zA-Z0-9]{2,}|^(https?:)?\/*(www.)?instagram.com\/[a-zA-Z0-9]{2,}/,cls:TL.Media.Profile},{type:"documentcloud",name:"Document Cloud",match_str:/documentcloud.org\//,cls:TL.Media.DocumentCloud},{type:"image",name:"Image",match_str:/(jpg|jpeg|png|gif|svg)(\?.*)?$/i,cls:TL.Media.Image},{type:"imgur",name:"Imgur",match_str:/^.*imgur.com\/.+$|<blockquote class=['\"]imgur-embed-pub['\"]/i,cls:TL.Media.Imgur},{type:"googledocs",name:"Google Doc",match_str:"^(https?:)?/*[^.]*.google.com/[^/]*/d/[^/]*/[^/]*?usp=sharing|^(https?:)?/*drive.google.com/open?id=[^&]*&authuser=0|^(https?:)?/*drive.google.com/open?id=[^&]*|^(https?:)?/*[^.]*.googledrive.com/host/[^/]*/",cls:TL.Media.GoogleDoc},{type:"pdf",name:"PDF",match_str:/^.*\.pdf(\?.*)?(\#.*)?/,cls:TL.Media.PDF},{type:"wikipedia",name:"Wikipedia",match_str:"^(https?:)?/*(www.)?wikipedia.org|^(https?:)?/*([a-z][a-z].)?wikipedia.org",cls:TL.Media.Wikipedia},{type:"spotify",name:"spotify",match_str:"spotify",cls:TL.Media.Spotify},{type:"iframe",name:"iFrame",match_str:"iframe",cls:TL.Media.IFrame},{type:"storify",name:"Storify",match_str:"storify",cls:TL.Media.Storify},{type:"blockquote",name:"Quote",match_str:"blockquote",cls:TL.Media.Blockquote},{type:"video",name:"Video",match_str:/(mp4)(\?.*)?$/i,cls:TL.Media.Video},{type:"wistia",name:"Wistia",match_str:/https?:\/\/(.+)?(wistia\.com|wi\.st)\/.*/i,cls:TL.Media.Wistia},{type:"audio",name:"Audio",match_str:/(mp3|wav|m4a)(\?.*)?$/i,cls:TL.Media.Audio},{type:"imageblank",name:"Imageblank",match_str:"",cls:TL.Media.Image}];if(e){if(t instanceof Array)return!1;for(var n=0;n<i.length;n++)switch(i[n].type){case"flickr":case"image":case"instagram":if(t.url.match(i[n].match_str))return i[n]}}else for(n=0;n<i.length;n++){if(t instanceof Array)return{type:"slider",cls:TL.Media.Slider};if(t.url.match(i[n].match_str))return i[n]}return!1},TL.Media=TL.Class.extend({includes:[TL.Events,TL.I18NMixins],_el:{},initialize:function(t,e,i){this._el={container:{},content_container:{},content:{},content_item:{},content_link:{},caption:null,credit:null,parent:{},link:null},this.player=null,this.timer=null,this.load_timer=null,this.message=null,this.media_id=null,this._state={loaded:!1,show_meta:!1,media_loaded:!1},this.data={unique_id:null,url:null,credit:null,caption:null,credit_alternate:null,caption_alternate:null,link:null,link_target:null},this.options={api_key_flickr:"f2cc870b4d233dd0a5bfe73fd0d64ef0",api_key_googlemaps:"AIzaSyB9dW8e_iRrATFa8g24qB6BDBGdkrLDZYI",api_key_embedly:"",credit_height:0,caption_height:0,background:0},this.animator={},TL.Util.mergeData(this.options,e),TL.Util.mergeData(this.data,t),this.options.background||(this._el.container=TL.Dom.create("div","tl-media"),this.data.unique_id&&(this._el.container.id=this.data.unique_id),this._initLayout(),i&&(i.appendChild(this._el.container),this._el.parent=i))},loadMedia:function(){var t=this;if(!this._state.loaded)try{this.load_timer=setTimeout(function(){t.loadingMessage(),t._loadMedia(),t._updateDisplay()},1200)}catch(t){trace("Error loading media for ",this._media),trace(t)}},_updateMessage:function(t){this.message&&this.message.updateMessage(t)},loadingMessage:function(){this._updateMessage(this._("loading")+" "+this.options.media_name)},errorMessage:function(t){t=t?this._("error")+": "+t:this._("error"),this._updateMessage(t)},updateMediaDisplay:function(t){this._state.loaded&&!this.options.background&&(this._el.content_item.style.maxHeight=TL.Browser.mobile?this.options.height/2+"px":this.options.height-this.options.credit_height-this.options.caption_height-30+"px",this._el.container.style.maxWidth=this.options.width+"px",TL,this._updateMediaDisplay(t),this._state.media_loaded&&(this._el.credit&&(this._el.credit.style.width=this._el.content_item.offsetWidth+"px"),this._el.caption&&(this._el.caption.style.width=this._el.content_item.offsetWidth+"px")))},_loadMedia:function(){this.onLoaded()},_updateMediaDisplay:function(){TL.Browser.firefox&&(this._el.content_item.style.maxWidth=this.options.width+"px",this._el.content_item.style.width="auto")},_getMeta:function(){},_getImageURL:function(){return""},show:function(){},hide:function(){},addTo:function(t){t.appendChild(this._el.container),this.onAdd()},removeFrom:function(t){t.removeChild(this._el.container),this.onRemove()},getImageURL:function(t,e){return this._getImageURL(t,e)},updateDisplay:function(t,e,i){this._updateDisplay(t,e,i)},stopMedia:function(){this._stopMedia()},loadErrorDisplay:function(t){try{this._el.content.removeChild(this._el.content_item)}catch(t){}this._el.content_item=TL.Dom.create("div","tl-media-item tl-media-loaderror",this._el.content),this._el.content_item.innerHTML="<div class='tl-icon-"+this.options.media_type+"'></div><p>"+t+"</p>",this.onLoaded(!0)},onLoaded:function(t){this._state.loaded=!0,this.fire("loaded",this.data),this.message&&this.message.hide(),t||this.options.background||this.showMeta(),this.updateDisplay()},onMediaLoaded:function(){this._state.media_loaded=!0,this.fire("media_loaded",this.data),this._el.credit&&(this._el.credit.style.width=this._el.content_item.offsetWidth+"px"),this._el.caption&&(this._el.caption.style.width=this._el.content_item.offsetWidth+"px")},showMeta:function(){this._state.show_meta=!0,this.data.credit&&""!=this.data.credit&&(this._el.credit=TL.Dom.create("div","tl-credit",this._el.content_container),this._el.credit.innerHTML=1==this.options.autolink?TL.Util.linkify(this.data.credit):this.data.credit,this.options.credit_height=this._el.credit.offsetHeight),this.data.caption&&""!=this.data.caption&&(this._el.caption=TL.Dom.create("div","tl-caption",this._el.content_container),this._el.caption.innerHTML=1==this.options.autolink?TL.Util.linkify(this.data.caption):this.data.caption,this.options.caption_height=this._el.caption.offsetHeight),this.data.caption&&this.data.credit||this.getMeta()},getMeta:function(){this._getMeta()},updateMeta:function(){!this.data.credit&&this.data.credit_alternate&&(this._el.credit=TL.Dom.create("div","tl-credit",this._el.content_container),this._el.credit.innerHTML=this.data.credit_alternate,this.options.credit_height=this._el.credit.offsetHeight),!this.data.caption&&this.data.caption_alternate&&(this._el.caption=TL.Dom.create("div","tl-caption",this._el.content_container),this._el.caption.innerHTML=this.data.caption_alternate,this.options.caption_height=this._el.caption.offsetHeight),this.updateDisplay()},onAdd:function(){this.fire("added",this.data)},onRemove:function(){this.fire("removed",this.data)},_initLayout:function(){this.message=new TL.Message({},this.options),this.message.addTo(this._el.container),this._el.content_container=TL.Dom.create("div","tl-media-content-container",this._el.container),this.data.link&&""!=this.data.link?(this._el.link=TL.Dom.create("a","tl-media-link",this._el.content_container),this._el.link.href=this.data.link,this._el.link.target=this.data.link_target&&""!=this.data.link_target?this.data.link_target:"_blank",this._el.content=TL.Dom.create("div","tl-media-content",this._el.link)):this._el.content=TL.Dom.create("div","tl-media-content",this._el.content_container)},_updateDisplay:function(t,e,i){t&&(this.options.width=t),e&&(this.options.height=e),i&&(this.options.layout=i),this._el.credit&&(this.options.credit_height=this._el.credit.offsetHeight),this._el.caption&&(this.options.caption_height=this._el.caption.offsetHeight+5),this.updateMediaDisplay(this.options.layout)},_stopMedia:function(){}}),TL.Media.Blockquote=TL.Media.extend({includes:[TL.Events],_loadMedia:function(){this._el.content_item=TL.Dom.create("div","tl-media-item tl-media-blockquote",this._el.content),this._el.content_container.className="tl-media-content-container tl-media-content-container-text",this.media_id=this.data.url,this._el.content_item.innerHTML=this.media_id,this.onLoaded()},updateMediaDisplay:function(){},_updateMediaDisplay:function(){}}),TL.Media.DailyMotion=TL.Media.extend({includes:[TL.Events],_loadMedia:function(){this._el.content_item=TL.Dom.create("div","tl-media-item tl-media-iframe tl-media-dailymotion",this._el.content),this.media_id=this.data.url.match("video")?this.data.url.split("video/")[1].split(/[?&]/)[0]:this.data.url.split("embed/")[1].split(/[?&]/)[0],this._el.content_item.innerHTML="<iframe autostart='false' frameborder='0' width='100%' height='100%' src='https://www.dailymotion.com/embed/video/"+this.media_id+"?api=postMessage'></iframe>",this.onLoaded()},_updateMediaDisplay:function(){this._el.content_item.style.height=TL.Util.ratio.r16_9({w:this._el.content_item.offsetWidth})+"px"},_stopMedia:function(){this._el.content_item.querySelector("iframe").contentWindow.postMessage('{"command":"pause","parameters":[]}',"*")}}),TL.Media.DocumentCloud=TL.Media.extend({includes:[TL.Events],_loadMedia:function(){var t=this;this._el.content_item=TL.Dom.create("div","tl-media-item tl-media-documentcloud tl-media-shadow",this._el.content),this._el.content_item.id=TL.Util.unique_ID(7),this.data.url.match(/\.html$/)?this.data.url=this._transformURL(this.data.url):this.data.url.match(/.(json|js)$/)||trace("DOCUMENT CLOUD IN URL BUT INVALID SUFFIX"),TL.Load.js(["https://assets.documentcloud.org/viewer/loader.js","https://assets.documentcloud.org/viewer/viewer.js"],function(){t.createMedia()})},_transformURL:function(t){return t.replace(/(.*)\.html$/,"$1.js")},_updateMediaDisplay:function(){this._el.content_item.style.height=this.options.height+"px"},createMedia:function(){DV.load(this.data.url,{container:"#"+this._el.content_item.id,showSidebar:!1}),this.onLoaded()}}),TL.Media.Flickr=TL.Media.extend({includes:[TL.Events],_loadMedia:function(){var t=this;try{this.establishMediaID(),TL.getJSON("https://api.flickr.com/services/rest/?method=flickr.photos.getSizes&api_key="+this.options.api_key_flickr+"&photo_id="+this.media_id+"&format=json&jsoncallback=?",function(e){"ok"==e.stat?(t.sizes=e.sizes.size,t.options.background||t.createMedia(),t.onLoaded()):t.loadErrorDisplay(t._("flickr_notfound_err"))})}catch(e){t.loadErrorDisplay(t._(e.message_key))}},establishMediaID:function(){if(this.data.url.match(/flic.kr\/.+/i)){var t=this.data.url.split("/").slice(-1)[0];this.media_id=TL.Util.base58.decode(t)}else{var e="flickr.com/photos/",i=this.data.url.indexOf(e);if(-1==i)throw new TL.Error("flickr_invalidurl_err");this.media_id=this.data.url.substr(i+e.length).split("/")[1]}},createMedia:function(){var t=this;this._el.content_link=TL.Dom.create("a","",this._el.content),this._el.content_link.href=this.data.url,this._el.content_link.target="_blank",this._el.content_item=TL.Dom.create("img","tl-media-item tl-media-image tl-media-flickr tl-media-shadow",this._el.content_link),this.data.alt?this._el.content_item.alt=this.data.alt:this.data.caption&&(this._el.content_item.alt=TL.Util.unhtmlify(this.data.caption)),this.data.title?this._el.content_item.title=this.data.title:this.data.caption&&(this._el.content_item.title=TL.Util.unhtmlify(this.data.caption)),this._el.content_item.addEventListener("load",function(){t.onMediaLoaded()}),this._el.content_item.src=this.getImageURL(this.options.width,this.options.height)},getImageURL:function(t,e){for(var i=this.size_label(e),n=this.sizes[this.sizes.length-2].source,a=0;a<this.sizes.length;a++)this.sizes[a].label==i&&(n=this.sizes[a].source);return n},_getMeta:function(){var t=this;TL.getJSON("https://api.flickr.com/services/rest/?method=flickr.photos.getInfo&api_key="+this.options.api_key_flickr+"&photo_id="+this.media_id+"&format=json&jsoncallback=?",function(e){t.data.credit_alternate="<a href='"+t.data.url+"' target='_blank'>"+e.photo.owner.realname+"</a>",t.data.caption_alternate=e.photo.title._content+" "+e.photo.description._content,t.updateMeta()})},size_label:function(t){return 75>=t?0>=t?"Large":"Thumbnail":180>=t?"Small":240>=t?"Small 320":375>=t?"Medium":480>=t?"Medium 640":"Large"}}),TL.Media.GoogleDoc=TL.Media.extend({includes:[TL.Events],_loadMedia:function(){var t;this._el.content_item=TL.Dom.create("div","tl-media-item tl-media-iframe",this._el.content),this.data.url.match("open?id=")?(this.media_id=this.data.url.split("open?id=")[1],this.data.url.match("&authuser=0")&&(t=this.media_id.match("&authuser=0")[0])):t=this.data.url.match(/file\/d\/([^\/]*)\/?/)?"https://drive.google.com/file/d/"+this.data.url.match(/file\/d\/([^\/]*)\/?/)[1]+"/preview":this.data.url,this._el.content_item.innerHTML="<iframe class='doc' frameborder='0' width='100%' height='100%' src='"+t+"'></iframe>",this.onLoaded()},_updateMediaDisplay:function(){this._el.content_item.style.height=this.options.height+"px"}}),TL.Media.GooglePlus=TL.Media.extend({includes:[TL.Events],_loadMedia:function(){this._el.content_item=TL.Dom.create("div","tl-media-item tl-media-googleplus",this._el.content),this.media_id=this.data.url,this._el.content_item.innerHTML="<iframe frameborder='0' width='100%' height='100%' src='"+this.media_id+"'></iframe>",this.onLoaded()},_updateMediaDisplay:function(){this._el.content_item.style.height=this.options.height+"px"}}),TL.Media.IFrame=TL.Media.extend({includes:[TL.Events],_loadMedia:function(){this._el.content_item=TL.Dom.create("div","tl-media-item tl-media-iframe",this._el.content),this.media_id=this.data.url,this._el.content_item.innerHTML=this.media_id,this.onLoaded()},_updateMediaDisplay:function(){this._el.content_item.style.height=this.options.height+"px"}}),TL.Media.Image=TL.Media.extend({includes:[TL.Events],_loadMedia:function(){this.loadingMessage(),this.options.background||this.createMedia(),this.onLoaded()},createMedia:function(){var t=this,e="tl-media-item tl-media-image tl-media-shadow";(this.data.url.match(/.png(\?.*)?$/)||this.data.url.match(/.svg(\?.*)?$/))&&(e="tl-media-item tl-media-image"),this.data.link?(this._el.content_link=TL.Dom.create("a","",this._el.content),this._el.content_link.href=this.data.link,this._el.content_link.target="_blank",this._el.content_item=TL.Dom.create("img",e,this._el.content_link)):this._el.content_item=TL.Dom.create("img",e,this._el.content),this.data.alt?this._el.content_item.alt=this.data.alt:this.data.caption&&(this._el.content_item.alt=TL.Util.unhtmlify(this.data.caption)),this.data.title?this._el.content_item.title=this.data.title:this.data.caption&&(this._el.content_item.title=TL.Util.unhtmlify(this.data.caption)),this._el.content_item.addEventListener("load",function(){t.onMediaLoaded()}),this._el.content_item.src=this.getImageURL()},getImageURL:function(){return TL.Util.transformImageURL(this.data.url)},_updateMediaDisplay:function(){TL.Browser.firefox&&(this._el.content_item.style.width="auto")}}),TL.Media.Imgur=TL.Media.extend({includes:[TL.Events],_loadMedia:function(){try{var t=this;if(this.data.url.match("<blockquote class=['\"]imgur-embed-pub['\"]")){var e=this.data.url.match(/(imgur\.com)\/(\w+)/);this.media_id=e[2],this.data.url="http://imgur.com/gallery/"+this.media_id}else this.data.url&&(this.media_id=this.data.url.split("/").slice(-1)[0]);TL.Load.js(["https://s.imgur.com/min/embed.js"],function(){t.createMedia()})}catch(t){this.loadErrorDisplay(this._("imgur_invalidurl_err"))}},createMedia:function(){var t=this,e="https://api.imgur.com/oembed.json?url="+this.data.url;this._el.content_item=TL.Dom.create("div","tl-media-item tl-media-image tl-media-imgur",this._el.content),TL.ajax({type:"GET",url:e,dataType:"json",success:function(e){try{t._el.content_item.innerHTML=e.html,setInterval(function(){null==document.querySelector("blockquote.imgur-embed-pub")?clearInterval():(imgurEmbed.createIframe(),document.getElementById("imageElement").removeAttribute("style"),document.getElementById("image").removeAttribute("style"))},2e3)}catch(t){}},error:function(e,i,n){tc=new TL.TimelineConfig,n="parsererror"==i?new TL.Error("invalid_url_err"):new TL.Error("unknown_read_err",i),t.loadErrorDisplay(t._("imgur_invalidurl_err")),tc.logError(n)}}),this.onLoaded()},_updateMediaDisplay:function(){this._el.content_item.style.width=this.options.width+"px",this._el.content_item.style.height=TL.Util.ratio.r16_9({w:this.options.width})+"px"}}),TL.Media.Instagram=TL.Media.extend({includes:[TL.Events],_loadMedia:function(){this.media_id=this.data.url.split("/p/")[1].split("/")[0],this.options.background||this.createMedia(),this.onLoaded()},createMedia:function(){var t=this;this._el.content_link=TL.Dom.create("a","",this._el.content),this._el.content_link.href=this.data.url,this._el.content_link.target="_blank",this._el.content_item=TL.Dom.create("img","tl-media-item tl-media-image tl-media-instagram tl-media-shadow",this._el.content_link),this.data.alt?this._el.content_item.alt=this.data.alt:this.data.caption&&(this._el.content_item.alt=TL.Util.unhtmlify(this.data.caption)),this.data.title?this._el.content_item.title=this.data.title:this.data.caption&&(this._el.content_item.title=TL.Util.unhtmlify(this.data.caption)),this._el.content_item.addEventListener("load",function(){t.onMediaLoaded()}),this._el.content_item.src=this.getImageURL(this._el.content.offsetWidth)},getImageURL:function(t){return"https://instagram.com/p/"+this.media_id+"/media/?size="+this.sizes(t)},_getMeta:function(){var t=this;TL.getJSON("https://api.instagram.com/oembed?url=https://instagr.am/p/"+this.media_id+"&callback=?",function(e){t.data.credit_alternate="<a href='"+e.author_url+"' target='_blank'>"+e.author_name+"</a>",t.data.caption_alternate=e.title,t.updateMeta()})},sizes:function(t){return 150>=t?"t":306>=t?"m":"l"}}),TL.Media.GoogleMap=TL.Media.extend({includes:[TL.Events],_loadMedia:function(){this._el.content_item=TL.Dom.create("div","tl-media-item tl-media-map tl-media-shadow",this._el.content),this.media_id=this.data.url,this.mapframe=TL.Dom.create("iframe","",this._el.content_item),window.stash=this,this.mapframe.width="100%",this.mapframe.height="100%",this.mapframe.frameBorder="0",this.mapframe.src=this.makeGoogleMapsEmbedURL(this.media_id,this.options.api_key_googlemaps),this.onLoaded()},_updateMediaDisplay:function(){if(this._state.loaded){var t=TL.Util.ratio.square({w:this._el.content_item.offsetWidth});this._el.content_item.style.height=t.h+"px"}},makeGoogleMapsEmbedURL:function(t,e){var i=!1,n={view:["center"],place:["q","center"],directions:["origin","destination","center"],search:["q","center"],streetview:["fov","heading","pitch"]},a=/(https:\/\/.+google.+?\/maps)/,o=/@([-\d.]+),([-\d.]+)/,r=/([\w\W]+)/,s=/,((?:[-\d.]+[zmayht],?)*)/,l={view:new RegExp(a.source+"/"+o.source+s.source),place:new RegExp(a.source+"/place/"+r.source+"/"+o.source+s.source),directions:new RegExp(a.source+"/dir/"+r.source+"/"+r.source+"/"+o.source+s.source),search:new RegExp(a.source+"/search/"+r.source+"/"+o.source+s.source)};return function(t){function a(e,a){if("z"==e.slice(-1))a.zoom=e;else if("m"==e.slice(-1))a.zoom=14,a.maptype="satellite";else if("t"==e.slice(-1)){if(i=!0,"place"==mapmode)var o=t.match(l.place)[3]+","+t.match(l.place)[4];else o=a.center,delete a.center;for(param in(a={}).location=o,streetview_params=e.split(","),n.streetview){var r=parseInt(param)+1;a[n.streetview[param]]="pitch"==n.streetview[param]&&"90t"==streetview_params[r]?0:streetview_params[r].slice(0,-1)}}return a}return mapmode="view",t.match(l.place)?mapmode="place":t.match(l.directions)?mapmode="directions":t.match(l.search)&&(mapmode="search"),function(t,o){var r={},s=o[1],l=o[o.length-1];for(param in n[t]){var c=parseInt(param)+2;r[n[t][param]]="center"==n[t][param]?o[c]+","+o[++c]:o[c]}return(r=a(l,r)).key=e,1==i&&(t="streetview"),s+"/embed/v1/"+t+TL.Util.getParamString(r)}(mapmode,t.match(l[mapmode]))}(t)}}),TL.Media.PDF=TL.Media.extend({includes:[TL.Events],_loadMedia:function(){var t,e=TL.Util.transformImageURL(this.data.url);this._el.content_item=TL.Dom.create("div","tl-media-item tl-media-iframe",this._el.content),t=TL.Browser.ie||TL.Browser.edge||e.match(/dl.dropboxusercontent.com/)?"<iframe class='doc' frameborder='0' width='100%' height='100%' src='//docs.google.com/viewer?url="+e+"&amp;embedded=true'></iframe>":"<iframe class='doc' frameborder='0' width='100%' height='100%' src='"+e+"'></iframe>",this._el.content_item.innerHTML=t,this.onLoaded()},_updateMediaDisplay:function(){this._el.content_item.style.height=this.options.height+"px"}}),TL.Media.Profile=TL.Media.extend({includes:[TL.Events],_loadMedia:function(){this._el.content_item=TL.Dom.create("img","tl-media-item tl-media-image tl-media-profile tl-media-shadow",this._el.content),this._el.content_item.src=this.data.url,this.onLoaded()},_updateMediaDisplay:function(){TL.Browser.firefox&&(this._el.content_item.style.maxWidth=this.options.width/2-40+"px")}}),TL.Media.Slider=TL.Media.extend({includes:[TL.Events],_loadMedia:function(){this._el.content_item=TL.Dom.create("img","tl-media-item tl-media-image",this._el.content),this._el.content_item.src=this.data.url,this.onLoaded()}});var mediaID,soundCoudCreated=!1;TL.Media.SoundCloud=TL.Media.extend({includes:[TL.Events],_loadMedia:function(){var t=this;this._el.content_item=TL.Dom.create("div","tl-media-item tl-media-iframe tl-media-soundcloud tl-media-shadow",this._el.content),this.media_id=this.data.url,TL.getJSON("https://soundcloud.com/oembed?url="+this.media_id+"&format=js&callback=?",function(e){TL.Load.js("https://w.soundcloud.com/player/api.js",function(){t.createMedia(e)})})},createMedia:function(t){this._el.content_item.innerHTML=t.html,this.soundCloudCreated=!0,self.widget=SC.Widget(this._el.content_item.querySelector("iframe")),this.onLoaded()},_stopMedia:function(){this.soundCloudCreated&&self.widget.pause()}}),TL.Media.Spotify=TL.Media.extend({includes:[TL.Events],_loadMedia:function(){var t;if(this._el.content_item=TL.Dom.create("div","tl-media-item tl-media-iframe tl-media-spotify",this._el.content),(this.data.url.match(/^spotify:track/)||this.data.url.match(/^spotify:album/)||this.data.url.match(/^spotify:user:.+:playlist:/))&&(this.media_id=this.data.url),this.data.url.match(/spotify\.com\/track\/(.+)/))this.media_id="spotify:track:"+this.data.url.match(/spotify\.com\/track\/(.+)/)[1];else if(this.data.url.match(/spotify\.com\/album\/(.+)/))this.media_id="spotify:album:"+this.data.url.match(/spotify\.com\/album\/(.+)/)[1];else if(this.data.url.match(/spotify\.com\/user\/(.+?)\/playlist\/(.+)/)){var e=this.data.url.match(/spotify\.com\/user\/(.+?)\/playlist\/(.+)/)[1],i=this.data.url.match(/spotify\.com\/user\/(.+?)\/playlist\/(.+)/)[2];this.media_id="spotify:user:"+e+":playlist:"+i}else if(this.data.url.match(/spotify\.com\/artist\/(.+)/)){var n=this.data.url.match(/spotify\.com\/artist\/(.+)/)[1];this.media_id="spotify:artist:"+n}this.media_id?(t="https://embed.spotify.com/?uri="+this.media_id+"&theme=white&view=coverart",this.player=TL.Dom.create("iframe","tl-media-shadow",this._el.content_item),this.player.width="100%",this.player.height="100%",this.player.frameBorder="0",this.player.src=t,this.onLoaded()):this.loadErrorDisplay(this._("spotify_invalid_url"))},_updateMediaDisplay:function(){var t,e=0,i=0;t=TL.Browser.mobile?this.options.height/2:this.options.height-this.options.credit_height-this.options.caption_height-30,this._el.content_item.style.maxHeight="none",trace(t),trace(this.options.width),t>this.options.width?(trace("height is greater"),e=this.options.width+80+"px",i=this.options.width+"px"):(trace("width is greater"),trace(this.options.width),e=t+"px",i=t-80+"px"),this.player.style.width=i,this.player.style.height=e,this._el.credit&&(this._el.credit.style.width=i),this._el.caption&&(this._el.caption.style.width=i)},_stopMedia:function(){}}),TL.Media.Storify=TL.Media.extend({includes:[TL.Events],_loadMedia:function(){var t;this._el.content_item=TL.Dom.create("div","tl-media-item tl-media-iframe tl-media-storify",this._el.content),this.media_id=this.data.url,t="<iframe frameborder='0' width='100%' height='100%' src='"+this.media_id+"/embed'></iframe>",this._el.content_item.innerHTML=t+="<script src='"+this.media_id+".js'><\/script>",this.onLoaded()},_updateMediaDisplay:function(){this._el.content_item.style.height=this.options.height+"px"}}),TL.Media.Text=TL.Class.extend({includes:[TL.Events],_el:{container:{},content_container:{},content:{},headline:{},date:{}},data:{unique_id:"",headline:"headline",text:"text"},options:{title:!1},initialize:function(t,e,i){TL.Util.setData(this,t),TL.Util.mergeData(this.options,e),this._el.container=TL.Dom.create("div","tl-text"),this._el.container.id=this.data.unique_id,this._initLayout(),i&&i.appendChild(this._el.container)},show:function(){},hide:function(){},addTo:function(t){t.appendChild(this._el.container)},removeFrom:function(t){t.removeChild(this._el.container)},headlineHeight:function(){return this._el.headline.offsetHeight+40},addDateText:function(t){this._el.date.innerHTML=t},onLoaded:function(){this.fire("loaded",this.data)},onAdd:function(){this.fire("added",this.data)},onRemove:function(){this.fire("removed",this.data)},_initLayout:function(){if(this._el.content_container=TL.Dom.create("div","tl-text-content-container",this._el.container),this._el.date=TL.Dom.create("h3","tl-headline-date",this._el.content_container),""!=this.data.headline){var t="tl-headline";this.options.title&&(t="tl-headline tl-headline-title"),this._el.headline=TL.Dom.create("h2",t,this._el.content_container),this._el.headline.innerHTML=this.data.headline}if(""!=this.data.text){var e="";e+=TL.Util.htmlify(1==this.options.autolink?TL.Util.linkify(this.data.text):this.data.text),trace(this.data.text),this._el.content=TL.Dom.create("div","tl-text-content",this._el.content_container),this._el.content.innerHTML=e,trace(e),trace(this._el.content)}this.onLoaded()}}),TL.Media.Twitter=TL.Media.extend({includes:[TL.Events],_loadMedia:function(){var t=this;if(this._el.content_item=TL.Dom.create("div","tl-media-twitter",this._el.content),this._el.content_container.className="tl-media-content-container tl-media-content-container-text",this.data.url.match("^(https?:)?/*(www.)?twitter.com"))this.media_id=this.data.url.match("status/")?this.data.url.split("status/")[1]:this.data.url.match("statuses/")?this.data.url.split("statuses/")[1]:"";else if(this.data.url.match("<blockquote class=['\"]twitter-tweet['\"]")){var e=this.data.url.match(/(status|statuses)\/(\d+)/);if(!(e&&e.length>2))return void t.loadErrorDisplay(t._("twitterembed_invalidurl_err"));this.media_id=e[2]}TL.ajax({type:"GET",url:"https://api.twitter.com/1/statuses/oembed.json?id="+this.media_id+"&omit_script=true&include_entities=true&callback=?",dataType:"json",success:function(e){t.createMedia(e)},error:function(e,i){var n="";n+=t._("twitter_load_err")+"<br/>"+t.media_id+"<br/>"+i,t.loadErrorDisplay(n)}})},createMedia:function(t){trace("create_media");var e,i,n,a="",o="",r="",s=this;o=t.html.split("</p>&mdash;")[0]+"</p></blockquote>",e=t.author_url.split("twitter.com/")[1],i=(r=t.html.split("</p>&mdash;")[1].split('<a href="')[1]).split('">')[0],n=r.split('">')[1].split("</a>")[0],(o=o.replace(/<a href/gi,'<a target="_blank" href')).includes("pic.twitter.com")?(TL.Load.js("https://platform.twitter.com/widgets.js",function(){twttr.widgets.createTweet(s.media_id,s._el.content_item,{conversation:"none",linkColor:"#cc0000",theme:"light"})}),this.onLoaded()):(a+=o,a+="<div class='vcard'>",a+="<a href='"+i+"' class='twitter-date' target='_blank'>"+n+"</a>",a+="<img src='' class='tl-media-item tl-media-image' target='_blank'></a>",a+="<div class='author'>",a+="<a class='screen-name url' href='"+t.author_url+"' target='_blank'>",a+="<span class='avatar'></span>",a+="<span class='fn'>"+t.author_name+" <span class='tl-icon-twitter'></span></span>",a+="<span class='nickname'>@"+e+"<span class='thumbnail-inline'></span></span>",a+="</a>",a+="</div>",this._el.content_item.innerHTML=a+="</div>",this.onLoaded())},updateMediaDisplay:function(){},_updateMediaDisplay:function(){}}),TL.Media.TwitterEmbed=TL.Media.extend({includes:[TL.Events],_loadMedia:function(){var t,e=this;this._el.content_item=TL.Dom.create("div","tl-media-twitter",this._el.content),this._el.content_container.className="tl-media-content-container tl-media-content-container-text";var i=this.data.url.match(/(status|statuses)\/(\d+)/);return i&&i.length>2?(this.media_id=i[2],t="https://api.twitter.com/1/statuses/oembed.json?id="+this.media_id+"&omit_script=true&include_entities=true&callback=?",window.twttr=function(t,e,i){var n,a=t.getElementsByTagName(e)[0],o=window.twttr||{};return t.getElementById(i)?o:((n=t.createElement(e)).id=i,n.src="https://platform.twitter.com/widgets.js",a.parentNode.insertBefore(n,a),o._e=[],o.ready=function(t){o._e.push(t)},o)}(document,"script","twitter-wjs"),mediaID=this.media_id,void TL.ajax({type:"GET",url:t,dataType:"json",success:function(t){e.createMedia(t)},error:function(t,i){var n="";n+=e._("twitter_load_err")+"<br/>"+e.media_id+"<br/>"+i,e.loadErrorDisplay(n)}})):void e.loadErrorDisplay(e._("twitterembed_invalidurl_err"))},createMedia:function(t){trace("create_media");var e,i,n,a="",o="",r="";o=t.html.split("</p>&mdash;")[0]+"</p></blockquote>",console.log(o),e=t.author_url.split("twitter.com/")[1],i=(r=t.html.split("</p>&mdash;")[1].split('<a href="')[1]).split('">')[0],n=r.split('">')[1].split("</a>")[0],(o=o.replace(/<a href/gi,'<a target="_blank" href')).includes("pic.twitter.com")?(twttr.ready(function(){a=document.getElementsByClassName("tl-media-twitter")[0];var t=String(mediaID);twttr.widgets.createTweet(t,a,{conversation:"none",linkColor:"#cc0000",theme:"light"}).then(function(){this.onLoaded()})}),this._el.content_item.innerHTML=a,this.onLoaded()):(a+=o,a+="<div class='vcard'>",a+="<a href='"+i+"' class='twitter-date' target='_blank'>"+n+"</a>",a+="<div class='author'>",a+="<a class='screen-name url' href='"+t.author_url+"' target='_blank'>",a+="<span class='avatar'></span>",a+="<span class='fn'>"+t.author_name+" <span class='tl-icon-twitter'></span></span>",a+="<span class='nickname'>@"+e+"<span class='thumbnail-inline'></span></span>",a+="</a>",a+="</div>",this._el.content_item.innerHTML=a+="</div>",this.onLoaded())},updateMediaDisplay:function(){},_updateMediaDisplay:function(){}}),TL.Media.Vimeo=TL.Media.extend({includes:[TL.Events],_loadMedia:function(){var t,e=this;this._el.content_item=TL.Dom.create("div","tl-media-item tl-media-iframe tl-media-vimeo tl-media-shadow",this._el.content),this.media_id=this.data.url.split(/video\/|\/\/vimeo\.com\//)[1].split(/[?&]/)[0],t="https://player.vimeo.com/video/"+this.media_id+"?api=1&title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff",this.player=TL.Dom.create("iframe","",this._el.content_item),this.player.addEventListener("load",function(){e.onMediaLoaded()}),this.player.width="100%",this.player.height="100%",this.player.frameBorder="0",this.player.src=t,this.player.setAttribute("allowfullscreen",""),this.player.setAttribute("webkitallowfullscreen",""),this.player.setAttribute("mozallowfullscreen",""),this.onLoaded()},_updateMediaDisplay:function(){this._el.content_item.style.height=TL.Util.ratio.r16_9({w:this._el.content_item.offsetWidth})+"px"},_stopMedia:function(){try{this.player.contentWindow.postMessage(JSON.stringify({method:"pause"}),"https://player.vimeo.com")}catch(t){trace(t)}}}),TL.Media.Vine=TL.Media.extend({includes:[TL.Events],_loadMedia:function(){this._el.content_item=TL.Dom.create("div","tl-media-item tl-media-iframe tl-media-vine tl-media-shadow",this._el.content),this.media_id=this.data.url.split("vine.co/v/")[1],this._el.content_item.innerHTML="<iframe frameborder='0' width='100%' height='100%' src='https://vine.co/v/"+this.media_id+"/embed/simple'></iframe><script async src='https://platform.vine.co/static/scripts/embed.js' charset='utf-8'><\/script>",this.onLoaded()},_updateMediaDisplay:function(){var t=TL.Util.ratio.square({w:this._el.content_item.offsetWidth,h:this.options.height});this._el.content_item.style.height=t.h+"px"},_stopMedia:function(){this._el.content_item.querySelector("iframe").contentWindow.postMessage("pause","*")}}),TL.Media.Website=TL.Media.extend({includes:[TL.Events],_loadMedia:function(){var t=this;this.media_id=this.data.url.replace(/.*?:\/\//g,""),this.options.api_key_embedly?(api_url="https://api.embed.ly/1/extract?key="+this.options.api_key_embedly+"&url="+this.media_id+"&callback=?",TL.getJSON(api_url,function(e){t.createMedia(e)})):this.createCardContent()},createCardContent:function(){!function(t,e){var i="embedly-platform",n="script";if(!e.getElementById(i)){t.embedly=t.embedly||function(){(t.embedly.q=t.embedly.q||[]).push(arguments)};var a=e.createElement(n);a.id=i,a.async=1,a.src=("https:"===document.location.protocol?"https":"http")+"://cdn.embedly.com/widgets/platform.js";var o=e.getElementsByTagName(n)[0];o.parentNode.insertBefore(a,o)}}(window,document),this._setContent('<a href="'+this.data.url+'" class="embedly-card">'+this.data.url+"</a>")},createMedia:function(t){var e="";e+="<h4><a href='"+this.data.url+"' target='_blank'>"+t.title+"</a></h4>",t.images&&t.images[0]&&(trace(t.images[0].url),e+="<img src='"+t.images[0].url+"' />"),t.favicon_url&&(e+="<img class='tl-media-website-icon' src='"+t.favicon_url+"' />"),e+="<span class='tl-media-website-description'>"+t.provider_name+"</span><br/>",this._setContent(e+="<p>"+t.description+"</p>")},_setContent:function(t){this._el.content_item=TL.Dom.create("div","tl-media-item tl-media-website",this._el.content),this._el.content_container.className="tl-media-content-container tl-media-content-container-text",this._el.content_item.innerHTML=t,this.onLoaded()},updateMediaDisplay:function(){},_updateMediaDisplay:function(){}}),TL.Media.Wikipedia=TL.Media.extend({includes:[TL.Events],_loadMedia:function(){var t,e=this;this._el.content_item=TL.Dom.create("div","tl-media-item tl-media-wikipedia",this._el.content),this._el.content_container.className="tl-media-content-container tl-media-content-container-text",this.media_id=this.data.url.split("wiki/")[1].split("#")[0].replace("_"," "),this.media_id=this.media_id.replace(" ","%20"),t=this.data.url.split("//")[1].split(".wikipedia")[0],TL.ajax({type:"GET",url:"https://"+t+".wikipedia.org/w/api.php?action=query&prop=extracts|pageimages&redirects=&titles="+this.media_id+"&exintro=1&format=json&callback=?",dataType:"json",success:function(t){e.createMedia(t)},error:function(t,i){var n="";n+=e._("wikipedia_load_err")+"<br/>"+e.media_id+"<br/>"+i,e.loadErrorDisplay(n)}})},createMedia:function(t){var e="";if(t.query){var i="";(e={entry:{},title:"",text:"",extract:"",paragraphs:1,page_image:"",text_array:[]}).entry=TL.Util.getObjectAttributeByIndex(t.query.pages,0),e.extract=e.entry.extract,e.title=e.entry.title,e.page_image=e.entry.thumbnail,e.extract.match("<p>")?e.text_array=e.extract.split("<p>"):e.text_array.push(e.extract);for(var n=0;n<e.text_array.length;n++)n+1<=e.paragraphs&&n+1<e.text_array.length&&(e.text+="<p>"+e.text_array[n+1]);i+="<span class='tl-icon-wikipedia'></span>",i+="<div class='tl-wikipedia-title'><h4><a href='"+this.data.url+"' target='_blank'>"+e.title+"</a></h4>",i+="<span class='tl-wikipedia-source'>"+this._("wikipedia")+"</span></div>",i+=e.text,e.extract.match("REDIRECT")||(this._el.content_item.innerHTML=i,this.onLoaded())}},updateMediaDisplay:function(){},_updateMediaDisplay:function(){}}),TL.Media.Wistia=TL.Media.extend({includes:[TL.Events],_loadMedia:function(){var t,e=this;this._el.content_item=TL.Dom.create("div","tl-media-item tl-media-iframe tl-media-wistia tl-media-shadow",this._el.content),this.media_id=this.data.url.split(/https?:\/\/(.+)?(wistia\.com|wi\.st)\/medias\/(.*)/)[3],t="https://fast.wistia.com/embed/iframe/"+this.media_id+"?version=v1&controlsVisibleOnLoad=true&playerColor=aae3d8",this.player=TL.Dom.create("iframe","",this._el.content_item),this.player.addEventListener("load",function(){e.onMediaLoaded()}),this.player.width="100%",this.player.height="100%",this.player.frameBorder="0",this.player.src=t,this.player.setAttribute("allowfullscreen",""),this.player.setAttribute("webkitallowfullscreen",""),this.player.setAttribute("mozallowfullscreen",""),this.onLoaded()},_updateMediaDisplay:function(){this._el.content_item.style.height=TL.Util.ratio.r16_9({w:this._el.content_item.offsetWidth})+"px"},_stopMedia:function(){try{this.player.contentWindow.postMessage(JSON.stringify({method:"pause"}),"https://player.vimeo.com")}catch(t){trace(t)}}}),TL.Media.YouTube=TL.Media.extend({includes:[TL.Events],_loadMedia:function(){var t,e=this;this.youtube_loaded=!1,this._el.content_item=TL.Dom.create("div","tl-media-item tl-media-youtube tl-media-shadow",this._el.content),this._el.content_item.id=TL.Util.unique_ID(7),t=TL.Util.getUrlVars(this.data.url),this.media_id={},this.data.url.match("v=")?this.media_id.id=t.v:this.data.url.match("/embed/")?this.media_id.id=this.data.url.split("embed/")[1].split(/[?&]/)[0]:this.data.url.match(/v\/|v=|youtu\.be\//)?this.media_id.id=this.data.url.split(/v\/|v=|youtu\.be\//)[1].split(/[?&]/)[0]:trace("YOUTUBE IN URL BUT NOT A VALID VIDEO"),this.media_id.start=parseInt(t.start),isNaN(this.media_id.start)&&(this.media_id.start=TL.Util.parseYouTubeTime(t.t)),this.media_id.end=parseInt(t.end),this.media_id.hd=Boolean(void 0!==t.hd),TL.Load.js("https://www.youtube.com/iframe_api",function(){e.createMedia()})},_updateMediaDisplay:function(){this._el.content_item.style.height=TL.Util.ratio.r16_9({w:this.options.width})+"px",this._el.content_item.style.width=this.options.width+"px"},_stopMedia:function(){if(this.youtube_loaded)try{this.player.getPlayerState()==YT.PlayerState.PLAYING&&this.player.pauseVideo()}catch(t){trace(t)}},createMedia:function(){var t=this;clearTimeout(this.timer),"undefined"!=typeof YT&&void 0!==YT.Player?this.player=new YT.Player(this._el.content_item.id,{playerVars:{enablejsapi:1,color:"white",autohide:1,showinfo:0,theme:"light",start:this.media_id.start,end:this.media_id.end,fs:0,rel:0},videoId:this.media_id.id,events:{onReady:function(){t.onPlayerReady(),t.onLoaded()},onStateChange:t.onStateChange}}):this.timer=setTimeout(function(){t.createMedia()},1e3)},onPlayerReady:function(){this.youtube_loaded=!0,this._el.content_item=document.getElementById(this._el.content_item.id),this.onMediaLoaded()},onStateChange:function(t){t.data==YT.PlayerState.ENDED&&(t.target.seekTo(0),t.target.pauseVideo())}}),TL.Media.Audio=TL.Media.extend({includes:[TL.Events],_loadMedia:function(){this.loadingMessage(),this.options.background||this.createMedia(),this.onLoaded()},createMedia:function(){var t=this,e="tl-media-item tl-media-audio tl-media-shadow";this.data.link?(this._el.content_link=TL.Dom.create("a","",this._el.content),this._el.content_link.href=this.data.link,this._el.content_link.target="_blank",this._el.content_item=TL.Dom.create("audio",e,this._el.content_link)):this._el.content_item=TL.Dom.create("audio",e,this._el.content),this._el.content_item.controls=!0,this._el.source_item=TL.Dom.create("source","",this._el.content_item),this._el.content_item.addEventListener("load",function(){t.onMediaLoaded()}),this._el.source_item.src=this.data.url,this._el.source_item.type=this._getType(this.data.url,this.data.mediatype.match_str),this._el.content_item.innerHTML+="Your browser doesn't support HTML5 audio with "+this._el.source_item.type},_updateMediaDisplay:function(){TL.Browser.firefox&&(this._el.content_item.style.width="auto")},_getType:function(t,e){var i="audio/";switch(t.match(e)[1]){case"mp3":i+="mpeg";break;case"wav":i+="wav";break;case"m4a":i+="mp4";break;default:i="audio"}return i}}),TL.Media.Video=TL.Media.extend({includes:[TL.Events],_loadMedia:function(){this.loadingMessage(),this.options.background||this.createMedia(),this.onLoaded()},createMedia:function(){var t=this,e="tl-media-item tl-media-video tl-media-shadow";this.data.link?(this._el.content_link=TL.Dom.create("a","",this._el.content),this._el.content_link.href=this.data.link,this._el.content_link.target="_blank",this._el.content_item=TL.Dom.create("video",e,this._el.content_link)):this._el.content_item=TL.Dom.create("video",e,this._el.content),this._el.content_item.controls=!0,this._el.source_item=TL.Dom.create("source","",this._el.content_item),this._el.content_item.addEventListener("load",function(){t.onMediaLoaded()}),this._el.source_item.src=this.data.url,this._el.source_item.type=this._getType(this.data.url,this.data.mediatype.match_str),this._el.content_item.innerHTML+="Your browser doesn't support HTML5 video with "+this._el.source_item.type},_updateMediaDisplay:function(){TL.Browser.firefox&&(this._el.content_item.style.width="auto")},_getType:function(t,e){var i="video/";switch(t.match(e)[1]){case"mp4":i+="mp4";break;default:i="video"}return i}}),TL.Slide=TL.Class.extend({includes:[TL.Events,TL.DomMixins,TL.I18NMixins],_el:{},initialize:function(t,e,i){this._el={container:{},scroll_container:{},background:{},content_container:{},content:{}},this._media=null,this._mediaclass={},this._text={},this._background_media=null,this._state={loaded:!1},this.has={headline:!1,text:!1,media:!1,title:!1,background:{image:!1,color:!1,color_value:""}},this.has.title=i,this.data={unique_id:null,background:null,start_date:null,end_date:null,location:null,text:null,media:null,autolink:!0},this.options={duration:1e3,slide_padding_lr:40,ease:TL.Ease.easeInSpline,width:600,height:600,skinny_size:650,media_name:""},this.active=!1,this.animator={},TL.Util.mergeData(this.options,e),TL.Util.mergeData(this.data,t),this._initLayout(),this._initEvents()},show:function(){this.animator=TL.Animate(this._el.slider_container,{left:-this._el.container.offsetWidth*n+"px",duration:this.options.duration,easing:this.options.ease})},hide:function(){},setActive:function(t){this.active=t,this.active?(this.data.background&&this.fire("background_change",this.has.background),this.loadMedia()):this.stopMedia()},addTo:function(t){t.appendChild(this._el.container)},removeFrom:function(t){t.removeChild(this._el.container)},updateDisplay:function(t,e,i){this._updateDisplay(t,e,i)},loadMedia:function(){var t=this;this._media&&!this._state.loaded&&(this._media.loadMedia(),this._state.loaded=!0),this._background_media&&!this._background_media._state.loaded&&(this._background_media.on("loaded",function(){t._updateBackgroundDisplay()}),this._background_media.loadMedia())},stopMedia:function(){this._media&&this._state.loaded&&this._media.stopMedia()},getBackground:function(){return this.has.background},scrollToTop:function(){this._el.container.scrollTop=0},getFormattedDate:function(){if(TL.Util.trim(this.data.display_date).length>0)return this.data.display_date;var t="";return this.has.title||(this.data.end_date&&(t=" &mdash; "+this.data.end_date.getDisplayDate(this.getLanguage())),this.data.start_date&&(t=this.data.start_date.getDisplayDate(this.getLanguage())+t)),t},_initLayout:function(){if(this._el.container=TL.Dom.create("div","tl-slide"),this.has.title&&(this._el.container.className="tl-slide tl-slide-titleslide"),this.data.unique_id&&(this._el.container.id=this.data.unique_id),this._el.scroll_container=TL.Dom.create("div","tl-slide-scrollable-container",this._el.container),this._el.content_container=TL.Dom.create("div","tl-slide-content-container",this._el.scroll_container),this._el.content=TL.Dom.create("div","tl-slide-content",this._el.content_container),this._el.background=TL.Dom.create("div","tl-slide-background",this._el.container),this.data.background){if(this.data.background.url){var t=TL.MediaType(this.data.background,!0);t&&(this._background_media=new t.cls(this.data.background,{background:1}),this.has.background.image=!0,this._el.container.className+=" tl-full-image-background",this.has.background.color_value="#000",this._el.background.style.display="block")}this.data.background.color&&(this.has.background.color=!0,this._el.container.className+=" tl-full-color-background",this.has.background.color_value=this.data.background.color),this.data.background.text_background&&(this._el.container.className+=" tl-text-background")}this.data.media&&this.data.media.url&&""!=this.data.media.url&&(this.has.media=!0),this.data.text&&this.data.text.text&&(this.has.text=!0),this.data.text&&this.data.text.headline&&(this.has.headline=!0),this.has.media&&(this.data.media.mediatype=TL.MediaType(this.data.media),this.options.media_name=this.data.media.mediatype.name,this.options.media_type=this.data.media.mediatype.type,this.options.autolink=this.data.autolink,this._media=new this.data.media.mediatype.cls(this.data.media,this.options)),(this.has.text||this.has.headline)&&(this._text=new TL.Media.Text(this.data.text,{title:this.has.title,language:this.options.language,autolink:this.data.autolink}),this._text.addDateText(this.getFormattedDate())),this.has.text||this.has.headline||!this.has.media?this.has.headline&&this.has.media&&!this.has.text?(TL.DomUtil.addClass(this._el.container,"tl-slide-media-only"),this._text.addTo(this._el.content),this._media.addTo(this._el.content)):this.has.text&&this.has.media?(this._media.addTo(this._el.content),this._text.addTo(this._el.content)):(this.has.text||this.has.headline)&&(TL.DomUtil.addClass(this._el.container,"tl-slide-text-only"),this._text.addTo(this._el.content)):(TL.DomUtil.addClass(this._el.container,"tl-slide-media-only"),this._media.addTo(this._el.content)),this.onLoaded()},_initEvents:function(){},_updateDisplay:function(t,e,i){var n,a=this.options.slide_padding_lr,o=this.options.slide_padding_lr;this.options.width=t||this._el.container.offsetWidth,n=this.options.width-2*this.options.slide_padding_lr,TL.Browser.mobile&&this.options.width<=this.options.skinny_size?(a=0,o=0,n=this.options.width):"landscape"==i||this.options.width<=this.options.skinny_size&&(n=this.options.width-(a=50)-(o=50)),this._el.content.style.paddingLeft=a+"px",this._el.content.style.paddingRight=o+"px",this._el.content.style.width=n+"px",this.options.height=e||this._el.container.offsetHeight,this._media&&(!this.has.text&&this.has.headline?this._media.updateDisplay(n,this.options.height-this._text.headlineHeight(),i):this._media.updateDisplay(this.has.text||this.has.headline?this.options.width<=this.options.skinny_size?n:n/2:n,this.options.height,i)),this._updateBackgroundDisplay()},_updateBackgroundDisplay:function(){this._background_media&&this._background_media._state.loaded&&(this._el.background.style.backgroundImage="url('"+this._background_media.getImageURL(this.options.width,this.options.height)+"')")}}),TL.SlideNav=TL.Class.extend({includes:[TL.Events,TL.DomMixins],_el:{},initialize:function(t,e,i){this._el={container:{},content_container:{},icon:{},title:{},description:{}},this.mediatype={},this.data={title:"Navigation",description:"Description",date:"Date"},this.options={direction:"previous"},this.animator=null,TL.Util.mergeData(this.options,e),TL.Util.mergeData(this.data,t),this._el.container=TL.Dom.create("div","tl-slidenav-"+this.options.direction),TL.Browser.mobile&&this._el.container.setAttribute("ontouchstart"," "),this._initLayout(),this._initEvents(),i&&i.appendChild(this._el.container)},update:function(t){var e={title:"",description:"",date:t.getFormattedDate()};t.data.text&&t.data.text.headline&&(e.title=t.data.text.headline),this._update(e)},setColor:function(t){this._el.content_container.className=t?"tl-slidenav-content-container tl-slidenav-inverted":"tl-slidenav-content-container"},_onMouseClick:function(){this.fire("clicked",this.options)},_update:function(t){this.data=TL.Util.mergeData(this.data,t),this._el.title.innerHTML=TL.Util.unlinkify(this.data.title),this._el.description.innerHTML=TL.Util.unlinkify(this.data.date)},_initLayout:function(){this._el.content_container=TL.Dom.create("div","tl-slidenav-content-container",this._el.container),this._el.icon=TL.Dom.create("div","tl-slidenav-icon",this._el.content_container),this._el.title=TL.Dom.create("div","tl-slidenav-title",this._el.content_container),this._el.description=TL.Dom.create("div","tl-slidenav-description",this._el.content_container),this._el.icon.innerHTML="&nbsp;",this._update()},_initEvents:function(){TL.DomEvent.addListener(this._el.container,"click",this._onMouseClick,this)}}),TL.StorySlider=TL.Class.extend({includes:[TL.Events,TL.I18NMixins],initialize:function(t,e,i,n){this._el={container:{},background:{},slider_container_mask:{},slider_container:{},slider_item_container:{}},this._nav={},this._nav.previous={},this._nav.next={},this.slide_spacing=0,this._slides=[],this.current_id="",this.data={},this.options={id:"",layout:"portrait",width:600,height:600,default_bg_color:{r:255,g:255,b:255},slide_padding_lr:40,start_at_slide:1,slide_default_fade:"0%",duration:1e3,ease:TL.Ease.easeInOutQuint,dragging:!0,trackResize:!0},"object"==typeof t?(this._el.container=t,this.options.id=TL.Util.unique_ID(6,"tl")):(this.options.id=t,this._el.container=TL.Dom.get(t)),this._el.container.id||(this._el.container.id=this.options.id),this.animator=null,TL.Util.mergeData(this.options,i),TL.Util.mergeData(this.data,e),n&&this.init()},init:function(){this._initLayout(),this._initEvents(),this._initData(),this._updateDisplay(),this.goTo(this.options.start_at_slide),this._onLoaded()},_addSlide:function(t){t.addTo(this._el.slider_item_container),t.on("added",this._onSlideAdded,this),t.on("background_change",this._onBackgroundChange,this)},_createSlide:function(t,e,i){var n=new TL.Slide(t,this.options,e);this._addSlide(n),0>i?this._slides.push(n):this._slides.splice(i,0,n)},_createSlides:function(t){for(var e=0;e<t.length;e++)""==t[e].unique_id&&(t[e].unique_id=TL.Util.unique_ID(6,"tl-slide")),this._createSlide(t[e],!1,-1)},_removeSlide:function(t){t.removeFrom(this._el.slider_item_container),t.off("added",this._onSlideRemoved,this),t.off("background_change",this._onBackgroundChange)},_destroySlide:function(t){this._removeSlide(this._slides[t]),this._slides.splice(t,1)},_findSlideIndex:function(t){var e=t;return("string"==typeof t||t instanceof String)&&(e=TL.Util.findArrayNumberByUniqueID(t,this._slides,"unique_id")),e},updateDisplay:function(t,e,i,n){this._updateDisplay(t,e,i,n)},createSlide:function(t,e){this._createSlide(t,!1,e)},createSlides:function(t){this._createSlides(t)},destroySlide:function(t){this._destroySlide(t)},destroySlideId:function(t){this.destroySlide(this._findSlideIndex(t))},goTo:function(t,e,i){t=parseInt(t),isNaN(t)&&(t=0);var n=this;this.changeBackground({color_value:"",image:!1}),this.preloadTimer&&clearTimeout(this.preloadTimer);for(var a=0;a<this._slides.length;a++)this._slides[a].setActive(!1);t<this._slides.length&&t>=0&&(this.current_id=this._slides[t].data.unique_id,this.animator&&this.animator.stop(),this._swipable&&this._swipable.stopMomentum(),e?(this._el.slider_container.style.left=-this.slide_spacing*t+"px",this._onSlideChange(i)):this.animator=TL.Animate(this._el.slider_container,{left:-this.slide_spacing*t+"px",duration:this.options.duration,easing:this.options.ease,complete:this._onSlideChange(i)}),this._slides[t].setActive(!0),this._slides[t+1]?(this.showNav(this._nav.next,!0),this._nav.next.update(this._slides[t+1])):this.showNav(this._nav.next,!1),this._slides[t-1]?(this.showNav(this._nav.previous,!0),this._nav.previous.update(this._slides[t-1])):this.showNav(this._nav.previous,!1),this.preloadTimer=setTimeout(function(){n.preloadSlides(t)},this.options.duration))},goToId:function(t,e,i){this.goTo(this._findSlideIndex(t),e,i)},preloadSlides:function(t){this._slides[t+1]&&(this._slides[t+1].loadMedia(),this._slides[t+1].scrollToTop()),this._slides[t+2]&&(this._slides[t+2].loadMedia(),this._slides[t+2].scrollToTop()),this._slides[t-1]&&(this._slides[t-1].loadMedia(),this._slides[t-1].scrollToTop()),this._slides[t-2]&&(this._slides[t-2].loadMedia(),this._slides[t-2].scrollToTop())},next:function(){var t=this._findSlideIndex(this.current_id);this.goTo(t+1<this._slides.length?t+1:t)},previous:function(){var t=this._findSlideIndex(this.current_id);this.goTo(t-1>=0?t-1:t)},showNav:function(t,e){this.options.width<=500&&TL.Browser.mobile||(e?t.show():t.hide())},changeBackground:function(t){var e={r:256,g:256,b:256};t.color_value&&""!=t.color_value?(e=TL.Util.hexToRgb(t.color_value))||(trace("Invalid color value "+t.color_value),e=this.options.default_bg_color):t.color_value="rgb("+(e=this.options.default_bg_color).r+" , "+e.g+", "+e.b+")",this._el.background.style.backgroundImage="none",this._el.background.style.backgroundColor=t.color_value?t.color_value:"transparent",e.r<255||e.g<255||e.b<255||t.image?(this._nav.next.setColor(!0),this._nav.previous.setColor(!0)):(this._nav.next.setColor(!1),this._nav.previous.setColor(!1))},_updateDisplay:function(t,e,i,n){var a,o;this.options.layout=o=void 0===n?this.options.layout:n,this.slide_spacing=2*this.options.width,this.options.width=t||this._el.container.offsetWidth,this.options.height=e||this._el.container.offsetHeight,this._nav.next.setPosition({top:a=this.options.height/2}),this._nav.previous.setPosition({top:a});for(var r=0;r<this._slides.length;r++)this._slides[r].updateDisplay(this.options.width,this.options.height,o),this._slides[r].setPosition({left:this.slide_spacing*r,top:0});this.goToId(this.current_id,!0,!0)},_updateDrawSlides:function(){for(var t=this.options.layout,e=0;e<this._slides.length;e++)this._slides[e].updateDisplay(this.options.width,this.options.height,t),this._slides[e].setPosition({left:this.slide_spacing*e,top:0});this.goToId(this.current_id,!0,!1)},_initLayout:function(){TL.DomUtil.addClass(this._el.container,"tl-storyslider"),this._el.slider_container_mask=TL.Dom.create("div","tl-slider-container-mask",this._el.container),this._el.background=TL.Dom.create("div","tl-slider-background tl-animate",this._el.container),this._el.slider_container=TL.Dom.create("div","tl-slider-container tlanimate",this._el.slider_container_mask),this._el.slider_item_container=TL.Dom.create("div","tl-slider-item-container",this._el.slider_container),this.options.width=this._el.container.offsetWidth,this.options.height=this._el.container.offsetHeight,this._nav.previous=new TL.SlideNav({title:"Previous",description:"description"},{direction:"previous"}),this._nav.next=new TL.SlideNav({title:"Next",description:"description"},{direction:"next"}),this._nav.next.addTo(this._el.container),this._nav.previous.addTo(this._el.container),this._el.slider_container.style.left="0px",TL.Browser.touch&&(this._swipable=new TL.Swipable(this._el.slider_container_mask,this._el.slider_container,{enable:{x:!0,y:!1},snap:!0}),this._swipable.enable(),this._message=new TL.Message({},{message_class:"tl-message-full",message_icon_class:"tl-icon-swipe-left"}),this._message.updateMessage(this._("swipe_to_navigate")),this._message.addTo(this._el.container))},_initEvents:function(){this._nav.next.on("clicked",this._onNavigation,this),this._nav.previous.on("clicked",this._onNavigation,this),this._message&&this._message.on("clicked",this._onMessageClick,this),this._swipable&&(this._swipable.on("swipe_left",this._onNavigation,this),this._swipable.on("swipe_right",this._onNavigation,this),this._swipable.on("swipe_nodirection",this._onSwipeNoDirection,this))},_initData:function(){this.data.title&&this._createSlide(this.data.title,!0,-1),this._createSlides(this.data.events)},_onBackgroundChange:function(t){var e=this._findSlideIndex(this.current_id),i=this._slides[e].getBackground();this.changeBackground(t),this.fire("colorchange",i)},_onMessageClick:function(){this._message.hide()},_onSwipeNoDirection:function(){this.goToId(this.current_id)},_onNavigation:function(t){"next"==t.direction||"left"==t.direction?this.next():("previous"==t.direction||"right"==t.direction)&&this.previous(),this.fire("nav_"+t.direction,this.data)},_onSlideAdded:function(){trace("slideadded"),this.fire("slideAdded",this.data)},_onSlideRemoved:function(){this.fire("slideRemoved",this.data)},_onSlideChange:function(t){t||this.fire("change",{unique_id:this.current_id})},_onMouseClick:function(){},_fireMouseEvent:function(t){if(this._loaded){var e=t.type;this.hasEventListeners(e="mouseenter"===e?"mouseover":"mouseleave"===e?"mouseout":e)&&("contextmenu"===e&&TL.DomEvent.preventDefault(t),this.fire(e,{latlng:"something",layerPoint:"something else"}))}},_onLoaded:function(){this.fire("loaded",this.data)}}),TL.TimeNav=TL.Class.extend({includes:[TL.Events,TL.DomMixins],_el:{},initialize:function(t,e,i,n){this._el={parent:{},container:{},slider:{},slider_background:{},line:{},marker_container_mask:{},marker_container:{},marker_item_container:{},timeaxis:{},timeaxis_background:{},attribution:{}},this.collapsed=!1,this._el.container="object"==typeof t?t:TL.Dom.get(t),this.config=e,this.options={width:600,height:600,duration:1e3,ease:TL.Ease.easeInOutQuint,has_groups:!1,optimal_tick_width:50,scale_factor:2,marker_padding:5,timenav_height_min:150,marker_height_min:30,marker_width_min:100,zoom_sequence:[.5,1,2,3,5,8,13,21,34,55,89]},this.animator=null,this.ready=!1,this._markers=[],this._eras=[],this.has_eras=!1,this._groups=[],this._calculated_row_height=100,this.current_id="",this.timescale={},this.timeaxis={},this.axishelper={},this.max_rows=6,this.animate_css=!1,TL.Util.mergeData(this.options,i),n&&this.init()},init:function(){this._initLayout(),this._initEvents(),this._initData(),this._updateDisplay(),this._onLoaded()},positionMarkers:function(){this._positionMarkers()},updateDisplay:function(t,e,i,n){this._updateDisplay(t,e,i,n)},_getTimeScale:function(){var t=0;try{t=parseInt(this.options.marker_height_min)}catch(e){trace("Invalid value for marker_height_min option."),t=30}return 0==t&&(trace("marker_height_min option must not be zero."),t=30),this.max_rows=Math.round((this.options.height-this._el.timeaxis_background.offsetHeight-this.options.marker_padding)/t),this.max_rows<1&&(this.max_rows=1),new TL.TimeScale(this.config,{display_width:this._el.container.offsetWidth,screen_multiplier:this.options.scale_factor,max_rows:this.max_rows})},_updateTimeScale:function(t){this.options.scale_factor=t,this._updateDrawTimeline()},zoomIn:function(){var t=TL.Util.findNextGreater(this.options.zoom_sequence,this.options.scale_factor);this.setZoomFactor(t)},zoomOut:function(){var t=TL.Util.findNextLesser(this.options.zoom_sequence,this.options.scale_factor);this.setZoomFactor(t)},setZoom:function(t){var e=this.options.zoom_sequence[t];"number"==typeof e?this.setZoomFactor(e):console.warn("Invalid zoom level. Please use an index number between 0 and "+(this.options.zoom_sequence.length-1))},setZoomFactor:function(t){this.fire("zoomtoggle",t<=this.options.zoom_sequence[0]?{zoom:"out",show:!1}:{zoom:"out",show:!0}),this.fire("zoomtoggle",t>=this.options.zoom_sequence[this.options.zoom_sequence.length-1]?{zoom:"in",show:!1}:{zoom:"in",show:!0}),0==t&&(console.warn("Zoom factor must be greater than zero. Using 0.1"),t=.1),this.options.scale_factor=t,this.goToId(this.current_id,!this._updateDrawTimeline(!0),!0)},_createGroups:function(){this._groups=[];var t=this.timescale.getGroupLabels();if(t){this.options.has_groups=!0;for(var e=0;e<t.length;e++)this._createGroup(t[e])}},_createGroup:function(t){var e=new TL.TimeGroup(t);this._addGroup(e),this._groups.push(e)},_addGroup:function(t){t.addTo(this._el.container)},_positionGroups:function(){if(this.options.has_groups)for(var t=this.options.height-this._el.timeaxis_background.offsetHeight,e=Math.floor(t/this.timescale.getNumberOfRows()-this.options.marker_padding),i=(this.timescale.getGroupLabels(),0),n=0;i<this._groups.length;i++){var a=Math.floor(n*(e+this.options.marker_padding)),o=!1;a>t-this.options.marker_padding&&(o=!0),this._groups[i].setRowPosition(a,this._calculated_row_height+this.options.marker_padding/2),this._groups[i].setAlternateRowColor(TL.Util.isEven(i),o),n+=this._groups[i].data.rows}},_addMarker:function(t){t.addTo(this._el.marker_item_container),t.on("markerclick",this._onMarkerClick,this),t.on("added",this._onMarkerAdded,this)},_createMarker:function(t,e){var i=new TL.TimeMarker(t,this.options);this._addMarker(i),0>e?this._markers.push(i):this._markers.splice(e,0,i)},_createMarkers:function(t){for(var e=0;e<t.length;e++)this._createMarker(t[e],-1)},_removeMarker:function(t){t.removeFrom(this._el.marker_item_container)},_destroyMarker:function(t){this._removeMarker(this._markers[t]),this._markers.splice(t,1)},_positionMarkers:function(t){for(var e=0;e<this._markers.length;e++){var i=this.timescale.getPositionInfo(e);this._markers[e].setClass(t?"tl-timemarker tl-timemarker-fast":"tl-timemarker"),this._markers[e].setPosition({left:i.start}),this._markers[e].setWidth(i.width)}},_calculateMarkerHeight:function(t){return t/this.timescale.getNumberOfRows()-this.options.marker_padding},_calculateRowHeight:function(t){return t/this.timescale.getNumberOfRows()},_calculateAvailableHeight:function(){return this.options.height-this._el.timeaxis_background.offsetHeight-this.options.marker_padding},_calculateMinimumTimeNavHeight:function(){return this.timescale.getNumberOfRows()*this.options.marker_height_min+this._el.timeaxis_background.offsetHeight+this.options.marker_padding},getMinimumHeight:function(){return this._calculateMinimumTimeNavHeight()},_assignRowsToMarkers:function(){var t=this._calculateAvailableHeight(),e=this._calculateMarkerHeight(t);this._positionGroups(),this._calculated_row_height=this._calculateRowHeight(t);for(var i=0;i<this._markers.length;i++){this._markers[i].setHeight(e);var n=this.timescale.getPositionInfo(i).row,a=Math.floor(n*(e+this.options.marker_padding))+this.options.marker_padding;this._markers[i].setRowPosition(a,t-a+this.options.marker_padding)}},_resetMarkersActive:function(){for(var t=0;t<this._markers.length;t++)this._markers[t].setActive(!1)},_findMarkerIndex:function(t){var e=-1;return("string"==typeof t||t instanceof String)&&(e=TL.Util.findArrayNumberByUniqueID(t,this._markers,"unique_id",e)),e},_createEras:function(t){for(var e=0;e<t.length;e++)this._createEra(t[e],-1)},_createEra:function(t,e){var i=new TL.TimeEra(t,this.options);this._addEra(i),0>e?this._eras.push(i):this._eras.splice(e,0,i)},_addEra:function(t){t.addTo(this._el.marker_item_container),t.on("added",this._onEraAdded,this)},_removeEra:function(t){t.removeFrom(this._el.marker_item_container)},_destroyEra:function(t){this._removeEra(this._eras[t]),this._eras.splice(t,1)},_positionEras:function(t){for(var e=0,i=0;i<this._eras.length;i++){var n={start:0,end:0,width:0};n.start=this.timescale.getPosition(this._eras[i].data.start_date.getTime()),n.end=this.timescale.getPosition(this._eras[i].data.end_date.getTime()),n.width=n.end-n.start,this._eras[i].setClass(t?"tl-timeera tl-timeera-fast":"tl-timeera"),this._eras[i].setPosition({left:n.start}),this._eras[i].setWidth(n.width),++e>5&&(e=0),this._eras[i].setColor(e)}},createMarker:function(t,e){this._createMarker(t,e)},createMarkers:function(t){this._createMarkers(t)},destroyMarker:function(t){this._destroyMarker(t)},destroyMarkerId:function(t){this.destroyMarker(this._findMarkerIndex(t))},goTo:function(t,e,i){var n=this.options.ease,a=this.options.duration,o=0>t?0:t;this._resetMarkersActive(),t>=0&&t<this._markers.length&&this._markers[t].setActive(!0),this.animator&&this.animator.stop(),e?(this._el.slider.className="tl-timenav-slider",this._el.slider.style.left=-this._markers[o].getLeft()+this.options.width/2+"px"):i?(this._el.slider.className="tl-timenav-slider tl-timenav-slider-animate",this.animate_css=!0,this._el.slider.style.left=-this._markers[o].getLeft()+this.options.width/2+"px"):(this._el.slider.className="tl-timenav-slider",this.animator=TL.Animate(this._el.slider,{left:-this._markers[o].getLeft()+this.options.width/2+"px",duration:a,easing:n})),this.current_id=t>=0&&t<this._markers.length?this._markers[t].data.unique_id:""},goToId:function(t,e,i){this.goTo(this._findMarkerIndex(t),e,i)},_onLoaded:function(){this.ready=!0,this.fire("loaded",this.config)},_onMarkerAdded:function(){this.fire("dateAdded",this.config)},_onEraAdded:function(){this.fire("eraAdded",this.config)},_onMarkerRemoved:function(){this.fire("dateRemoved",this.config)},_onMarkerClick:function(t){this.goToId(t.unique_id),this.fire("change",{unique_id:t.unique_id})},_onMouseScroll:function(t){var e=0,i=0,n={right:-(this.timescale.getPixelWidth()-this.options.width/2),left:this.options.width/2};t||(t=window.event),t.originalEvent&&(t=t.originalEvent),void 0!==t.wheelDeltaX&&(e=t.wheelDeltaY/6,e=Math.abs(t.wheelDeltaX)>Math.abs(t.wheelDeltaY)?t.wheelDeltaX/6:0),e&&(t.preventDefault&&t.preventDefault(),t.returnValue=!1),(i=parseInt(this._el.slider.style.left.replace("px",""))+e)>n.left?i=n.left:i<n.right&&(i=n.right),this.animate_css&&(this._el.slider.className="tl-timenav-slider",this.animate_css=!1),this._el.slider.style.left=i+"px"},_onDragMove:function(){this.animate_css&&(this._el.slider.className="tl-timenav-slider",this.animate_css=!1)},_updateDisplay:function(t,e){t&&(this.options.width=t),e&&e!=this.options.height&&(this.options.height=e,this.timescale=this._getTimeScale()),this._assignRowsToMarkers(),this._el.slider_background.style.width=this.timescale.getPixelWidth()+this.options.width+"px",this._el.slider_background.style.left=-this.options.width/2+"px",this._el.slider.style.width=this.timescale.getPixelWidth()+this.options.width+"px",this._swipable.updateConstraint({top:!1,bottom:!1,left:this.options.width/2,right:-(this.timescale.getPixelWidth()-this.options.width/2)}),this.goToId(this.current_id,!0)},_drawTimeline:function(t){this.timescale=this._getTimeScale(),this.timeaxis.drawTicks(this.timescale,this.options.optimal_tick_width),this._positionMarkers(t),this._assignRowsToMarkers(),this._createGroups(),this._positionGroups(),this.has_eras&&this._positionEras(t)},_updateDrawTimeline:function(t){var e=!1;if(t){var i=new TL.TimeScale(this.config,{display_width:this._el.container.offsetWidth,screen_multiplier:this.options.scale_factor,max_rows:this.max_rows});this.timescale.getMajorScale()==i.getMajorScale()&&this.timescale.getMinorScale()==i.getMinorScale()&&(e=!0)}else e=!0;return e?(this.timescale=this._getTimeScale(),this.timeaxis.positionTicks(this.timescale,this.options.optimal_tick_width),this._positionMarkers(),this._assignRowsToMarkers(),this._positionGroups(),this.has_eras&&this._positionEras(),this._updateDisplay()):this._drawTimeline(!0),e},_initLayout:function(){this._el.attribution=TL.Dom.create("div","tl-attribution",this._el.container),this._el.line=TL.Dom.create("div","tl-timenav-line",this._el.container),this._el.slider=TL.Dom.create("div","tl-timenav-slider",this._el.container),this._el.slider_background=TL.Dom.create("div","tl-timenav-slider-background",this._el.slider),this._el.marker_container_mask=TL.Dom.create("div","tl-timenav-container-mask",this._el.slider),this._el.marker_container=TL.Dom.create("div","tl-timenav-container",this._el.marker_container_mask),this._el.marker_item_container=TL.Dom.create("div","tl-timenav-item-container",this._el.marker_container),this._el.timeaxis=TL.Dom.create("div","tl-timeaxis",this._el.slider),this._el.timeaxis_background=TL.Dom.create("div","tl-timeaxis-background",this._el.container),this._el.attribution.innerHTML="<a href='http://timeline.knightlab.com' target='_blank'><span class='tl-knightlab-logo'></span>Timeline JS</a>",this.timeaxis=new TL.TimeAxis(this._el.timeaxis,this.options),this._swipable=new TL.Swipable(this._el.slider_background,this._el.slider,{enable:{x:!0,y:!1},constraint:{top:!1,bottom:!1,left:this.options.width/2,right:!1},snap:!1}),this._swipable.enable()},_initEvents:function(){this._swipable.on("dragmove",this._onDragMove,this),TL.DomEvent.addListener(this._el.container,"mousewheel",this._onMouseScroll,this),TL.DomEvent.addListener(this._el.container,"DOMMouseScroll",this._onMouseScroll,this)},_initData:function(){this._createMarkers(this.config.events),this.config.eras&&(this.has_eras=!0,this._createEras(this.config.eras)),this._drawTimeline()}}),TL.TimeMarker=TL.Class.extend({includes:[TL.Events,TL.DomMixins],_el:{},initialize:function(t,e){this._el={container:{},content_container:{},media_container:{},timespan:{},line_left:{},line_right:{},content:{},text:{},media:{}},this._text={},this._state={loaded:!1},this.data={unique_id:"",background:null,date:{year:0,month:0,day:0,hour:0,minute:0,second:0,millisecond:0,thumbnail:"",format:""},text:{headline:"",text:""},media:null},this.options={duration:1e3,ease:TL.Ease.easeInSpline,width:600,height:600,marker_width_min:100},this.active=!1,this.animator={},this.has_end_date=!1,TL.Util.mergeData(this.options,e),TL.Util.mergeData(this.data,t),this._initLayout(),this._initEvents()},show:function(){},hide:function(){},setActive:function(t){this.active=t,this._el.container.className=this.active&&this.has_end_date?"tl-timemarker tl-timemarker-with-end tl-timemarker-active":this.active?"tl-timemarker tl-timemarker-active":this.has_end_date?"tl-timemarker tl-timemarker-with-end":"tl-timemarker"},addTo:function(t){t.appendChild(this._el.container)},removeFrom:function(t){t.removeChild(this._el.container)},updateDisplay:function(t,e){this._updateDisplay(t,e)},loadMedia:function(){this._media&&!this._state.loaded&&(this._media.loadMedia(),this._state.loaded=!0)},stopMedia:function(){this._media&&this._state.loaded&&this._media.stopMedia()},getLeft:function(){return this._el.container.style.left.slice(0,-2)},getTime:function(){return this.data.start_date.getTime()},getEndTime:function(){return!!this.data.end_date&&this.data.end_date.getTime()},setHeight:function(t){var e=1;this._el.content_container.style.height=t+"px",this._el.timespan_content.style.height=t+"px",this._el.content.className=30>=t?"tl-timemarker-content tl-timemarker-content-small":"tl-timemarker-content",56>=t?TL.DomUtil.addClass(this._el.content_container,"tl-timemarker-content-container-small"):TL.DomUtil.removeClass(this._el.content_container,"tl-timemarker-content-container-small"),TL.Browser.webkit?(1>(e=Math.floor(t/14))&&(e=1),this._text.className="tl-headline",this._text.style.webkitLineClamp=e):(this._text.className=(e=t/12)>1?"tl-headline tl-headline-fadeout":"tl-headline",this._text.style.height=12*e+"px")},setWidth:function(t){this.data.end_date&&(this._el.container.style.width=t+"px",t>this.options.marker_width_min?(this._el.content_container.style.width=t+"px",this._el.content_container.className="tl-timemarker-content-container tl-timemarker-content-container-long"):(this._el.content_container.style.width=this.options.marker_width_min+"px",this._el.content_container.className="tl-timemarker-content-container"))},setClass:function(t){this._el.container.className=t},setRowPosition:function(t,e){this.setPosition({top:t}),this._el.timespan.style.height=e+"px"},_onMarkerClick:function(){this.fire("markerclick",{unique_id:this.data.unique_id})},_initLayout:function(){if(this._el.container=TL.Dom.create("div","tl-timemarker"),this.data.unique_id&&(this._el.container.id=this.data.unique_id+"-marker"),this.data.end_date&&(this.has_end_date=!0,this._el.container.className="tl-timemarker tl-timemarker-with-end"),this._el.timespan=TL.Dom.create("div","tl-timemarker-timespan",this._el.container),this._el.timespan_content=TL.Dom.create("div","tl-timemarker-timespan-content",this._el.timespan),this._el.content_container=TL.Dom.create("div","tl-timemarker-content-container",this._el.container),this._el.content=TL.Dom.create("div","tl-timemarker-content",this._el.content_container),this._el.line_left=TL.Dom.create("div","tl-timemarker-line-left",this._el.timespan),this._el.line_right=TL.Dom.create("div","tl-timemarker-line-right",this._el.timespan),this.data.media){this._el.media_container=TL.Dom.create("div","tl-timemarker-media-container",this._el.content);var t={url:this.data.media.thumbnail},e=this.data.media.thumbnail?TL.MediaType(t,!0):null;if(e){var i=new e.cls(t);i.on("loaded",(function(){this._el.media=TL.Dom.create("img","tl-timemarker-media",this._el.media_container),this._el.media.src=i.getImageURL()}).bind(this)),i.loadMedia()}else{var n=TL.MediaType(this.data.media).type;this._el.media=TL.Dom.create("span","tl-icon-"+n,this._el.media_container)}}this._el.text=TL.Dom.create("div","tl-timemarker-text",this._el.content),this._text=TL.Dom.create("h2","tl-headline",this._el.text),this.data.text.headline&&""!=this.data.text.headline?this._text.innerHTML=TL.Util.unlinkify(this.data.text.headline):this.data.text.text&&""!=this.data.text.text?this._text.innerHTML=TL.Util.unlinkify(this.data.text.text):this.data.media&&this.data.media.caption&&""!=this.data.media.caption&&(this._text.innerHTML=TL.Util.unlinkify(this.data.media.caption)),this.onLoaded()},_initEvents:function(){TL.DomEvent.addListener(this._el.container,"click",this._onMarkerClick,this)},_updateDisplay:function(t,e){t&&(this.options.width=t),e&&(this.options.height=e)}}),TL.TimeEra=TL.Class.extend({includes:[TL.Events,TL.DomMixins],_el:{},initialize:function(t,e){this._el={container:{},background:{},content_container:{},content:{},text:{}},this._text={},this._state={loaded:!1},this.data={unique_id:"",date:{year:0,month:0,day:0,hour:0,minute:0,second:0,millisecond:0,thumbnail:"",format:""},text:{headline:"",text:""}},this.options={duration:1e3,ease:TL.Ease.easeInSpline,width:600,height:600,marker_width_min:100},this.active=!1,this.animator={},this.has_end_date=!1,TL.Util.mergeData(this.options,e),TL.Util.mergeData(this.data,t),this._initLayout(),this._initEvents()},show:function(){},hide:function(){},setActive:function(){},addTo:function(t){t.appendChild(this._el.container)},removeFrom:function(t){t.removeChild(this._el.container)},updateDisplay:function(t,e){this._updateDisplay(t,e)},getLeft:function(){return this._el.container.style.left.slice(0,-2)},getTime:function(){return this.data.start_date.getTime()},getEndTime:function(){return!!this.data.end_date&&this.data.end_date.getTime()},setHeight:function(t){var e=1;this._el.content_container.style.height=t+"px",this._el.content.className="tl-timeera-content",TL.Browser.webkit?(1>(e=Math.floor(t/14))&&(e=1),this._text.className="tl-headline",this._text.style.webkitLineClamp=e):(this._text.className=(e=t/12)>1?"tl-headline tl-headline-fadeout":"tl-headline",this._text.style.height=12*e+"px")},setWidth:function(t){this.data.end_date&&(this._el.container.style.width=t+"px",t>this.options.marker_width_min?(this._el.content_container.style.width=t+"px",this._el.content_container.className="tl-timeera-content-container tl-timeera-content-container-long"):(this._el.content_container.style.width=this.options.marker_width_min+"px",this._el.content_container.className="tl-timeera-content-container"))},setClass:function(t){this._el.container.className=t},setRowPosition:function(t,e){this.setPosition({top:t})},setColor:function(t){this._el.container.className="tl-timeera tl-timeera-color"+t},_initLayout:function(){this._el.container=TL.Dom.create("div","tl-timeera"),this.data.unique_id&&(this._el.container.id=this.data.unique_id+"-era"),this.data.end_date&&(this.has_end_date=!0,this._el.container.className="tl-timeera tl-timeera-with-end"),this._el.content_container=TL.Dom.create("div","tl-timeera-content-container",this._el.container),this._el.background=TL.Dom.create("div","tl-timeera-background",this._el.content_container),this._el.content=TL.Dom.create("div","tl-timeera-content",this._el.content_container),this._el.text=TL.Dom.create("div","tl-timeera-text",this._el.content),this._text=TL.Dom.create("h2","tl-headline",this._el.text),this.data.text.headline&&""!=this.data.text.headline&&(this._text.innerHTML=TL.Util.unlinkify(this.data.text.headline)),this.onLoaded()},_initEvents:function(){},_updateDisplay:function(t,e){t&&(this.options.width=t),e&&(this.options.height=e)}}),TL.TimeGroup=TL.Class.extend({includes:[TL.Events,TL.DomMixins],_el:{},initialize:function(t){this._el={parent:{},container:{},message:{}},this.options={width:600,height:600},this.data={label:"",rows:1},this._el.container=TL.Dom.create("div","tl-timegroup"),TL.Util.mergeData(this.data,t),this.animator={},this._initLayout(),this._initEvents()},updateDisplay:function(){},setRowPosition:function(t,e){this.options.height=e*this.data.rows,this.setPosition({top:t}),this._el.container.style.height=this.options.height+"px"},setAlternateRowColor:function(t,e){var i="tl-timegroup";t&&(i+=" tl-timegroup-alternate"),e&&(i+=" tl-timegroup-hidden"),this._el.container.className=i},_onMouseClick:function(){this.fire("clicked",this.options)},_initLayout:function(){this._el.message=TL.Dom.create("div","tl-timegroup-message",this._el.container),this._el.message.innerHTML=this.data.label},_initEvents:function(){TL.DomEvent.addListener(this._el.container,"click",this._onMouseClick,this)},_updateDisplay:function(){}}),TL.TimeScale=TL.Class.extend({initialize:function(t,e){var i=t.events;this._scale=t.scale,e=TL.Util.mergeData({display_width:500,screen_multiplier:3,max_rows:null},e),this._display_width=e.display_width,this._screen_multiplier=e.screen_multiplier,this._pixel_width=this._screen_multiplier*this._display_width,this._group_labels=void 0,this._positions=[],this._pixels_per_milli=0,this._earliest=t.getEarliestDate().getTime(),this._latest=t.getLatestDate().getTime(),this._span_in_millis=this._latest-this._earliest,this._span_in_millis<=0&&(this._span_in_millis=this._computeDefaultSpan(t)),this._average=this._span_in_millis/i.length,this._pixels_per_milli=this.getPixelWidth()/this._span_in_millis,this._axis_helper=TL.AxisHelper.getBestHelper(this),this._scaled_padding=1/this.getPixelsPerTick()*(this._display_width/2),this._computePositionInfo(i,e.max_rows)},_computeDefaultSpan:function(t){if("human"==t.scale){for(var e={},i=0;i<t.events.length;i++){var n=t.events[i].start_date.findBestFormat();e[n]=e[n]?e[n]+1:1}for(i=TL.Date.SCALES.length-1;i>=0;i--)if(e.hasOwnProperty(TL.Date.SCALES[i][0])){var a=TL.Date.SCALES[TL.Date.SCALES.length-1];return TL.Date.SCALES[i+1]&&(a=TL.Date.SCALES[i+1]),a[1]}return 31536e6}return 2e5},getGroupLabels:function(){return this._group_labels||[]},getScale:function(){return this._scale},getNumberOfRows:function(){return this._number_of_rows},getPixelWidth:function(){return this._pixel_width},getPosition:function(t){return(t-this._earliest)*this._pixels_per_milli},getPositionInfo:function(t){return this._positions[t]},getPixelsPerTick:function(){return this._axis_helper.getPixelsPerTick(this._pixels_per_milli)},getTicks:function(){return{major:this._axis_helper.getMajorTicks(this),minor:this._axis_helper.getMinorTicks(this)}},getDateFromTime:function(t){if("human"==this._scale)return new TL.Date(t);if("cosmological"==this._scale)return new TL.BigDate(new TL.BigYear(t));throw new TL.Error("time_scale_scale_err",this._scale)},getMajorScale:function(){return this._axis_helper.major.name},getMinorScale:function(){return this._axis_helper.minor.name},_assessGroups:function(t){for(var e=[],i=!1,n=0;n<t.length;n++)t[n].group&&(e.indexOf(t[n].group)<0?e.push(t[n].group):i=!0);return e.length&&i&&e.push(""),e},_computeRowInfo:function(t,e){for(var i=[],n=0,a=0;a<t.length;a++){var o=t[a],r=[];delete o.row;for(var s=0;s<i.length;s++)if(r.push(i[s].end-o.start),r[s]<=0){o.row=s,i[s]=o;break}if(void 0===o.row)if(null===e)o.row=i.length,i.push(o);else if(e>0)o.row=i.length,i.push(o),e--;else{var l=Math.min.apply(null,r),c=r.indexOf(l);o.row=c,o.end>i[c].end&&(i[c]=o),n++}}return{n_rows:i.length,n_overlaps:n}},_computePositionInfo:function(t,e,i){i=i||100;for(var n=[],a=!1,o=0;o<t.length;o++){var r={start:this.getPosition(t[o].start_date.getTime())};if(this._positions.push(r),void 0!==t[o].end_date){var s=this.getPosition(t[o].end_date.getTime());r.width=s-r.start,r.end=r.width>i?r.start+r.width:r.start+i}else r.width=i,r.end=r.start+i;t[o].group?n.indexOf(t[o].group)<0&&n.push(t[o].group):a=!0}if(n.length){a&&n.push("");var l=[];for(o=0;o<n.length;o++)l[o]={label:n[o],idx:o,positions:[],n_rows:1,n_overlaps:0};for(o=0;o<this._positions.length;o++){(r=this._positions[o]).group=n.indexOf(t[o].group||""),r.row=0;for(var c=(u=l[r.group]).positions.length-1;c>=0;c--)u.positions[c].end>r.start&&u.n_overlaps++;u.positions.push(r)}for(var d=n.length;;){var h=Math.max(0,e-d);if(!h)break;if(l.sort(function(t,e){return t.n_overlaps>e.n_overlaps?-1:t.n_overlaps<e.n_overlaps?1:t.idx-e.idx}),!l[0].n_overlaps)break;for(d=0,o=0;o<l.length;o++){var u;if((u=l[o]).n_overlaps&&h){var f=this._computeRowInfo(u.positions,u.n_rows+1);u.n_rows=f.n_rows,u.n_overlaps=f.n_overlaps,h--}d+=u.n_rows}}this._number_of_rows=d,this._group_labels=[],l.sort(function(t,e){return t.idx-e.idx}),o=0;for(var p=0;o<l.length;o++){for(this._group_labels.push({label:l[o].label,rows:l[o].n_rows}),c=0;c<l[o].positions.length;c++)(r=l[o].positions[c]).row+=p;p+=l[o].n_rows}}else{var m=this._computeRowInfo(this._positions,e);this._number_of_rows=m.n_rows}}}),TL.TimeAxis=TL.Class.extend({includes:[TL.Events,TL.DomMixins,TL.I18NMixins],_el:{},initialize:function(t,e){this._el={container:{},content_container:{},major:{},minor:{}},this._text={},this._state={loaded:!1},this.data={},this.options={duration:1e3,ease:TL.Ease.easeInSpline,width:600,height:600},this.active=!1,this.animator={},this.axis_helper={},this.minor_ticks=[],this.major_ticks=[],this.dateformat_lookup={millisecond:"time_milliseconds",second:"time_short",minute:"time_no_seconds_short",hour:"time_no_minutes_short",day:"full_short",month:"month_short",year:"year",decade:"year",century:"year",millennium:"year",age:"compact",epoch:"compact",era:"compact",eon:"compact",eon2:"compact"},this._el.container="object"==typeof t?t:TL.Dom.get(t),TL.Util.mergeData(this.options,e),this._initLayout(),this._initEvents()},show:function(){},hide:function(){},addTo:function(t){t.appendChild(this._el.container)},removeFrom:function(t){t.removeChild(this._el.container)},updateDisplay:function(t,e){this._updateDisplay(t,e)},getLeft:function(){return this._el.container.style.left.slice(0,-2)},drawTicks:function(t,e){var i=t.getTicks();this._el.major.className="tl-timeaxis-major",this._el.minor.className="tl-timeaxis-minor",this._el.major.style.opacity=0,this._el.minor.style.opacity=0,this.major_ticks=this._createTickElements(i.major.ticks,this._el.major,this.dateformat_lookup[i.major.name]),this.minor_ticks=this._createTickElements(i.minor.ticks,this._el.minor,this.dateformat_lookup[i.minor.name],i.major.ticks),this.positionTicks(t,e,!0),this._el.major.className="tl-timeaxis-major tl-animate-opacity tl-timeaxis-animate-opacity",this._el.minor.className="tl-timeaxis-minor tl-animate-opacity tl-timeaxis-animate-opacity",this._el.major.style.opacity=1,this._el.minor.style.opacity=1},_createTickElements:function(t,e,i,n){e.innerHTML="";var a={};if(a[new Date(-1,13,-30).getTime()]=!0,n)for(var o=0;o<n.length;o++)a[n[o].getTime()]=!0;var r=[];for(o=0;o<t.length;o++){var s=t[o];if(!(s.getTime()in a)){var l=TL.Dom.create("div","tl-timeaxis-tick",e),c=TL.Dom.create("span","tl-timeaxis-tick-text tl-animate-opacity",l);c.innerHTML=s.getDisplayDate(this.getLanguage(),i),r.push({tick:l,tick_text:c,display_date:s.getDisplayDate(this.getLanguage(),i),date:s})}}return r},positionTicks:function(t,e,i){i?(this._el.major.className="tl-timeaxis-major",this._el.minor.className="tl-timeaxis-minor"):(this._el.major.className="tl-timeaxis-major tl-timeaxis-animate",this._el.minor.className="tl-timeaxis-minor tl-timeaxis-animate"),this._positionTickArray(this.major_ticks,t,e),this._positionTickArray(this.minor_ticks,t,e)},_positionTickArray:function(t,e,i){if(t[1]&&t[0]){var n=1;i>e.getPosition(t[1].date.getMillisecond())-e.getPosition(t[0].date.getMillisecond())&&(n=Math.round(i/e.getPixelsPerTick()));for(var a=1,o=0;o<t.length;o++){var r=t[o];r.tick.style.left=e.getPosition(r.date.getMillisecond())+"px",r.tick_text.innerHTML=r.display_date,n>1?a>=n?(a=1,r.tick_text.style.opacity=1,r.tick.className="tl-timeaxis-tick"):(a++,r.tick_text.style.opacity=0,r.tick.className="tl-timeaxis-tick tl-timeaxis-tick-hidden"):(r.tick_text.style.opacity=1,r.tick.className="tl-timeaxis-tick")}}},_initLayout:function(){this._el.content_container=TL.Dom.create("div","tl-timeaxis-content-container",this._el.container),this._el.major=TL.Dom.create("div","tl-timeaxis-major",this._el.content_container),this._el.minor=TL.Dom.create("div","tl-timeaxis-minor",this._el.content_container),this.onLoaded()},_initEvents:function(){},_updateDisplay:function(t,e){t&&(this.options.width=t),e&&(this.options.height=e)}}),TL.AxisHelper=TL.Class.extend({initialize:function(t){if(!t)throw new TL.Error("axis_helper_no_options_err");this.scale=t.scale,this.minor=t.minor,this.major=t.major},getPixelsPerTick:function(t){return t*this.minor.factor},getMajorTicks:function(t){return this._getTicks(t,this.major)},getMinorTicks:function(t){return this._getTicks(t,this.minor)},_getTicks:function(t,e){for(var i=t._scaled_padding*e.factor,n=t._latest+i,a=[],o=t._earliest-i;n>o;o+=e.factor)a.push(t.getDateFromTime(o).floor(e.name));return{name:e.name,ticks:a}}}),function(t){var e={},i=function(i,n){e[i]=[];for(var a=0;a<n.length-1;a++){var o=n[a],r=n[a+1];e[i].push(new t({scale:o[3],minor:{name:o[0],factor:o[1]},major:{name:r[0],factor:r[1]}}))}};i("human",TL.Date.SCALES),i("cosmological",TL.BigDate.SCALES),t.HELPERS=e,t.getBestHelper=function(t,i){"number"!=typeof i&&(i=100);var n=t.getScale(),a=e[n];if(!a)throw new TL.Error("axis_helper_scale_err",n);for(var o=null,r=0;r<a.length;r++){var s=a[r],l=s.getPixelsPerTick(t._pixels_per_milli);if(l>i){if(null==o)return s;var c=Math.abs(i-l);return Math.abs(i-l)>c?s:o}o=s}return a[a.length-1]}}(TL.AxisHelper),TL.Timeline=TL.Class.extend({includes:[TL.Events,TL.I18NMixins],initialize:function(t,e,i){var n=this;if(i||(i={}),this.version="3.2.6",this.ready=!1,this._el={container:{},storyslider:{},timenav:{},menubar:{}},this._el.container="object"==typeof t?t:TL.Dom.get(t),this._storyslider={},this._style_sheet=new TL.StyleSheet,this._timenav={},this._menubar={},this._loaded={storyslider:!1,timenav:!1},this.config=null,this.options={script_path:"",height:this._el.container.offsetHeight,width:this._el.container.offsetWidth,debug:!1,is_embed:!1,is_full_embed:!1,hash_bookmark:!1,default_bg_color:{r:255,g:255,b:255},scale_factor:2,layout:"landscape",timenav_position:"bottom",optimal_tick_width:60,base_class:"tl-timeline",timenav_height:null,timenav_height_percentage:25,timenav_mobile_height_percentage:40,timenav_height_min:175,marker_height_min:30,marker_width_min:100,marker_padding:5,start_at_slide:0,start_at_end:!1,menubar_height:0,skinny_size:650,medium_size:800,relative_date:!1,use_bc:!1,duration:1e3,ease:TL.Ease.easeInOutQuint,dragging:!0,trackResize:!0,map_type:"stamen:toner-lite",slide_padding_lr:100,slide_default_fade:"0%",zoom_sequence:[.5,1,2,3,5,8,13,21,34,55,89],language:"en",ga_property_id:null,track_events:["back_to_start","nav_next","nav_previous","zoom_in","zoom_out"]},this.animator_timenav=null,this.animator_storyslider=null,this.animator_menubar=null,this.message=new TL.Message({},{message_class:"tl-message-full"},this._el.container),"string"==typeof i.default_bg_color){var a=TL.Util.hexToRgb(i.default_bg_color);a?i.default_bg_color=a:(delete i.default_bg_color,trace("Invalid default background color. Ignoring."))}TL.Util.mergeData(this.options,i),window.addEventListener("resize",function(){n.updateDisplay()}),TL.debug=this.options.debug,TL.DomUtil.addClass(this._el.container,"tl-timeline"),this.options.is_embed&&TL.DomUtil.addClass(this._el.container,"tl-timeline-embed"),this.options.is_full_embed&&TL.DomUtil.addClass(this._el.container,"tl-timeline-full-embed"),document.addEventListener("keydown",function(t){var e=t.key,i=n._getSlideIndex(n.current_id),a=n.config.events.length-1,o=n.config.title?a+1:a;"ArrowLeft"==e?0!=i&&n.goToPrev():"ArrowRight"==e&&i!=o&&n.goToNext()}),this.options.relative_date?"undefined"!=typeof moment?n._loadLanguage(e):TL.Load.js(this.options.script_path+"/library/moment.js",function(){n._loadLanguage(e),trace("LOAD MOMENTJS")}):n._loadLanguage(e)},_translateError:function(t){return t.hasOwnProperty("stack")&&trace(t.stack),t.message_key?this._(t.message_key)+(t.detail?" ["+t.detail+"]":""):t},_loadLanguage:function(t){try{this.options.language=new TL.Language(this.options),this._initData(t)}catch(t){this.showMessage(this._translateError(t))}},goToId:function(t){this.current_id!=t&&(this.current_id=t,this._timenav.goToId(this.current_id),this._storyslider.goToId(this.current_id,!1,!0),this.fire("change",{unique_id:this.current_id},this))},goTo:function(t){this.goToId(this.config.title?0==t?this.config.title.unique_id:this.config.events[t-1].unique_id:this.config.events[t].unique_id)},goToStart:function(){this.goTo(0)},goToEnd:function(){var t=this.config.events.length-1;this.goTo(this.config.title?t+1:t)},goToPrev:function(){this.goTo(this._getSlideIndex(this.current_id)-1)},goToNext:function(){this.goTo(this._getSlideIndex(this.current_id)+1)},add:function(t){var e=this.config.addEvent(t),i=this._getEventIndex(e),n=this.config.events[i];this._storyslider.createSlide(n,this.config.title?i+1:i),this._storyslider._updateDrawSlides(),this._timenav.createMarker(n,i),this._timenav._updateDrawTimeline(!1),this.fire("added",{unique_id:e})},remove:function(t){if(t>=0&&t<this.config.events.length){this.config.events[t].unique_id==this.current_id&&this.goTo(t<this.config.events.length-1?t+1:t-1);var e=this.config.events.splice(t,1);delete this.config.event_dict[e[0].unique_id],this._storyslider.destroySlide(this.config.title?t+1:t),this._storyslider._updateDrawSlides(),this._timenav.destroyMarker(t),this._timenav._updateDrawTimeline(!1),this.fire("removed",{unique_id:e[0].unique_id})}},removeId:function(t){this.remove(this._getEventIndex(t))},getData:function(t){if(this.config.title){if(0==t)return this.config.title;if(t>0&&t<=this.config.events.length)return this.config.events[t-1]}else if(t>=0&&t<this.config.events.length)return this.config.events[t];return null},getDataById:function(t){return this.getData(this._getSlideIndex(t))},getSlide:function(t){return t>=0&&t<this._storyslider._slides.length?this._storyslider._slides[t]:null},getSlideById:function(t){return this.getSlide(this._getSlideIndex(t))},getCurrentSlide:function(){return this.getSlideById(this.current_id)},updateDisplay:function(){this.ready&&this._updateDisplay()},_calculateTimeNavHeight:function(t,e){var i=0;return t?i=t:(this.options.timenav_height_percentage||e)&&(i=Math.round(e?this.options.height/100*e:this.options.height/100*this.options.timenav_height_percentage)),this._timenav.ready&&this.options.timenav_height_min<this._timenav.getMinimumHeight()&&(this.options.timenav_height_min=this._timenav.getMinimumHeight()),i<this.options.timenav_height_min&&(i=this.options.timenav_height_min),i-2*this.options.marker_padding},_updateDisplay:function(t,e,i){var n,a=this.options.duration,o=this.options.base_class;i&&(a=i),this.options.width=this._el.container.offsetWidth,this.options.height=this._el.container.offsetHeight,this.options.width<=this.options.skinny_size?(o+=" tl-skinny",this.options.layout="portrait"):this.options.width<=this.options.medium_size?(o+=" tl-medium",this.options.layout="landscape"):this.options.layout="landscape",TL.Browser.touch&&(this.options.layout=TL.Browser.orientation()),TL.Browser.mobile?(o+=" tl-mobile",this.options.timenav_height=this._calculateTimeNavHeight(t,this.options.timenav_mobile_height_percentage)):this.options.timenav_height=this._calculateTimeNavHeight(t),o+="portrait"==this.options.layout?" tl-layout-portrait":" tl-layout-landscape",this.options.storyslider_height=this.options.height-this.options.timenav_height,n="top"==this.options.timenav_position?Math.ceil(this.options.timenav_height)/2-this._el.menubar.offsetHeight/2-19.5:Math.round(this.options.storyslider_height+1+Math.ceil(this.options.timenav_height)/2-this._el.menubar.offsetHeight/2-17.5),e?(this._el.timenav.style.height=Math.ceil(this.options.timenav_height)+"px",this.animator_storyslider&&this.animator_storyslider.stop(),this.animator_storyslider=TL.Animate(this._el.storyslider,{height:this.options.storyslider_height+"px",duration:a/2,easing:TL.Ease.easeOutStrong}),this.animator_menubar&&this.animator_menubar.stop(),this.animator_menubar=TL.Animate(this._el.menubar,{top:n+"px",duration:a/2,easing:TL.Ease.easeOutStrong})):(this._el.timenav.style.height=Math.ceil(this.options.timenav_height)+"px",this._el.storyslider.style.height=this.options.storyslider_height+"px",this._el.menubar.style.top=n+"px"),this.message&&this.message.updateDisplay(this.options.width,this.options.height),this._timenav.updateDisplay(this.options.width,this.options.timenav_height,e),this._storyslider.updateDisplay(this.options.width,this.options.storyslider_height,e,this.options.layout),"rtl"==this.options.language.direction&&(o+=" tl-rtl"),this._el.container.className=o},_updateHashBookmark:function(t){var e="#event-"+t.toString();"file:"!=window.location.protocol&&window.history.replaceState(null,"Browsing TimelineJS",e),this.fire("hash_updated",{unique_id:this.current_id,hashbookmark:"#event-"+t.toString()},this)},_initData:function(t){var e=this;"string"==typeof t?(e=this,TL.ConfigFactory.makeConfig(t,function(t){e.setConfig(t)})):this.setConfig(TL.TimelineConfig==t.constructor?t:new TL.TimelineConfig(t))},setConfig:function(t){if(this.config=t,this.config.validate(),this._validateOptions(),this.config.isValid())try{this._onDataLoaded()}catch(t){this.showMessage("<strong>"+this._("error")+":</strong> "+this._translateError(t))}else{for(var e=[],i=0,n=this.config.getErrors();i<n.length;i++)e.push(this._translateError(n[i]));this.showMessage("<strong>"+this._("error")+":</strong> "+e.join("<br>"))}},_validateOptions:function(){for(var t=["timenav_height","timenav_height_min","marker_height_min","marker_width_min","marker_padding","start_at_slide","slide_padding_lr"],e=0;e<t.length;e++){var i=t[e],n=this.options[i];valid=!0,"number"==typeof n?valid=n==parseInt(n):"string"==typeof n&&(valid=n.match(/^\s*(\-?\d+)?\s*$/)),valid||this.config.logError({message_key:"invalid_integer_option",detail:i})}},_initLayout:function(){this.message.removeFrom(this._el.container),this._el.container.innerHTML="","top"==this.options.timenav_position?(this._el.timenav=TL.Dom.create("div","tl-timenav",this._el.container),this._el.storyslider=TL.Dom.create("div","tl-storyslider",this._el.container)):(this._el.storyslider=TL.Dom.create("div","tl-storyslider",this._el.container),this._el.timenav=TL.Dom.create("div","tl-timenav",this._el.container)),this._el.menubar=TL.Dom.create("div","tl-menubar",this._el.container),this.options.width=this._el.container.offsetWidth,this.options.height=this._el.container.offsetHeight,this.options.timenav_height=this._calculateTimeNavHeight(this.options.timenav_height),this._timenav=new TL.TimeNav(this._el.timenav,this.config,this.options),this._timenav.on("loaded",this._onTimeNavLoaded,this),this._timenav.on("update_timenav_min",this._updateTimeNavHeightMin,this),this._timenav.options.height=this.options.timenav_height,this._timenav.init(),this.options.initial_zoom&&this.setZoom(this.options.initial_zoom),this._storyslider=new TL.StorySlider(this._el.storyslider,this.config,this.options),this._storyslider.on("loaded",this._onStorySliderLoaded,this),this._storyslider.init(),this._menubar=new TL.MenuBar(this._el.menubar,this._el.container,this.options),this.options.storyslider_height="portrait"==this.options.layout?this.options.height-this.options.timenav_height-1:this.options.height-1,this._updateDisplay(this._timenav.options.height,!0,2e3)},_initEvents:function(){this._timenav.on("change",this._onTimeNavChange,this),this._timenav.on("zoomtoggle",this._onZoomToggle,this),this._storyslider.on("change",this._onSlideChange,this),this._storyslider.on("colorchange",this._onColorChange,this),this._storyslider.on("nav_next",this._onStorySliderNext,this),this._storyslider.on("nav_previous",this._onStorySliderPrevious,this),this._menubar.on("zoom_in",this._onZoomIn,this),this._menubar.on("zoom_out",this._onZoomOut,this),this._menubar.on("back_to_start",this._onBackToStart,this)},_initGoogleAnalytics:function(){var t,e,i,n,a;t=window,e=document,i="script",t.GoogleAnalyticsObject="ga",t.ga=t.ga||function(){(t.ga.q=t.ga.q||[]).push(arguments)},t.ga.l=1*new Date,n=e.createElement(i),a=e.getElementsByTagName(i)[0],n.async=1,n.src="//www.google-analytics.com/analytics.js",a.parentNode.insertBefore(n,a),ga("create",this.options.ga_property_id,"auto"),ga("set","anonymizeIp",!0)},_initAnalytics:function(){if(null!==this.options.ga_property_id){this._initGoogleAnalytics(),ga("send","pageview");var t=this.options.track_events;for(i=0;i<t.length;i++){var e=t[i];this.addEventListener(e,function(t){ga("send","event",t.type,"clicked")})}}},_onZoomToggle:function(t){"in"==t.zoom?this._menubar.toogleZoomIn(t.show):"out"==t.zoom&&this._menubar.toogleZoomOut(t.show)},_getEventIndex:function(t){for(var e=0;e<this.config.events.length;e++)if(t==this.config.events[e].unique_id)return e;return-1},_getSlideIndex:function(t){if(this.config.title&&this.config.title.unique_id==t)return 0;for(var e=0;e<this.config.events.length;e++)if(t==this.config.events[e].unique_id)return this.config.title?e+1:e;return-1},_onDataLoaded:function(){this.fire("dataloaded"),this._initLayout(),this._initEvents(),this._initAnalytics(),this.message&&this.message.hide(),this.ready=!0},showMessage:function(t){this.message?this.message.updateMessage(t):(trace("No message display available."),trace(t))},_onColorChange:function(t){this.fire("color_change",{unique_id:this.current_id},this)},_onSlideChange:function(t){this.current_id!=t.unique_id&&(this.current_id=t.unique_id,this._timenav.goToId(this.current_id),this._onChange(t))},_onTimeNavChange:function(t){this.current_id!=t.unique_id&&(this.current_id=t.unique_id,this._storyslider.goToId(this.current_id),this._onChange(t))},_onChange:function(){this.fire("change",{unique_id:this.current_id},this),this.options.hash_bookmark&&this.current_id&&this._updateHashBookmark(this.current_id)},_onBackToStart:function(){this._storyslider.goTo(0),this.fire("back_to_start",{unique_id:this.current_id},this)},zoomIn:function(){this._timenav.zoomIn()},zoomOut:function(){this._timenav.zoomOut()},setZoom:function(t){this._timenav.setZoom(t)},_onZoomIn:function(){this._timenav.zoomIn(),this.fire("zoom_in",{zoom_level:this._timenav.options.scale_factor},this)},_onZoomOut:function(){this._timenav.zoomOut(),this.fire("zoom_out",{zoom_level:this._timenav.options.scale_factor},this)},_onTimeNavLoaded:function(){this._loaded.timenav=!0,this._onLoaded()},_onStorySliderLoaded:function(){this._loaded.storyslider=!0,this._onLoaded()},_onStorySliderNext:function(t){this.fire("nav_next",t)},_onStorySliderPrevious:function(t){this.fire("nav_previous",t)},_onLoaded:function(){this._loaded.storyslider&&this._loaded.timenav&&(this.fire("loaded",this.config),this.options.hash_bookmark&&""!=window.location.hash?this.goToId(window.location.hash.replace("#event-","")):(TL.Util.isTrue(this.options.start_at_end)||this.options.start_at_slide>this.config.events.length?this.goToEnd():this.goTo(this.options.start_at_slide),this.options.hash_bookmark&&this._updateHashBookmark(this.current_id)))}}),TL.Timeline.source_path=function(){var t=document.getElementsByTagName("script"),e=t[t.length-1].src;return e.substr(0,e.lastIndexOf("/"))}();